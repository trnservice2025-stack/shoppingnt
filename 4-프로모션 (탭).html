<script class="hidden" type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<header class="fake_head">헤더</header><div class="fake_div"></div>
<div class="promotion_con">
    <div class="promotion_con_mo"><div style="position:relative;">
        <div style="text-align:center; font-size:20px; padding:150px 0;">컨텐츠 타이틀</div>
    </div></div>
    <div class="promotion_tab_wrap">
      <div class="promotion_tab">
        <a href="#pro_tab1" class="tab1">1</a>
        <a href="#pro_tab2" class="tab2">2</a>
        <a href="#pro_tab3" class="tab3">3</a>
      </div>
    </div>
    <div id="pro_tab1" class="promotion_con_mo"><div>
        <div style="text-align:center; font-size:20px; padding:450px 0; background:red;">컨텐츠1</div>
    </div></div>
    <div id="pro_tab2" class="promotion_con_mo"><div>
        <div style="text-align:center; font-size:20px; padding:450px 0; background:blue;">컨텐츠2</div>
    </div></div>

    <div id="pro_tab3" class="promotion_con_mo"><div>
        <div style="text-align:center; font-size:20px; padding:450px 0; background:yellow;">컨텐츠3</div>    
    </div></div>    
</div>

<style>
    .fake_head {height:174px; width:100%; position:fixed; top:0; left:0; background:#ddd; z-index:997;}
    .fake_head.fixed {height:74px;}
    .fake_head .fake_div {height:174px;}
    .img-wrap .fake_head, .img-wrap .fake_div, .exhibi-detail-img-link .fake_head, .exhibi-detail-img-link .fake_div {display:none !important;}

    .promotion_con, .promotion_con-wrap * {line-height:initial;}
    .promotion_con {font-size:0; max-width:1200px; margin:0 auto;}
    .promotion_con img {width:100%; vertical-align:middle;}
    .promotion_con .w50 {width:50%; display:inline-block;}
    .promotion_con a {cursor:pointer;}
    .promotion_con a, .promotion_con img {background:none;}
    .promotion_con_mo {overflow:hidden;}
    
    .promotion_tab_wrap {position:sticky; top:74px; padding: 0 20%; z-index:3; overflow:hidden; background:#000;}
    .promotion_tab {margin:0 auto; display:table; width:100%; text-align:center; table-layout: fixed; z-index:998; min-height:99px;}
    .promotion_tab a {position:relative; height:150px; display:table-cell; vertical-align:middle; font-weight:700; flex:1; text-decoration:none; text-indent:-9999px; background-repeat:no-repeat; background-position:center; z-index:2;}
    .promotion_tab a:nth-child(2):after, .promotion_tab a:nth-child(2):before {background:#4e4e4e; width:1px; height:100%; position:absolute; top:0; display:block; content:"";}
    .promotion_tab a:nth-child(2):after {left:0px; }
    .promotion_tab a:nth-child(2):before {right:0px; }
    .promotion_tab a img {width:auto; display:inline-block; max-width:100%;}    

    .promotion_tab a.tab1 {background-image:url("https://img.shoppingntmall.com/htmleditor/371/t11696572751612.png");}
    .promotion_tab a.tab2 {background-image:url("https://img.shoppingntmall.com/htmleditor/613/t21696572822063.png");}
    .promotion_tab a.tab3 {background-image:url("https://img.shoppingntmall.com/htmleditor/885/t31696572829628.png");}

    .promotion_tab a.on {background-color:orange;}
    .promotion_tab a.on:after, .promotion_tab a.on:before {display:none;}

    @media screen and (max-width:1200px) {
        .promotion_tab_wrap {padding:0;}
    }

    @media screen and (max-width:720px) {        
        .promotion_con_mo>div {margin:0 -33.33%;}

        .fake_head {height:100px;}
        .fake_head.fixed {height:50px;}
        .fake_head .fake_div {height:100px;}

        .promotion_tab_wrap {top:49px;}
        .promotion_tab {min-height:57px;}
        .promotion_tab a {height:80px; background-size:auto 125% !important;}
    }
</style>
<script>
    $(function() {
        //탭
        $('.promotion_tab a').click(function() {
            var target = $($.attr(this, 'href'));
            $("html, body").stop().animate({
                scrollTop: target.offset().top - $("header").height() - $(".promotion_tab").height() + 1
            }, 500);
            return false;
        });

        $(window).scroll(function() {
            var $hheight = $("header").height(),
                $theight = $(".promotion_tab").height();    

            $('.fake_head').toggleClass('fixed', $(document).scrollTop() > 30);
            if ($(document).scrollTop() <= $("#pro_tab1").offset().top - $theight - $hheight) $('.promotion_tab a').removeClass('on');

            tabgo();

            $('.promotion_tab_wrap').css("top", $hheight - 1);

            function tabgo() {
                $('.promotion_tab a').each(function() {
                    var $target = $('#' + $(this).attr('href').substring(1));
                    if ($target.length && $(window).scrollTop() + $hheight + $theight + 1 > $target.offset().top) {
                        $('.promotion_tab a').filter('.on').removeClass('on');
                        $(this).addClass('on');
                    }
                });
            }
        });
    });
</script>