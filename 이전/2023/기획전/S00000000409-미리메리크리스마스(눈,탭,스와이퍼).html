<script class="hidden" type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script class="hidden" type="text/javascript" src="https://www.shoppingntmall.com/assets/js/swiper.min.js"></script>
<link class="hidden" rel="stylesheet" href="https://www.shoppingntmall.com/assets/css/swiper.css">
<header class="fake_head" style="">헤더</header><div class="fake_div" style="height:174px;"></div>

<div class="promotion_wrap">
  <div class="promotion_con">
    <div id="pro_tab0" class="pro_intro">
      <div>
        <img src="https://img.shoppingntmall.com/htmleditor/221/pc_011670561315428.jpg">
      </div>
    </div>

    <div class="promotion_tab_wrap">
      <div class="promotion_tab">
        <a href="#pro_tab1" class="tab1">먼저만나보기</a>
        <a href="#pro_tab2" class="tab2">상품모두보기</a>
      </div>
    </div>

    <!-- 쿠폰 영역 -->
    <div class="pro_intro">
      <div>
        <a href="/customer/provide-coupon-multi?couponNo=202212095197:202212095199:202212095200:202212095201:202212095202&rUrl=/plan/planshop/swipeDetail/S00000000409">
          <img src="https://img.shoppingntmall.com/htmleditor/378/pc_031670561325661.jpg">
        </a>
      </div>
    </div>
    <div class="toggle_wrap">
      <input class="toggle_input" id="toggle_input" type="checkbox">
      <label class="toggle_btn" for="toggle_input">유의사항</label>
      <ul class="toggle_con">
        <li>쿠폰은 “쿠폰 한번에 다운받기” 를 클릭하여 지급 받거나 해당 기획전의 상품 구매 시, 상단 쿠폰을 다운 받은 후 사용 가능합니다.</li>
        <li>기획전 내 일부 상품에 한해 쿠폰 적용 가능하며, 다른 쿠폰 보유 및 적용 여부에 따라 최종 결제금액은 상이해 질 수 있습니다.</li>
        <li>해당 쿠폰은 12/12(월) 10:00:00 부터 12/19(월) 09:59:59 까지 발급 및 사용 가능합니다.</li>
        <li>해당 쿠폰은 무제한으로 발급 가능하며, 발급 받은 쿠폰 사용 후에 재발급 가능합니다.</li>
        <li>5% 쿠폰은 최대 2만원, 10% 쿠폰은 최대 4만원, 15% 쿠폰은 최대 8만원, 20% 쿠폰은 최대 10만원까지 사용가능합니다.</li>
        <li>해당 쿠폰은 쇼핑엔티 PC web, 모바일 web/APP에서 사용 가능합니다.</li>
        <li>해당 쿠폰은 장바구니 단위로 적용되지 않으며, 개별 상품 단위로 적용 가능합니다.</li>
        <li>쿠폰은 중복하여 사용하실 수 없습니다.</li>
        <li>비회원은 쿠폰 지급 대상에서 제외됩니다. (회원가입 필수)</li>
        <li>동일 상품을 여러 개 구매하실 경우, 최대 10개까지 쿠폰 적용이 가능합니다.</li>
        <li>본 기획전은 당사 사정에 의해 변경 또는 조기 종료될 수 있습니다.</li>
      </ul>
    </div>
    <div id="pro_tab1">
      <div class="pday1">
        <div class="promotion_nature bg1">
          <img src="https://img.shoppingntmall.com/htmleditor/259/ttt11670562002993.png">
          <div class="swiper_pro_wrap">
            <div class="swiper swiper_pro">
              <div class="swiper-wrapper">
                <a href="/display/goods/10311714" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/294/11670562787124.png"></a>
                <a href="/display/goods/12189719" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/209/21670562798371.png"></a>
                <a href="/display/goods/10372904" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/913/31670562808010.png"></a>
                <a href="/display/goods/12137845" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/903/41670562813320.png"></a>
                <a href="/display/goods/12060623" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/785/51670562819926.png"></a>
                <a href="#1" class="zzzz1 swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/846/t1670562826910.png"></a>
              </div>
              <div class="swiper_pro_bottom">
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="promotion_nature bg2">
          <img src="https://img.shoppingntmall.com/htmleditor/036/ttt21670562015876.png">
          <div class="swiper_pro_wrap">
            <div class="swiper swiper_pro">
              <div class="swiper-wrapper">
                <a href="/display/goods/12155382" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/699/11670562874865.png"></a>
                <a href="/display/goods/12141947" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/161/21670562880624.png"></a>
                <a href="/display/goods/11953083" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/855/31670562886083.png"></a>
                <a href="/display/goods/11732261" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/535/41670562891748.png"></a>
                <a href="/display/goods/12144476" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/570/51670562897078.png"></a>
                <a href="#2" class="zzzz2 swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/113/t1670562903861.png"></a>
              </div>
              <div class="swiper_pro_bottom">
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="promotion_nature bg3">
          <img src="https://img.shoppingntmall.com/htmleditor/399/ttt41670562030899.png">
          <div class="swiper_pro_wrap">
            <div class="swiper swiper_pro">
              <div class="swiper-wrapper">
                <a href="/display/goods/11733078" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/718/21670573980276.png"></a>
                <a href="/display/goods/12314457" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/580/31670562949722.png"></a>
                <a href="/display/goods/12339416" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/941/41670562955041.png"></a>
                <a href="/display/goods/12144325" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/512/51670562961775.png"></a>
                <a href="#3" class="zzzz3 swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/765/t1670562969080.png"></a>
              </div>
              <div class="swiper_pro_bottom">
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="pday2">
        <div class="promotion_nature bg1">
          <img src="https://img.shoppingntmall.com/htmleditor/259/ttt11670562002993.png">
          <div class="swiper_pro_wrap">
            <div class="swiper swiper_pro">
              <div class="swiper-wrapper">
                <a href="/display/goods/12281429" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/903/11670562267522.png"></a>
                <a href="/display/goods/10803580" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/338/21670562288106.png"></a>
                <a href="/display/goods/10940181" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/896/31670562293471.png"></a>
                <a href="/display/goods/10407096" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/838/41670562299243.png"></a>
                <a href="/display/goods/12248494" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/087/122484941671066802055.png"></a>
                <a href="#1" class="zzzz1 swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/282/t1670562313218.png"></a>
              </div>
              <div class="swiper_pro_bottom">
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="promotion_nature bg2">
          <img src="https://img.shoppingntmall.com/htmleditor/036/ttt21670562015876.png">
          <div class="swiper_pro_wrap">
            <div class="swiper swiper_pro">
              <div class="swiper-wrapper">
                <a href="/display/goods/12137860" class="swiper-slide"><img src=" "></a>
                <a href="/display/goods/12334992" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/009/21670562610361.png"></a>
                <a href="/display/goods/12030370" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/715/31670562615787.png"></a>
                <a href="/display/goods/11945992" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/747/41670562621345.png"></a>
                <a href="/display/goods/12144324" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/486/51670562626950.png"></a>
                <a href="#2" class="zzzz2 swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/196/t1670562633044.png"></a>
              </div>
              <div class="swiper_pro_bottom">
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="promotion_nature bg3">
          <img src="https://img.shoppingntmall.com/htmleditor/399/ttt41670562030899.png">
          <div class="swiper_pro_wrap">
            <div class="swiper swiper_pro">
              <div class="swiper-wrapper">
                <a href="/display/goods/12152841" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/464/11670562717366.png"></a>
                <a href="/display/goods/10413390" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/456/21670562723839.png"></a>
                <a href="/display/goods/11650324" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/220/31670562729261.png"></a>
                <a href="/display/goods/11966534" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/543/119665341671070242438.png"></a>
                <a href="/display/goods/12147727" class="swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/547/51670562740717.png"></a>
                <a href="#3" class="zzzz3 swiper-slide"><img src="https://img.shoppingntmall.com/htmleditor/245/t1670562747094.png"></a>
              </div>
              <div class="swiper_pro_bottom">
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div id="pro_tab2"></div>
</div>

<style>
  .fake_head {height:174px; width:100%; position:fixed; top:0; left:0; background:#fff; z-index:997;}
  .fake_head.fixed {height:74px;}
  .img-wrap .fake_head, .img-wrap .fake_div, .exhibi-detail-img-link .fake_head, .exhibi-detail-img-link .fake_div {display:none !important;}

  .promotion_wrap {position:relative; max-width:1200px; margin:0 auto;}
  .promotion_con {font-size:0;}
  .promotion_con .w50 {display:inline-block; width:50%;}
  .promotion_con img {width:100%; display:inline-block;}
  .promotion_con a {background:none;}

  .promotion_tab_wrap {position:sticky; top:74px; padding: 0 20%; z-index:2; overflow:hidden;}
  .promotion_tab {margin:0 auto; display:table; width:100%; text-align:center; table-layout: fixed; z-index:998; min-height:99px;}
  .promotion_tab a {height:145px; display:table-cell; vertical-align:middle; border-right:1px solid; font-weight:700; flex:1; text-decoration:none; text-indent:-9999px; background-repeat:no-repeat; background-position:center;}
  .promotion_tab a:last-child {border-right:0 !important;}
  .promotion_tab a img {width:auto; display:inline-block; max-width:100%;}

  .promotion_tab_wrap, .promotion_tab, .promotion_tab a {border-color:#d65c4d; background-color:#cf4636;}
  .promotion_tab a.on {background-color:#cf4636;}
  .promotion_tab a.tab1 {background-image:url("https://img.shoppingntmall.com/htmleditor/232/t11670561469852.png");}
  .promotion_tab a.tab2 {background-image:url("https://img.shoppingntmall.com/htmleditor/359/t21670561478146.png");}

  .promotion_tab a.tab1.on {background-image:url("https://img.shoppingntmall.com/htmleditor/347/ot11670561445879.png");}
  .promotion_tab a.tab2.on {background-image:url("https://img.shoppingntmall.com/htmleditor/615/ot21670561460463.png");}

  .promotion_nature {text-align:center;}
  .promotion_nature img {display:inline-block; width:auto; max-width:100%;}

  .promotion_nature.bg0 {background:#f3f3f3;}
  .promotion_nature.bg1 {background:url("https://img.shoppingntmall.com/htmleditor/084/bg11670561657978.png"); background-size:cover;}
  .promotion_nature.bg2 {background:url("https://img.shoppingntmall.com/htmleditor/313/bg21670561673191.png"); background-size:cover;}
  .promotion_nature.bg3 {background:url("https://img.shoppingntmall.com/htmleditor/649/bg31670562102962.png"); background-size:cover;}

  .toggle_wrap {padding:30px; background:#fafafa;}
  .toggle_btn {font-size:15px; height:60px; line-height:60px; font-weight:700; text-align:center; display:block; cursor:pointer; max-width:700px; margin:0 auto;}
	.toggle_btn:after {width:6px; height:6px; border-style:solid; border-width:1px 1px 0 0; margin:-7px 0 0 10px; vertical-align:middle; transform:rotate(135deg); content:''; display:inline-block; }
  .toggle_con {display:none; padding:0 20px 10px 20px; font-size:14px; line-height:22px; list-style:none; word-break:keep-all; max-width:700px; margin:0 auto; box-sizing:inherit;}
  .toggle_con:after, .toggle_con:before {box-sizing:inherit;}
  .toggle_con li {padding-left:7px; position:relative; margin-bottom:8px;}
  .toggle_con li:after {content:"\00B7"; position:absolute; left:0; top:0; }
  .toggle_input {position:fixed; left:-9999px;}
  .toggle_input:checked ~ .toggle_con {display:block;}
  .toggle_input:checked ~ .toggle_btn:after {transform:rotate(315deg); margin-top:0;}

  .toggle_btn {background:#eeeeee; color:#333;}
  .toggle_btn:after {border-color:##333;}
  .toggle_con {background:#eeeeee; color:#999;}

  .dday_wrap {position:relative; overflow:hidden;}
  .dday_wrap>img {max-width:100%;}
  .dday {font-size:50px; margin:-20px 0 0 75px; position:absolute; width:100%; left:50%; bottom:25%; transform:translateX(-50%); text-align:center; color:#353535 !important; font-weight:700; display:inline-block; vertical-align:top;}
  .dday i {font-style:normal;}
  .dday_sub {width:235px; display:inline-block; text-align:left;}

  .swiper_pro_wrap {overflow:hidden;}
  .swiper_pro {overflow:hidden; z-index:1; padding:0 0 40px 0; margin:0 0; position:relative; margin:0 -4%;}
  .swiper_pro .swiper-wrapper {height:auto; }
  .swiper_pro .swiper-slide img {width:100%;
    -webkit-transition:all 0.4s; -moz-transition:all 0.4s; -ms-transition:all 0.4s; -o-transition:all 0.4s; transition:all 0.4s;
  }
  .swiper_pro {margin:0 -18%;}
  .swiper_pro .swiper-slide.swiper-slide-active img {transform: scale(1); opacity:1;}
  .swiper_pro_bottom {position:relative; margin-top:25px; color:#fff;}
  .swiper_pro_bottom .swiper-pagination-fraction,
  .swiper_pro_bottom .swiper-button-next,
  .swiper_pro_bottom .swiper-button-prev {display:inline-block; vertical-align:middle; top:0; left:0; bottom:0; right:0; position:relative; border:0; border-radius:0;}
  .swiper_pro_bottom .swiper-pagination-fraction {width:auto; font-size:18px; width:100px; margin-top:-15px;}
  .swiper_pro_bottom .swiper-button-next, .swiper_pro_bottom .swiper-button-prev {width:12px; height:12px; background:none;}
  .swiper_pro_bottom .swiper-button-next:after, .swiper_pro_bottom .swiper-button-next:before,
  .swiper_pro_bottom .swiper-button-prev:after, .swiper_pro_bottom .swiper-button-prev:before {content:""; display:block; height:2px; width:14px; background:#fff; position:absolute; top:unset; bottom:unset; right:unset; left:unset;}
  .swiper_pro_bottom .swiper-button-next:after {transform:rotate(-45deg); bottom:0; right:0;}
  .swiper_pro_bottom .swiper-button-next:before {transform:rotate(45deg); top:0; right:0;}
  .swiper_pro_bottom .swiper-button-prev:after {transform:rotate(-135deg); bottom:0; left:0;}
  .swiper_pro_bottom .swiper-button-prev:before {transform:rotate(135deg); top:0; left:0;}

  @media screen and (max-width:1200px) {
    .promotion_tab_wrap {padding: 0 0;}
  }

  @media screen and (max-width:720px) {

    .fake_head {height:100px;}
    .fake_head.fixed {height:50px;}

    .pro_intro {overflow:hidden;}
    .pro_intro>div {margin:0 -33.33%;}

    .promotion_tab_wrap {top:49px; padding:0;}
    .promotion_tab {min-height:57px;}
    .promotion_tab a.tab1, .promotion_tab a.tab2, .promotion_tab a.tab3, .promotion_tab a.tab4 {background-size:auto 125%;}
    .promotion_tab a {height:70px;}
    .promotion_tab a.tab1.on:after, .promotion_tab a.tab2.on:after {display:none;}

    .toggle_btn {font-size:14px; height:42px; line-height:42px;}
  	.toggle_btn:after {width:6px; height:6px; margin:-7px 0 0 6px;}
    .toggle_wrap {padding:15px;}
  	.toggle_con {padding:0 15px 10px 15px; font-size:13px; line-height:20px;}
    .toggle_con li {padding-left:6px;}

    .dday {margin:-2vw 0 0 9.8vw; font-size:6.5vw;}
    .dday_sub {width:33vw;}

    .swiper_pro {overflow:hidden; z-index:1; padding:0 0 20px 0; margin:0 -62%; position:relative;}
    .swiper_pro_bottom .swiper-pagination-fraction {margin-top:0;}

  }
</style>

<script>

  $(function(){
    $('.img-wrap .fake_head, .img-wrap .fake_div, .exhibi-detail-img-link .fake_head, .exhibi-detail-img-link .fake_div, .img-wrap .hidden, .exhibi-detail-img-link .hidden').remove();

    var headh = $("header").height();
    var tabh = $(".promotion_tab").height();
    var proffset = $("#pro_tab1").offset();

    $('.promotion_tab_wrap').css("top",headh);

    $(window).scroll(function(){
      var headh = $("header").height();
      var tabh = $(".promotion_tab").height();

      //삭제해도 되는 스크립트
      if ($(document).scrollTop() > 30) { 
  		  $('.fake_head').addClass('fixed');
    	} else {
        $('.fake_head').removeClass('fixed');
      }
      if ($(document).scrollTop() > proffset.top - tabh - headh === false) {
        $('.promotion_tab').children("a").removeClass('on');
      }

      //탭 고정 위치
      $('.promotion_tab_wrap').css("top",headh);

      //클릭시 해당 영역
      $('.promotion_tab a').click(function(){
        $("html, body").stop().animate({scrollTop: $($.attr(this, 'href')).offset().top - headh - tabh + 1}, 500);
        return false;
      });

      //PC 클릭시 해당 영역
      // $('.zzzz1').click(function(){
      //   $("html, body").stop().animate({scrollTop: $('.content>div>div:nth-child(2)').offset().top - 75}, 500);
      //   return false;
      // });
      // $('.zzzz2').click(function(){
      //   $("html, body").stop().animate({scrollTop: $('.content>div>div:nth-child(3)').offset().top - 75}, 500);
      //   return false;
      // });
      // $('.zzzz3').click(function(){
      //   $("html, body").stop().animate({scrollTop: $('.content>div>div:nth-child(4)').offset().top - 75}, 500);
      //   return false;
      // });

      //MO 클릭시 해당 영역
      $('.zzzz1').click(function(){
        $("html, body").stop().animate({scrollTop: $('.cont1>section:nth-child(5)').offset().top - 100}, 500);
        return false;
      });
      $('.zzzz2').click(function(){
        $("html, body").stop().animate({scrollTop: $('.cont1>section:nth-child(6)').offset().top - 100}, 500);
        return false;
      });
      $('.zzzz3').click(function(){
        $("html, body").stop().animate({scrollTop: $('.cont1>section:nth-child(7)').offset().top - 100}, 500);
        return false;
      });

      var pos = $(window).scrollTop();
      var pos2 = pos + headh + tabh + 1;
      var scrollBottom = pos + $(window).height();
      if (pos2 > $('#pro_tab1').offset().top) {highlightLink('pro_tab1');}
      if (pos2 > $('#pro_tab2').offset().top) {highlightLink('pro_tab2');}
      if (pos2 > $('#pro_tab3').offset().top) {highlightLink('pro_tab3');}
    });

    function highlightLink(anchor){
      $('.promotion_tab .on').removeClass('on');
      $(".promotion_tab").find('[href="#' + anchor + '"]').addClass('on');
    }

    //페이지 로드시 스크롤 살짝
    var _scrollTop = window.scrollY || document.documentElement.scrollTop;
    $('html, body').animate({scrollTop: _scrollTop + 1}, '0');

  });

  //스와이퍼 슬라이드 랜덤
  function return_index(div_elmt) {
    // swiper-slide 클래스 선언한 요소(div태그가 아닌 경우엔 해당 태그로) 갯수를 length로 카운트하고 math.random()으로 난수화
    var r_index = Math.floor( Math.random() * ($('div.' + div_elmt + ' .swiper-slide:not(.swiper-slide-duplicate)').length) );
    return parseInt(r_index);
  }

  var swiperzzzz = new Swiper(".swiper_pro", {
    loop: true,
    // centeredSlides: true,

    //MO
    // slidesPerView: 3,
    // spaceBetween: -20,

    //PC
    slidesPerView: 5,
    spaceBetween: -20,

    pagination: {
      el: ".swiper-pagination",
      type: "fraction",
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    //initialSlide : return_index("swiper_pro") //스와이퍼 슬라이드 랜덤
  });

  var Now = new Date(); //현재 날짜 및 시간
  var nowY = Now.getFullYear(); //년
  var nowM = Now.getMonth() + 1; //월
  var nowD = Now.getDate(); //일
  var nowH = Now.getHours(); //시
  var nowB = Now.getMinutes(); //분
   
  function pluszero(time){
    var time = time.toString(); // 시간을 숫자에서 문자로 바꿈
    if(time.length < 2){ //2자리 보다 작으면
      time = '0' + time; //숫자앞 0 붙임
      return time; //값 내보냄
    }else{
      return time; //2자리면 값 내보냄
    }
  }

  //만든 함수 적용 
  nowM = pluszero(nowM); 
  nowD = pluszero(nowD);
  nowH = pluszero(nowH);
  nowB = pluszero(nowB);
   
  var nowT = nowY + nowM + nowD + nowH + nowB; // 월+일+시+분

  if(202211151000 <= nowT ){ $(".dday.end, .pday2").hide();}
  if(202212151000 <= nowT ){ $(".pday1").hide(); $(".pday2").show();}
  if(202212191000 <= nowT ){ $(".dday").hide(); $(".dday.end").show();}
</script>
<script type="text/javascript">
  if (!Date.now)
    Date.now = function() { return new Date().getTime(); };

(function() {
    'use strict';

    var vendors = ['webkit', 'moz'];
    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {
        var vp = vendors[i];
        window.requestAnimationFrame = window[vp+'RequestAnimationFrame'];
        window.cancelAnimationFrame = (window[vp+'CancelAnimationFrame']
                                   || window[vp+'CancelRequestAnimationFrame']);
    }
    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) // iOS6 is buggy
        || !window.requestAnimationFrame || !window.cancelAnimationFrame) {
        var lastTime = 0;
        window.requestAnimationFrame = function(callback) {
            var now = Date.now();
            var nextTime = Math.max(lastTime + 16, now);
            return setTimeout(function() { callback(lastTime = nextTime); },
                              nextTime - now);
        };
        window.cancelAnimationFrame = clearTimeout;
    }
}());

(function($){
    $.snowfall = function(element, options){
        var flakes = [],
            defaults = {
                flakeCount : 35,
                flakeColor : '#ffffff',
				flakePosition: 'absolute',
                flakeIndex: 999999,
                minSize : 1,
                maxSize : 2,
                minSpeed : 1,
                maxSpeed : 5,
                round : false,
                shadow : false,
                collection : false,
                collectionHeight : 40,
                deviceorientation : false
            },
            options = $.extend(defaults, options),
            random = function random(min, max){
                return Math.round(min + Math.random()*(max-min));
            };

            $(element).data("snowfall", this);

            // Snow flake object
            function Flake(_x, _y, _size, _speed){
                // Flake properties
                this.x  = _x;
                this.y  = _y;
                this.size = _size;
                this.speed = _speed;
                this.step = 0;
                this.stepSize = random(1,10) / 100;

                if(options.collection){
                    this.target = canvasCollection[random(0,canvasCollection.length-1)];
                }

                var flakeMarkup = null;

                if(options.image){
                    flakeMarkup = document.createElement("img");
                    flakeMarkup.src = options.image;
                }else{
                    flakeMarkup = document.createElement("div");
                    $(flakeMarkup).css({'background' : options.flakeColor});
                }

                $(flakeMarkup).attr({
                    'class': 'snowfall-flakes',
                }).css({
                    'width' : this.size,
                    'height' : this.size,
                    'position' : options.flakePosition,
                    'top' : this.y,
                    'left' : this.x,
                    'fontSize' : 0,
                    'zIndex' : options.flakeIndex
                });

                if($(element).get(0).tagName === $(document).get(0).tagName){
                    $('body').append($(flakeMarkup));
                    element = $('body');
                }else{
                    $(element).append($(flakeMarkup));
                }

                this.element = flakeMarkup;

                // Update function, used to update the snow flakes, and checks current snowflake against bounds
                this.update = function(){
                    this.y += this.speed;

                    if(this.y > (elHeight) - (this.size  + 6)){
                        this.reset();
                    }

                    this.element.style.top = this.y + 'px';
                    this.element.style.left = this.x + 'px';

                    this.step += this.stepSize;

                    if (doRatio === false) {
                        this.x += Math.cos(this.step);
                    } else {
                        this.x += (doRatio + Math.cos(this.step));
                    }

                    // Pileup check
                    if(options.collection){
                        if(this.x > this.target.x && this.x < this.target.width + this.target.x && this.y > this.target.y && this.y < this.target.height + this.target.y){
                            var ctx = this.target.element.getContext("2d"),
                                curX = this.x - this.target.x,
                                curY = this.y - this.target.y,
                                colData = this.target.colData;

                                if(colData[parseInt(curX)][parseInt(curY+this.speed+this.size)] !== undefined || curY+this.speed+this.size > this.target.height){
                                    if(curY+this.speed+this.size > this.target.height){
                                        while(curY+this.speed+this.size > this.target.height && this.speed > 0){
                                            this.speed *= .5;
                                        }

                                        ctx.fillStyle = defaults.flakeColor;

                                        if(colData[parseInt(curX)][parseInt(curY+this.speed+this.size)] == undefined){
                                            colData[parseInt(curX)][parseInt(curY+this.speed+this.size)] = 1;
                                            ctx.fillRect(curX, (curY)+this.speed+this.size, this.size, this.size);
                                        }else{
                                            colData[parseInt(curX)][parseInt(curY+this.speed)] = 1;
                                            ctx.fillRect(curX, curY+this.speed, this.size, this.size);
                                        }
                                        this.reset();
                                    }else{
                                        // flow to the sides
                                        this.speed = 1;
                                        this.stepSize = 0;

                                        if(parseInt(curX)+1 < this.target.width && colData[parseInt(curX)+1][parseInt(curY)+1] == undefined ){
                                            // go left
                                            this.x++;
                                        }else if(parseInt(curX)-1 > 0 && colData[parseInt(curX)-1][parseInt(curY)+1] == undefined ){
                                            // go right
                                            this.x--;
                                        }else{
                                            //stop
                                            ctx.fillStyle = defaults.flakeColor;
                                            ctx.fillRect(curX, curY, this.size, this.size);
                                            colData[parseInt(curX)][parseInt(curY)] = 1;
                                            this.reset();
                                        }
                                    }
                                }
                        }
                    }

                    if(this.x + this.size > (elWidth) - widthOffset || this.x < widthOffset){
                        this.reset();
                    }
                }

                // Resets the snowflake once it reaches one of the bounds set
                this.reset = function(){
                    this.y = 0;
                    this.x = random(widthOffset, elWidth - widthOffset);
                    this.stepSize = random(1,10) / 100;
                    this.size = random((options.minSize * 100), (options.maxSize * 100)) / 100;
                    this.element.style.width = this.size + 'px';
                    this.element.style.height = this.size + 'px';
                    this.speed = random(options.minSpeed, options.maxSpeed);
                }
            }

            // local vars
            var i = 0,
                elHeight = $(element).height(),
                elWidth = $(element).width(),
                widthOffset = 0,
                snowTimeout = 0;

            // Collection Piece ******************************
            if(options.collection !== false){
                var testElem = document.createElement('canvas');
                if(!!(testElem.getContext && testElem.getContext('2d'))){
                    var canvasCollection = [],
                        elements = $(options.collection),
                        collectionHeight = options.collectionHeight;

                    for(var i =0; i < elements.length; i++){
                            var bounds = elements[i].getBoundingClientRect(),
                                $canvas = $('<canvas/>',
                                    {
                                        'class' : 'snowfall-canvas'
                                    }),
                                collisionData = [];

                            if(bounds.top-collectionHeight > 0){
                                $('body').append($canvas);

                                $canvas.css({
                                    'position' : options.flakePosition,
                                    'left'     : bounds.left + 'px',
                                    'top'      : bounds.top-collectionHeight + 'px'
                                })
                                .prop({
                                    width: bounds.width,
                                    height: collectionHeight
                                });

                                for(var w = 0; w < bounds.width; w++){
                                    collisionData[w] = [];
                                }

                                canvasCollection.push({
                                    element : $canvas.get(0),
                                    x : bounds.left,
                                    y : bounds.top-collectionHeight,
                                    width : bounds.width,
                                    height: collectionHeight,
                                    colData : collisionData
                                });
                            }
                    }
                }else{
                    // Canvas element isnt supported
                    options.collection = false;
                }
            }
            // ************************************************

            // This will reduce the horizontal scroll bar from displaying, when the effect is applied to the whole page
            if($(element).get(0).tagName === $(document).get(0).tagName){
                widthOffset = 25;
            }

            // Bind the window resize event so we can get the innerHeight again
            $(window).bind("resize", function(){
                elHeight = $(element)[0].clientHeight;
                elWidth = $(element)[0].offsetWidth;
            });


            // initialize the flakes
            for(i = 0; i < options.flakeCount; i+=1){
                flakes.push(new Flake(random(widthOffset,elWidth - widthOffset), random(0, elHeight), random((options.minSize * 100), (options.maxSize * 100)) / 100, random(options.minSpeed, options.maxSpeed)));
            }

            // This adds the style to make the snowflakes round via border radius property
            if(options.round){
                $('.snowfall-flakes').css({'-moz-border-radius' : options.maxSize, '-webkit-border-radius' : options.maxSize, 'border-radius' : options.maxSize});
            }

            // This adds shadows just below the snowflake so they pop a bit on lighter colored web pages
            if(options.shadow){
                $('.snowfall-flakes').css({'-moz-box-shadow' : '1px 1px 1px #555', '-webkit-box-shadow' : '1px 1px 1px #555', 'box-shadow' : '1px 1px 1px #555'});
            }

            // On newer Macbooks Snowflakes will fall based on deviceorientation
            var doRatio = false;
            if (options.deviceorientation) {
                $(window).bind('deviceorientation', function(event) {
                    doRatio = event.originalEvent.gamma * 0.1;
                });
            }

            // this controls flow of the updating snow
            function snow(){
                for( i = 0; i < flakes.length; i += 1){
                    flakes[i].update();
                }

                snowTimeout = requestAnimationFrame(function(){snow()});
            }

            snow();

            // clears the snowflakes
            this.clear = function(){
                $('.snowfall-canvas').remove();
                $(element).children('.snowfall-flakes').remove();
                cancelAnimationFrame(snowTimeout);
            }
    };

    // Initialize the options and the plugin
    $.fn.snowfall = function(options){
        if(typeof(options) == "object" || options == undefined){
                 return this.each(function(i){
                    (new $.snowfall(this, options));
                });
        }else if (typeof(options) == "string") {
            return this.each(function(i){
                var snow = $(this).data('snowfall');
                if(snow){
                    snow.clear();
                }
            });
        }
    };
})(jQuery);
</script>
<script type="text/javascript">
  if (!Date.now)
    Date.now = function() { return new Date().getTime(); };

(function() {
    'use strict';

    var vendors = ['webkit', 'moz'];
    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {
        var vp = vendors[i];
        window.requestAnimationFrame = window[vp+'RequestAnimationFrame'];
        window.cancelAnimationFrame = (window[vp+'CancelAnimationFrame']
                                   || window[vp+'CancelRequestAnimationFrame']);
    }
    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) // iOS6 is buggy
        || !window.requestAnimationFrame || !window.cancelAnimationFrame) {
        var lastTime = 0;
        window.requestAnimationFrame = function(callback) {
            var now = Date.now();
            var nextTime = Math.max(lastTime + 16, now);
            return setTimeout(function() { callback(lastTime = nextTime); },
                              nextTime - now);
        };
        window.cancelAnimationFrame = clearTimeout;
    }
}());

var snowFall = (function(){
    function jSnow(){
        // local methods
        var defaults = {
                flakeCount : 35,
                flakeColor : '#ffffff',
                flakeIndex: 999999,
                flakePosition: 'absolute',
                minSize : 1,
                maxSize : 2,
                minSpeed : 1,
                maxSpeed : 5,
                round : false,
                shadow : false,
                collection : false,
                image : false,
                collectionHeight : 40
            },
            flakes = [],
            element = {},
            elHeight = 0,
            elWidth = 0,
            widthOffset = 0,
            snowTimeout = 0,
            // For extending the default object with properties
            extend = function(obj, extObj){
                for(var i in extObj){
                    if(obj.hasOwnProperty(i)){
                        obj[i] = extObj[i];
                    }
                }
            },
            // For setting CSS3 transform styles
            transform = function (el, styles){
                el.style.webkitTransform = styles;
                el.style.MozTransform = styles;
                el.style.msTransform = styles;
                el.style.OTransform = styles;
                el.style.transform = styles;
            },
            // random between range
            random = function random(min, max){
                return Math.round(min + Math.random()*(max-min));
            },
            // Set multiple styles at once.
            setStyle = function(element, props)
            {
                for (var property in props){
                    element.style[property] = props[property] + ((property == 'width' || property == 'height') ? 'px' : '');
                }
            },
            // snowflake
            flake = function(_el, _size, _speed)
            {
                // Flake properties
                this.x  = random(widthOffset, elWidth - widthOffset);
                this.y  = random(0, elHeight);
                this.size = _size;
                this.speed = _speed;
                this.step = 0;
                this.stepSize = random(1,10) / 100;

                if(defaults.collection){
                    this.target = canvasCollection[random(0,canvasCollection.length-1)];
                }

                var flakeObj = null;

                if(defaults.image){
                    flakeObj = new Image();
                    flakeObj.src = defaults.image;
                }else{
                    flakeObj = document.createElement('div');
                    setStyle(flakeObj, {'background' : defaults.flakeColor});
                }

                flakeObj.className = 'snowfall-flakes';
                setStyle(flakeObj, {'width' : this.size, 'height' : this.size, 'position' : defaults.flakePosition, 'top' : 0, 'left' : 0, 'will-change': 'transform', 'fontSize' : 0, 'zIndex' : defaults.flakeIndex});

                // This adds the style to make the snowflakes round via border radius property
                if(defaults.round){
                    setStyle(flakeObj,{'-moz-border-radius' : ~~(defaults.maxSize) + 'px', '-webkit-border-radius' : ~~(defaults.maxSize) + 'px', 'borderRadius' : ~~(defaults.maxSize) + 'px'});
                }

                // This adds shadows just below the snowflake so they pop a bit on lighter colored web pages
                if(defaults.shadow){
                    setStyle(flakeObj,{'-moz-box-shadow' : '1px 1px 1px #555', '-webkit-box-shadow' : '1px 1px 1px #555', 'boxShadow' : '1px 1px 1px #555'});
                }

                if(_el.tagName === document.body.tagName){
                    document.body.appendChild(flakeObj);
                }else{
                    _el.appendChild(flakeObj);
                }


                this.element = flakeObj;

                // Update function, used to update the snow flakes, and checks current snowflake against bounds
                this.update = function(){
                    this.y += this.speed;

                    if(this.y > elHeight - (this.size  + 6)){
                        this.reset();
                    }

                    transform(this.element, 'translateY('+this.y+'px) translateX('+this.x+'px)');

                    this.step += this.stepSize;
                    this.x += Math.cos(this.step);

                    if(this.x + this.size > elWidth - widthOffset || this.x < widthOffset){
                        this.reset();
                    }
                }

                // Resets the snowflake once it reaches one of the bounds set
                this.reset = function(){
                    this.y = 0;
                    this.x = random(widthOffset, elWidth - widthOffset);
                    this.stepSize = random(1,10) / 100;
                    this.size = random((defaults.minSize * 100), (defaults.maxSize * 100)) / 100;
                    this.element.style.width = this.size + 'px';
                    this.element.style.height = this.size + 'px';
                    this.speed = random(defaults.minSpeed, defaults.maxSpeed);
                }
            },
            // this controls flow of the updating snow
            animateSnow = function(){
                for(var i = 0; i < flakes.length; i += 1){
                    flakes[i].update();
                }
                snowTimeout = requestAnimationFrame(function(){animateSnow()});
            }
        return{
            snow : function(_element, _options){
                extend(defaults, _options);

                //init the element vars
                element = _element;
                elHeight = element.offsetHeight;
                elWidth = element.offsetWidth;

                element.snow = this;

                // if this is the body the offset is a little different
                if(element.tagName.toLowerCase() === 'body'){
                    widthOffset = 25;
                }

                // Bind the window resize event so we can get the innerHeight again
                window.addEventListener('resize', function(){
                    elHeight = element.clientHeight;
                    elWidth = element.offsetWidth;
                }, true);

                // initialize the flakes
                for(i = 0; i < defaults.flakeCount; i+=1){
                    flakes.push(new flake(element, random((defaults.minSize * 100), (defaults.maxSize * 100)) / 100, random(defaults.minSpeed, defaults.maxSpeed)));
                }
                // start the snow
                animateSnow();
            },
            clear : function(){
                var flakeChildren = null;

                if(!element.getElementsByClassName){
                    flakeChildren = element.querySelectorAll('.snowfall-flakes');
                }else{
                    flakeChildren = element.getElementsByClassName('snowfall-flakes');
                }

                var flakeChilLen = flakeChildren.length;
                while(flakeChilLen--){
                    if(flakeChildren[flakeChilLen].parentNode === element){
                        element.removeChild(flakeChildren[flakeChilLen]);
                    }
                }

                cancelAnimationFrame(snowTimeout);
            }
        }
    };
    return{
        snow : function(elements, options){
            if(typeof(options) == 'string'){
                if(elements.length > 0){
                    for(var i = 0; i < elements.length; i++){
                        if(elements[i].snow){
                            elements[i].snow.clear();
                        }
                    }
                }else{
                    elements.snow.clear();
                }
            }else{
                if(elements.length > 0){
                    for(var i = 0; i < elements.length; i++){
                        new jSnow().snow(elements[i], options);
                    }
                }else{
                    new jSnow().snow(elements, options);
                }
            }
        }
    }
})();
</script>
<script tyle="text/javascript">
    <!-- 페이지 호출 시 실행 -->
    $(".promotion_con").ready(function(){
        $(document).snowfall({
            image :"https://img.shoppingntmall.com/htmleditor/900/flake1670980559821.png",
            minSize: 3,
            maxSize:10,
            flakeCount : 120,
            minSpeed : 1,
            maxSpeed : 2,
        });
    });
</script>
