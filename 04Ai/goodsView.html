<!DOCTYPE html>
<html lang="ko" xml:lang="ko" class="pop-open">
<head><script>window.M2SPD='FgwcGBsZHQ5MXRVWCQgBHwxZTQkEQwBKQ1IAGwEfF1ZXQxweQRsWT0EMHgkbExgAAAAiHR4VTlZ1GE0eH01RUk0uGQQJSR0cAhEcBUAEARkATx8EQRMfBExLTBAIEhhOFEEGAAoAAAAAAAAAAAAAAAAAAAAAAAAAT1MuRE0WHxsDBhoHT1s3Tk8VBgtPAlEfChIASzNLTBgMGxUAQQILT1dVUQ0BERIFC0VUAB8UCUAMBhcZCEAXPA4CFwwaRVQAHxQJQAwKCAMCXBYbTUoeHAILQlYOEh8+Ww8KHk8UKBNNAgUFC0VUVgQMCzdaCx0CGEkbVUgdQhkdQDNUFgwFAgMLCgQKRgdSXgAIUhNFEykQTU4cXAwbAg5BH0pVUhgdGhcdVkFDCgNcDg4ZTxRRCRkZFktCRQgVAQ0ODU0ITVdPFRUJAxwSCA0MUwMIAxxOAkEbAQkMSUocGB8ZHg4AEwMVAQ1CD0EOAkNRFUNSHxkaEQcQCA5OVlVBGx8MQAALABQVG0xdTAwOBR5OAkEfHwJWCkpVUgAbAR8XVkFDCg1CDw0MDkUASlULUgwABgwYCENWGFwWCkFPTxAcBh8eS1RFCwYfDh5OAkEMAgNKGhwGHx4aTF01KRBNTgFPFwwFBEAUJAYDBEtUPBVWHhMPThRBMQQASV0bBx8AGQcJCRoZDA0AQk0MAgAMX0oLFQMdTF1MHQAGQh9GDB8dBEAUBhsdEQUCSQ0bAEMRMQJBAwwXVx8HDhRSUxVFCxoMAwAJDFkbHxhLX0oKCAQMAAM6FR8GCRgMWRsfGEtfSgYXHgYcAj0RAQQPGEERHE9XQAYEA1xSGRwCAhsMBU5WDA0AAwgMDkRNAB8aGgIcVlcaTglAAg0BCAxJHB0FFUVMEx1WV0NcQh5BQ08OQR4FDh4US1RFQRcMERgZXAZAGR4TQ0ZfSxYGHAoPAFAAGgVIQRJBT0gSBAMSEQoFRVRWT01OHFwMGwIOQR9KVVIYHRoXHVZBQxweSxAKGU8UUTcCAERbGQIMGU9NTgFLBwYMOVcDDU1KUh8HAwsbQhYJDkNYTw4CShYLHE0RH15WQERDUVkhAFNXT0EMBwQLUkpLHQ8BBB0IAgtAFwIMAUJdCwAdUhRCRR4GAhUJD1oBABlPFAhKAhUECExdFVYIDw0OQgZNVxlcBg1DUj8fCxUcHQkIAgttDgtPV0gSBBwVDUVMAwsACAIYThQYTRgeSwEpCBUeHUxdFVYIDw0OQgZNVxlcBg0SXFIKAQgFHQhDVhcMBgEMD0IWSlUEAhwLS0waDAwJThRBMABfXQMMMFJcSxoTAlZXUlxcU09NBx4MSRNNFR4IDAsLVlcVHhlLT00ODFoWDwACCUtUHEwcCAAIAEsQHE9XWgEdClxSDhwGHhwEAh9OFBcdGAgCUQkaFBkGTF0aBhgEQE5CDAwMAUtRUhsCBQxCRQ0bAgoFCQxZGx8YS19KBh4AHBpFVAAfFAlADBAWHhlLHkpVBAIcC0tMFR0ITlZaERoIEFMORE0WHAYZFExOFkMBDVoABwQDST8BHARSUzU6EwlBQx8ZTAkKDhkMSUoNFVIU'</script>
<script m2ps-uuid="IrJiuLr7VnoUDpNG" src="/pagespeed/fe/ks0t/c309507e-ee3d-41bf-9ae2-0e19ccf03126.js" type="text/javascript" charset="utf-8"></script>
<style>img[through='m2ps'] {min-height:1px;}</style>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  
  
  
  <meta name="naver-site-verification" content="ed59e7ff4888e20fcf50b6ead9060d75e0ea4b08" />
  <meta name="google-site-verification" content="eDz4v0X9Q8uohMD0tyAlp_-zNaYksYUmZV27uafJFD4" />
  <meta name="facebook-domain-verification" content="r78h9sx506s3hyuq2m6ejmu370hg53" />
  <meta name="google-site-verification" content="vxaAUJavXjM8t9AuRl-2kSAE-SRmbCAI2z8ecc-PJ_I" />
  
  
  
  <meta http-equiv="Cache-Control" content="no-cache"/>
  <meta http-equiv="Expires" content="0"/>
  <meta http-equiv="Pragma" content="no-cache"/>
  
  
  
  
  
  
  
    
      
        
        
        
        
        
        
          <title>25FW 아보크 클로그 윈터슈즈 2종 여성</title>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      
    
    
  
  
	<meta name="robots" content="index,follow"/>
	<meta name="referrer" contents="always"/>
	<meta name="format-detection" content="telephone=no"/>
	<meta name="X-CSRF-TOKEN" content="7e71ab5c-7130-4b76-a491-4aa8af09fd1d">
  <meta name="title" content="쇼핑엔티 모바일 쇼핑몰">
  <meta name="description" content="쇼핑의 새로운 트렌드 쇼핑엔티 모바일 쇼핑몰">
  <meta name="keywords" content="쇼핑엔티, ShoppingnT, 쇼핑엔티 홈쇼핑, TV쇼핑, 쇼핑엔딜, 패션, 식품, 주얼리, 가전">
  
    
      


   
 
    
    
    
      
      
            
      
     
    
    
    
    <meta property="og:title" content="[쇼핑몰 shoppingnt]" />
    <meta property="og:site_name" content="shoppingnt"/>
    <meta property="og:type" content="product"/>
    <meta property="og:url" content="https://www.shoppingntmall.com/display/goods/24760392"/>
    <meta property="og:description" content="25FW 아보크 클로그 윈터슈즈 2종 여성" />
    
    
    
      
      
        <meta property="og:image" content="https://img.shoppingntmall.com/goods/392/24760392_h.jpg"/>
      
    

    <meta property="fb:app_id" content=""/>
    
    <meta property="eg:type" content="product" />
    <meta property="eg:cuid" content="81e6109e-25a3-452d-8863-966af7a0f04b" />
    <meta property="eg:itemId" content="24760392" />
    <meta property="eg:itemName" content="25FW 아보크 클로그 윈터슈즈 2종 여성" />
    <meta property="eg:itemImage" content="https://img.shoppingntmall.com/goods/392/24760392_h.jpg" />
    <meta property="eg:itemUrl" content="https://www.shoppingntmall.com/display/goods/24760392" />
    <meta property="eg:originalPrice" content="29900" />
    <meta property="eg:salePrice" content="29900" />
    
    <meta property="eg:category1" content="90000350" />
    <meta property="eg:category2" content="90000353" />
    <meta property="eg:category3" content="" />
    <meta property="eg:category4" content="" />
    <meta property="eg:category5" content="01" />
    <meta property="eg:brandId" content="001239" />
    <meta property="eg:brandName" content="아보크" />
    <meta property="eg:regDate" content="2025/09/19 09:48:14" />
    <meta property="eg:updateDate" content="2025/12/26 12:47:43" />
    <meta property="eg:stock" content="2933" />
    <meta property="eg:state" content="available" />
    
    <meta property="eg:extraImage" content="Y" /> 
    <meta property="eg:locale" content="Y" /> 
    <meta property="eg:description" content="80/41" /> 
    <meta property="eg:etc1" content="N" /> 
    <meta property="eg:etc2" content="N" /> 
    <meta property="eg:etc3" content="N" /> 
    <meta property="eg:etc4" content="Y" /> 
    <meta property="eg:etc5" content="N" /> 
    <meta property="eg:etc6" content="N" /> 
    <meta property="eg:etc7" content="https://img.shoppingntmall.com/goods/392/24760392_l.jpg" /> 
    

    
    
  
  <link rel="apple-touch-icon-precomposed" href="https://m.shoppingntmall.com/moassets/images/common/favicon_ios.png"><!-- iOS계열 아이콘 -->
	<link rel="shortcut icon" href="https://m.shoppingntmall.com/moassets/images/common/favicon_ios.png">
  <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/jquery-ui.min.css?v=20250807">
	<link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/swiper.css?v=20250807">
  <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/m_swipe.css?v=20250807"> <!-- swiper 관련 추가 -->
	<link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/common.css?v=20250807">
  <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/sub.css?v=20250807">
  <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/video-js.css?v=20250807">
  
   
  
  
  <script type="text/javascript">
    var IMG_PATH = "https://img.shoppingntmall.com";
    var VOD_PATH = "https://vod.shoppingntmall.com";
    var LIVE_PATH = "https://live.shoppingntmall.com";
    var SERVER_TYPE = "prd";                          
    var ISLOGIN = 'Y';                
    var DEVICECD = '02';              
    var OSCD = '';                      
    var ISMEMBER = 'Y'               
    var SS_MEDIACODE = '';						            			
    var UTM_SOURCE = '';								            													
    var UTM_CAMPAIGN = '';						            
    var UTM_MEDIUM = '';								            
    var UTM_CONTENT = '';							            
    var stockChkGoods = "";                                     
    var siteDomain = "";									        
    var frontDomainMo = 'https://m.shoppingntmall.com';							        
    var prevPage = document.referrer;										        	
    var headerType = '04';	        
    var advtProcessOn = 'Y';    			
    var NOW_APP_VERSION = "";                   
    
    var appCardAuthUrl = "https://payment.tvhub.co.kr:488/APPCARD-AUTH/index.html#/";                   
  </script>
  











 





 
   
 
 
 


    



  
              
  
  








  <!-- Paste this code as high in the <head> of the page as possible -->
  <!-- Google Tag Manager 웹/앱 분리처리 -->
  <script>
    window.dataLayer = window.dataLayer || [];
    if(DEVICECD === "03"){
    dataLayer.push({'appName' : 'shoppingnt_app'});
    }else{
    dataLayer.push({'appName' : 'shoppingnt_web'});
    }
    
    
  
  var whatCheckPath = document.location.pathname;
  if( whatCheckPath == "/member/join/success" ){
      var gaTagingSaveCheck = "";
      if(gaTagingSaveCheck == "2"){
       dataLayer.push({'memberType' : 'kakaotalk'}); 
      }else if(gaTagingSaveCheck == "3"){
       dataLayer.push({'memberType' : 'naver'}); 
      }else if(gaTagingSaveCheck == "4"){
       dataLayer.push({'memberType' : 'apple'}); 
      }else if(gaTagingSaveCheck == "5"){
       dataLayer.push({'memberType' : 'ocb'}); 
      }else{
       dataLayer.push({'memberType' : 'shoppingnt'});
      }
  }
  
  
  
  var whatLoingCheck = "1";
  
  if( whatLoingCheck == "2" ){
  dataLayer.push({'loginType' : 'kakaotalk'});
  }else if (whatLoingCheck == "1"){
  dataLayer.push({'loginType' : 'shoppingnt'});
  }else if(whatLoingCheck == "3"){
  dataLayer.push({'loginType' : 'naver'}); 
  }else if(whatLoingCheck == "4"){
  dataLayer.push({'loginType' : 'apple'}); 
  }else if(whatLoingCheck == "5"){
  dataLayer.push({'loginType' : 'ocb'}); 
  }else{
  }
    
  </script>
  
  
<!-- Global site tag (gtag.js) - Google Ads: 10832462719 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-10832462719"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'AW-10832462719');
</script>
  
  <!-- Google Tag Manager 웹/앱 분리처리 -->
  
  
    
  
  
  
  <!--Naver Keyword Script Strat-->
  <script type="text/javascript" src= "//wcs.naver.net/wcslog.js" ></script>
  <script type="text/javascript">
      try{
          //A. AccountID 적용
          if(!wcs_add) var wcs_add={};
          wcs_add["wa"] = "s_1ffa5af2cb70";
          //B.유입추적함수
          if(!_nasa) var _nasa={};
          wcs.inflow();
          //C. 로그 수집 함수 호출
          wcs_do(_nasa);
      }catch(e){
      }
  </script>
  <!--Naver Keyword Script End-->
  
  
  <script type="text/javascript">
  var account       = "11";  // 홈쇼핑모아에서 발급한 고유 ID
  var site          = "";    // iOS,Android,web,mobileWeb 
  var user_id       = "";    // 고객 고유 ID
  var email         = "";    // 옵션 
  var from_hsmoa    = false; // 홈쇼핑모아인 경우 true 
  
  if(DEVICECD === "03"){
      if(OSCD === "02"){
          site = "ios"; 
      }else{
          site = "android";
      }
  }else{
      if(DEVICECD === "01"){
          site = "web";
      }else{
          site = "mweb";
      }
  }
  user_id = "202411248309";
  email   = "kj.kim@trncompany.co.kr".trim().toLowerCase();
  if("MC01" == "MC04"){
      from_hsmoa = true;
  }
  </script>



<!-- Meta Pixel Code -->
<script type="text/javascript">
!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","547150599169038");fbq("track","PageView");
</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=547150599169038&ev=PageView&noscript=1"/></noscript>
<!-- End Meta Pixel Code -->


    
  <script src="https://m.shoppingntmall.com/moassets/js/jquery-3.6.0.min.js"></script>
  <!-- 에어브릿지 Start -->
  <script>
  
    
    (function(a_,i_,r_,_b,_r,_i,_d,_g,_e){if(!a_[_b]){var d={queue:[]};_r.concat(_i).forEach(function(a){var i_=a.split("."),a_=i_.pop();i_.reduce(function(a,i_){return a[i_]=a[i_]||{}},d)[a_]=function(){d.queue.push([a,arguments])}});a_[_b]=d;a_=i_.getElementsByTagName(r_)[0];i_=i_.createElement(r_);i_.onerror=function(){d.queue.filter(function(a){return 0<=_i.indexOf(a[0])}).forEach(function(a){a=a[1];a=a[a.length-1];"function"===typeof a&&a("error occur when load airbridge")})};i_.async=1;i_.src="//static.airbridge.io/sdk/latest/airbridge.min.js";a_.parentNode.insertBefore(i_,a_)}})(window,document,"script","airbridge","init fetchResource setBanner setDownload setDownloads setDeeplinks sendWeb setUserAgent setUserAlias addUserAlias setMobileAppData setUserId setUserEmail setUserPhone setUserAttributes clearUser setDeviceIFV setDeviceIFA setDeviceGAID events.send events.signIn events.signUp events.signOut events.purchased events.addedToCart events.productDetailsViewEvent events.homeViewEvent events.productListViewEvent events.searchResultViewEvent".split(" "),["events.wait"]);

    airbridge.init({
      app: 'spnt',
      webToken: '056a65652a334eac8ba5f221d363823e'
    }); 
    
    
  
  </script>
  <!-- 에어브릿지 End -->
  <script type="text/javascript" src="//hsmoa.com/media/buzzni_rt.min.js"></script>
	<script src="https://m.shoppingntmall.com/moassets/js/swiper.min.js"></script>
	<script src="https://m.shoppingntmall.com/moassets/js/pub_common.js"></script>
	<script src="https://m.shoppingntmall.com/moassets/js/video.min.js"></script>
  
  <script src="https://m.shoppingntmall.com/moassets/js/eshopfrontCommon.js?v=20250904"></script>
  <script src="https://m.shoppingntmall.com/moassets/js/eshopfrontCustomer.js"></script>
  <script src="https://m.shoppingntmall.com/moassets/js/eshopfrontFile.js"></script>
  <script src="https://m.shoppingntmall.com/moassets/js/jquery-ui.min.js"></script>
  <script src="https://m.shoppingntmall.com/moassets/js/jquery.cookie.min.js"></script>
  <script src="https://m.shoppingntmall.com/moassets/js/goods/bzn-search-engine.js"></script>        
  <script src="https://m.shoppingntmall.com/moassets/js/exif-js.3.3.25.min.js"></script>        
  <script type="text/javascript">
    if(isEmpty(getLSValue("CUST_NO")) || getLSValue("CUST_NO") != '202411248309') {
      setLSValue("CUST_NO", '202411248309');
      setLSValue("CUST_NM", '테스트vip');
    }
  </script>
  
  <!-- Braze CDN -->
  <script type="application/javascript">
	var brazeActive = true;
  var brazeSdkKey = "6ed86487-3374-4e2c-87e4-bf9934f7e2c8";
  var brazeEndPoint = "sdk.iad-05.braze.com";
  var brazeLogEnable = false;
	var brazeActiveApi = true;

  +function(a,p,P,b,y){a.braze={};a.brazeQueue=[];for(var s="BrazeSdkMetadata DeviceProperties Card Card.prototype.dismissCard Card.prototype.removeAllSubscriptions Card.prototype.removeSubscription Card.prototype.subscribeToClickedEvent Card.prototype.subscribeToDismissedEvent Card.fromContentCardsJson Banner CaptionedImage ClassicCard ControlCard ContentCards ContentCards.prototype.getUnviewedCardCount Feed Feed.prototype.getUnreadCardCount ControlMessage InAppMessage InAppMessage.SlideFrom InAppMessage.ClickAction InAppMessage.DismissType InAppMessage.OpenTarget InAppMessage.ImageStyle InAppMessage.Orientation InAppMessage.TextAlignment InAppMessage.CropType InAppMessage.prototype.closeMessage InAppMessage.prototype.removeAllSubscriptions InAppMessage.prototype.removeSubscription InAppMessage.prototype.subscribeToClickedEvent InAppMessage.prototype.subscribeToDismissedEvent InAppMessage.fromJson FullScreenMessage ModalMessage HtmlMessage SlideUpMessage User User.Genders User.NotificationSubscriptionTypes User.prototype.addAlias User.prototype.addToCustomAttributeArray User.prototype.addToSubscriptionGroup User.prototype.getUserId User.prototype.incrementCustomUserAttribute User.prototype.removeFromCustomAttributeArray User.prototype.removeFromSubscriptionGroup User.prototype.setCountry User.prototype.setCustomLocationAttribute User.prototype.setCustomUserAttribute User.prototype.setDateOfBirth User.prototype.setEmail User.prototype.setEmailNotificationSubscriptionType User.prototype.setFirstName User.prototype.setGender User.prototype.setHomeCity User.prototype.setLanguage User.prototype.setLastKnownLocation User.prototype.setLastName User.prototype.setPhoneNumber User.prototype.setPushNotificationSubscriptionType InAppMessageButton InAppMessageButton.prototype.removeAllSubscriptions InAppMessageButton.prototype.removeSubscription InAppMessageButton.prototype.subscribeToClickedEvent automaticallyShowInAppMessages destroyFeed hideContentCards showContentCards showFeed showInAppMessage toggleContentCards toggleFeed changeUser destroy getDeviceId initialize isPushBlocked isPushPermissionGranted isPushSupported logCardClick logCardDismissal logCardImpressions logContentCardsDisplayed logCustomEvent logFeedDisplayed logInAppMessageButtonClick logInAppMessageClick logInAppMessageHtmlClick logInAppMessageImpression logPurchase openSession requestPushPermission removeAllSubscriptions removeSubscription requestContentCardsRefresh requestFeedRefresh requestImmediateDataFlush enableSDK isDisabled setLogger setSdkAuthenticationSignature addSdkMetadata disableSDK subscribeToContentCardsUpdates subscribeToFeedUpdates subscribeToInAppMessage subscribeToSdkAuthenticationFailures toggleLogging unregisterPush wipeData handleBrazeAction".split(" "),i=0;i<s.length;i++){for(var m=s[i],k=a.braze,l=m.split("."),j=0;j<l.length-1;j++)k=k[l[j]];k[l[j]]=(new Function("return function "+m.replace(/\./g,"_")+"(){window.brazeQueue.push(arguments); return true}"))()}window.braze.getCachedContentCards=function(){return new window.braze.ContentCards};window.braze.getCachedFeed=function(){return new window.braze.Feed};window.braze.getUser=function(){return new window.braze.User};(y=p.createElement(P)).type='text/javascript';
      y.src='https://js.appboycdn.com/web-sdk/4.0/braze.min.js';
      y.async=1;(b=p.getElementsByTagName(P)[0]).parentNode.insertBefore(y,b)
    }(window,document,'script');
    
  </script>  
  <!-- Braze CDN END -->

 
  <script type="text/javascript">
  function sendToBrazePushYns(){
    
    if(!brazeActive || getSSValue("updateBrazeAppPush") == 'Y') {
      return;
    }
    
    $.ajax({
      url : "/app/device-info", 
      type : "get",
      dataType : "json",
      headers: {
        'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
      },
      success : function(data) {
        
        try{

          var resultCode = data.resultCode;
          
          if(resultCode != '0000'){
            return;
          }
          
          var nightEventPushYn = false;

          var status = false;
          
          if(data.resultData.deviceInfo.eventPushYn == '1'){
            status = true;
          }
          
          if(data.resultData.deviceInfo.nightEventPushYn == '1'){
            nightEventPushYn = true; 
          }
          
          if(isApp()){
            
            var updateVersion = '';
            if (isAndroid()) updateVersion = '2.8.5';
            if (isIOS()) updateVersion = '2.8.2';
            var appVerChk = true;
            if (compareVersionsBraze(NOW_APP_VERSION, updateVersion)) {
              appVerChk = false;
            }
            
            if(appVerChk){
                var map = JSON.stringify({"push_agree_status": status});
                var map2 = JSON.stringify({"night_push_agree_status": nightEventPushYn});
                if(isAndroid()){
                    shoppingntapp.appBrazeCustomUserAttribute(map);
                    shoppingntapp.appBrazeCustomUserAttribute(map2);
                }else if(isIOS()){
                    window.webkit.messageHandlers.shoppingntapp.postMessage("appBrazeCustomUserAttribute?param="+map);
                    window.webkit.messageHandlers.shoppingntapp.postMessage("appBrazeCustomUserAttribute?param="+map2);
                }               
            }else{
                brazeInit();
                braze.getUser().setCustomUserAttribute("push_agree_status", status); 
                braze.getUser().setCustomUserAttribute("night_push_agree_status", nightEventPushYn); 
                braze.openSession();
            } 

          }else{
              brazeInit();
              braze.getUser().setCustomUserAttribute("push_agree_status", status); 
              braze.getUser().setCustomUserAttribute("night_push_agree_status", nightEventPushYn); 
              braze.openSession();
          }   
        
          setSSValue("updateBrazeAppPush", 'Y');

        }catch(e){
          console.log(e);
        }
      }
    });  
  }
  
	if(ISLOGIN == 'Y' && isApp()) {
        sendToBrazePushYns();
	}
  
  </script>
  
  
   
   











 





 
   
 
 
 


    



  
              
  
  







  
    
  
  
  
  <script type="text/javascript">
      window.criteo_q = window.criteo_q || [];
      window.criteo_q.push(
      { event: "setAccount", account: 66997 },
      { event: "setEmail", email: "kj.kim@trncompany.co.kr".trim().toLowerCase(), hash_method: "none" },
      { event: "setSiteType", type: "m" },
      { event: "viewItem", item: "24760392" }
      );
  </script>
  <!-- 크리테오 스크립트 설치 -->
  

    
   
   
   
   <!-- 크리테오 스크립트 설치(공통 S) -->
   <script type="text/javascript" src="//dynamic.criteo.com/js/ld/ld.js?a=66997" async></script>
   <!-- 크리테오 스크립트 설치(공통 E) -->

   
   
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PMNNGMC');</script>
  <!-- End Google Tag Manager -->
  <!-- More Script -->
  <script>
  var _croID = '689c5e27049fcd34b2758784';
  function getMoreRecommend(e,n){"undefined"!=typeof globalCRO?new globalCRO.MoreRecommendData(e,n):
  ("undefined"==typeof gCroRCData&&(window.gCroRCData=new Array),gCroRCData.push({config:e,callback:n}))}
  function createMoreRCView(e){"undefined"!=typeof globalCRO?new globalCRO.MoreRecommendView(e):
  ("undefined"==typeof gCroRCV&&(window.gCroRCV=new Array),gCroRCV.push({config:e}))}
  function mcroPushEvent(n){"undefined"!=typeof globalCRO?globalCRO.sendEvent(n):
  ("undefined"==typeof gCro&&(window.gCro=new Array),gCro.push(n))}
  function _cro_initialize(){window.globalCRO=new MCro,globalCRO.jsInit(_croID)}
  </script>
  <script async type="text/javascript" src="//cro.myshp.us/resources/common/js/more-common.js"></script>
  <!-- End More Script -->

  
  
</head>
<body>
  <div id="popupDiv"></div>
  <div id="wrap" class="is-tab-bar"> 
  <div class="popup coach" id="coach-offer-popup">
      <div class="coach-offer">
          <div class="coach-icon"><span></span></div>
          <div class="coach-txt">
              <div class="coach-txt1">적립금 쌓기</div>
              <div class="coach-txt2">미션 참여하고<br>적립금을 모아보세요!</div>
          </div>
          <button type="button" onclick="popup.close('#coach-offer-popup')">닫기</button>
      </div>
                  
  </div>
    <form id="autoLogin" action="/login/doAutoLogin" method="get"><input type="hidden" value="" name="returnUrl" /></form>
    











 





 
   
 
 
 


    



  
              
  
  








<input type="hidden" id="serachUrl" name="serachUrl" value="">
<script type="text/javascript">
// 중복클릭 방지
var clickUrl = "";
$(document).on("click", "a", function(e) {
  if (isNotEmpty($(this).attr("href"))) {
    if ($(this).attr("href") === '/') {
      if (clickUrl == $(this).attr("href")) e.preventDefault();
      else clickUrl = $(this).attr("href"); 
    }
  	
    //트래킹 대상	-> setAllParams
    const trkTgUrls	 = ["/display/goods/"];
    
		//트래킹 대상 -> entyTyCd param만 필요
    const trkUrls		= [
			"/plan/planshop/swipeDetail/", "/plan/event/swipeDetail/", "/category/g-list-cate/"
			, "/display/deal/dealMain", "/broadcast/tvBroadcastMain", "/display/suggest/suggestMain"
			, "/showtimedeal/showTimeDealMain", "/display/relation/relationMain", "/display/best/bestMain"
			, "/display/showmart/showmartMain", "/display/showmart/showmartDetail", "/display/template/brand-template-main"
			, "/display/deal/"
            , "/display/carefood/carefoodMain" // 티나는밥상 추가
            , "/display/carefood/carefoodTimeDealGoodsList" // 티나는밥상 타임딜 상품 리스트 추가
		];
    
    //트래킹 대상 병합 
    const mergedTrkUrls = [
      ...trkTgUrls.map(url => ({ url, setAllParams: true })),
      ...trkUrls.map(url => ({ url, setAllParams: false }))
    ];
    
    const trkUrlChk = mergedTrkUrls.find(item => {
      // href 재설정
      let href = $(this).attr("href");
      const match = href.match(/location\.href='([^']+)'/);
      if (match) {
        href = match[1];
        $(this).attr("href", href);
      }
      return href.indexOf(item.url) === 0;
    });
    
    if(trkUrlChk){
      e.preventDefault();
      _setTrkParams($(this), trkUrlChk);
      return false;
    }
    
  }
});

//트래킹 param 셋팅
function _setTrkParams(obj, { url, setAllParams }){
  
  const thisHrefUrl = obj.attr("href");
  
  try{
  	const url = new URL(thisHrefUrl , window.location.origin);
  	let urlParams = new URLSearchParams(url.search);
  
  	const entyTyCd = obj.closest('[data-enty-ty-cd]').data('entyTyCd');					//진입구분코드
  	if (entyTyCd) {
      urlParams.set("entyTyCd", entyTyCd);
    }
    
    if(setAllParams){
      const entySrcCd  = obj.closest('[data-enty-src-cd]').data('entySrcCd');        //진입소스코드
      const entyPageId = obj.closest('[data-enty-page-id]').data('entyPageId');      //진입페이지ID
      if (entySrcCd) {
        urlParams.set("entySrcCd", entySrcCd);
      }
      if (entyPageId) {
        urlParams.set("entyPageId", entyPageId);
      }
    }
    
    url.search = urlParams.toString();
    window.location.href =  url.toString(); 

  }catch(e){
		console.error(e);
		window.location.href =  thisHrefUrl;
  }
}

	//백키 중복클릭 방지 초기화
  window.onpageshow = function(event) {
    if (event.persisted || (window.performance && window.performance.navigation.type == 2)) {
      clickUrl = "";
    }
  }
	
  function redirectIfOrderComplete() {
    const path = window.location.pathname;

    if (path === "/order/orderComp" || path.startsWith("/order/orderComp?") || path.startsWith("/order/orderFail?")) {
        location.replace("/");  // 뒤로 가기일 때만 홈으로 리디렉션
    }
  }

  // 뒤로 가기 방지
  window.addEventListener('popstate', function(event) {
    redirectIfOrderComplete(); // 주문 완료 페이지 체크

    let curUrl = document.URL+'';
    if (curUrl.indexOf('/cart') >= 0 && sessionStorage.getItem("fromOrderSheet") === "true") {
        // 일반주문서에서 임직원 아닌 경우 구매제한 팝업으로 장바구니 이동한 경우 홈으로 이동
        sessionStorage.removeItem("fromOrderSheet");
        location.href = "/";
    }
});
  
  // GNB 메뉴일 때 뒤로가기 누를 시 앱종료팝업 호출
  function clickBackKey() {
    var gnbYn = "N";
    var flag = (gnbYn === "Y" && isAndroid() && !$(".appPopupList").hasClass("open") && $(".popup.open").length > 0);
    
 		// GNB메뉴, 안드로이드, 앱종료 팝업 미노출, 팝업 노출일 경우 gnbYn 값을 N으로 변경하여 뒤로가기
    if (isAndroid() && $(".popup.open").length > 0 && $(".popup.open").hasClass("mainPopupList")) {
      gnbYn = "Y";
    } else if (flag) {
      gnbYn = "N";
    }
    
    window.shoppingntapp.appShowClosePopup(gnbYn);
  }
</script>

<!-- APP PUSH CUID 값이 GUEST이면 loginApp 호출 -->
  <script>

  if (isApp()) {
    if ('N' == 'Y' && getLSValue("updateAppPush") != 'Y') {
      $.ajax({
        url : "/common/push/userInfo",
        type : "get",
        headers: {
          'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
        },
        dataType : "json",
        success : function(data) {
  
			var cuid = data.resultData.cuid;
			if(cuid == 'GUEST'){
            	//console.log("/common/push/userInfo cuid : " , data);
    			try{
    				if(isIOS()){
    					schemeFrame = document.createElement("IFRAME");
    					schemeFrame.setAttribute("src", "shoppingntapp://loginApp?k=202411248309");
    					document.body.appendChild(schemeFrame);
    					schemeFrame.parentNode.removeChild(schemeFrame);
    					schemeFrame = null;
    					/*Ios 로그인 여부 추가 */
    					if (window.webkit != undefined && window.webkit.messageHandlers != undefined && window.webkit.messageHandlers.shoppingntapp != undefined && window.webkit.messageHandlers.shoppingntapp.postMessage != undefined) {
    						window.webkit.messageHandlers.shoppingntapp.postMessage("loginApp?custNo=202411248309&custName=테스트vip&iautoLogin=0");
    					}
    				}else{
    					window.shoppingntapp.loginApp("202411248309", "테스트vip", "0");
    				}
    			}catch(e){
    				console.error(e);
    			}
    			
			}
    		setLSValue("updateAppPush", 'Y');
        }
      });
    }
  }
	
  </script>

 
  



  
  
    
    
    <header id="header" class="type-cart-title">
      <button type="button" class="btn-history-back">이전 페이지로</button>
      <button type="button" class="btn-go-home">메인으로</button>
      <h2 class="headerTitle"></h2>
      <div class="fr-area">
        <button type="button" class="ico search">검색</button>
        <button type="button" class="ico cart">
        장바구니
        <span id="ssCartCount" >
        
          
          
            4
          
        
        </span>
        </button>
      </div>
    </header>  
 
    
 
   
  
  
  

<script type="text/javascript">
  $(document).ready(function(){
    var headerType = '04';
    var schKeyword = '';
    
    //광고키워드 영역 클릭시
    $(".mainSchTitl, button.search").click(function(){
      location.href="/search/searchMain";
    });

    //광고키워드 영역 클릭시
    $(".ico.search").click(function(){
      location.href="/search/searchMain";
    });
    
    //홈버튼 클릭시
    $(".btn-go-home").click(function(e) {
    	if (clickUrl === "") {
    	  clickUrl = "/"; 
    	  location.href = clickUrl;
    	} else {
    	  e.preventDefault();
    	}
    });
    
    //뒤로가기
    var isBackCall = true;
    //$(".btn-history-back").on("click",function(){
    $(document).on('click', '.btn-history-back', function(){
        let refUrl = document.referrer+'';
        let curUrl = document.URL+'';
        if(refUrl.indexOf('/mypage/mymain') >=0 || curUrl.indexOf('/mypage/member/membershipLevelBenefits') >=0){
          location.href = '/mypage/mymain';
      	} else if (curUrl.indexOf('/cart') >= 0 && sessionStorage.getItem("fromOrderSheet") === "true") {
      	  //일반주문서에서  임직원 아닌 경우 구매제한 팝업으로 장바구니로 이동한 경우에는 홈으로 이동
      	  sessionStorage.removeItem("fromOrderSheet");
      	  location.href = "/";
      	} else {
          if(isBackCall){
            isBackCall = false;
            if(window.history.length > 1 && isNotEmpty(refUrl)) {
              //console.log("이전 페이지 URL: "+document.referrer);
              window.history.back();
            } else {
              if (isApp() && (location.pathname.indexOf("/display/deal/") > -1 || location.pathname.indexOf("/display/goods/") > -1)) {
                if (isAndroid() && typeof window.shoppingntapp !== 'undefined' && typeof window.shoppingntapp.closeAndroidSubView === 'function') {
                  window.shoppingntapp.closeAndroidSubView();
                } else if (isIOS() && !compareVersionsMo(NOW_APP_VERSION, '2.9.6')) {
                  window.webkit.messageHandlers.shoppingntapp.postMessage('closeIOSSubView');
                } else {
                  window.location.href = "/";
                }
              } else {
                window.location.href = "/";
              }
            }
          }        
        }
    });
    //장바구니로 이동
    $(".ico.cart").on("click",function(){
      
			var isLogin = 'Y';
			var isMember = 'Y';
			if(isLogin =='Y' && isMember =='Y'){
      		  location.href = "/cart";
			} else if(isLogin =='Y' && isMember =='N') {
			  goLoginPage();
			} else {
			  location.href = "/cart";
			}
    });
    
    $(".cartb").on("click",function(){
      
      var isLogin = 'Y';
      var isMember = 'Y';
      if(isLogin =='Y' && isMember =='Y'){
        location.href = "/cart";
      } else if(isLogin =='Y' && isMember =='N') {
        goLoginPage();
      } else {
        location.href = "/cart";
      }
    });
    //
    if (headerType == "05") {
      $(".btn-delete").off("click").on("click", function(e) {
  			$(this).parent('.ipt-wrap').find('input.delete').val('').trigger('change').focus();
  			if( $(this).parent('.ipt-wrap').find('.ipt.delete + .unit').length > 0 ){
  				$(this).parent('.ipt-wrap').find('.ipt.delete').css('padding-right', '');
  				$(this).parent('.ipt-wrap').find('.ipt.delete + .unit').css('right', '');
  			};
  			$(this).hide();
  			
        $("#searchKeyWrod").hide();
        $("#searchWrodArea").show();
  			// schKeywordChk();
  			
  		});

      var schKwdInput = document.getElementById("schKeyword");
      // 조회
      if (schKwdInput != null) {
        schKwdInput.addEventListener('keyup', function(event) {
          if (event.keyCode === 13) {
            goSrchResult();
          }
        });
      }
    }
    if (headerType == "06") {
      // SEARCH MAIN MOVE
      //$("#searchAreaDiv, #searchKeyword").on("click", function(event) {
      $(document).on('click', '#searchAreaDiv, #searchKeyword', function(event){
        if (event.target.nodeName !== "BUTTON") {
          var paramUrl = "";
          if (schKeyword != null && schKeyword != "") {
            paramUrl = ("?schKeyword=" + encodeURIComponent(schKeyword));
          }
          location.href = ("/search/searchMain" + paramUrl);
        }
      });
      //$(".btn-search-word-reset").on("click", function(event) {
      $(document).on('click', '.btn-search-word-reset', function(){
        location.href = "/search/searchMain";
      });
      //$(".btn-search-submit").on("click", function(event) {
      $(document).on('click', '.btn-search-submit', function(){
        // 재조회
        reSearchFn()
      });
      
      if(!isHbf) {
        $.eshopfront.cmm.goodsRelationQuery(getSearchKeyword(), searchResultKeywordFn);
      }
    }
  });
  
  function goSrchResult(keyword) {
    var schKeyword = '';
    if (keyword) {
      schKeyword = keyword;
    } else {
      schKeyword = $("#schKeyword").val();
    }
    var kwd = $.eshopfront.cmm.XSS_Check(schKeyword);
    $("#schKeyword").val("");
    var domain = window.location.host;
    //바로가기
    $.eshopfront.cmm.shortCut(kwd);
    var url = $("#serachUrl").val();
    if (isNotEmpty(url)) {
      location.href = url;
    } else {
      if (kwd.length > 0) {
        var ntRcntSrchUseYn = $.eshopfront.cmm.getCookie("ntRcntSrchUseYn", domain);
        if (ntRcntSrchUseYn != "N") { // 자동 저장 체크 여부
          var dupYn ="N";
          var kwdArr =  getCookieKwdArr(domain);
          
          for(var i in kwdArr){
            if(kwdArr[i] == kwd){
              dupYn = "Y";
            }
          } 
          if(dupYn == "N"){
            setCookieKwd(kwd,domain);
          }
          addCookieKwdArr(kwd, domain);
        }
        location.href = ("/display/goods/search/page/result?keywordSearch=" + encodeURIComponent(kwd));
      } else {
        alert("검색어를 입력해주세요.");
      }
    }
  }
  
  function goKwd(lkUrl) {
    if ($(".mainSchTitl").text() !== "") {
      location.href = addUrlParam(lkUrl, 'entyTyCd', '06');
    } else {
      alert("검색어를 입력해주세요.");
    }
  }
  
  function addUrlParam(url, key, value) {
    let urlObj;
    if (url.startsWith("/")) {
      urlObj = new URL(url, window.location.origin);
    } else {
      urlObj = new URL(url);
    }
    urlObj.searchParams.set(key, value);
    return urlObj.toString();
  }
  
  function addUrlParams(url, params) {
    let urlObj;
    if (url.startsWith("/")) {
      urlObj = new URL(url, window.location.origin);
    } else {
      urlObj = new URL(url);
    }
    for (let key in params) {
      urlObj.searchParams.set(key, params[key]);
    }
    return urlObj.toString();
  }
  
  
  function  searchResultKeywordFn(data) {
    if (data.results.length > 0){
      var html = "";
      for (var i in data.results) {
        var val = data.results[i]
        html += "<li><button type=\"button\" class=\"item\" onclick=\"setKeywordFn('"+val+"')\">"+val+"</button></li>";
      }
      $("#searchResultKwywordList").html(html);
      $("#srchKeywordArea").show();
      $("#header").removeClass("type-filter-none");
    } else {
      $("#srchKeywordArea").hide();
      $("#header").addClass("type-filter-none");
    }
  }
  
  
  function setKeywordFn(val) {
    goSrchResult(val);
    /* if (!getSubKeyword(val).hasKey) {
      $("#searchKeyword").append("<li><button type=\"button\" class=\"btn-search-word\" onclick=\"delKeyWord(this)\">"
                                     + val + "</button></li>");
      // 재조회
      reSearchFn();
    } */
  }
  
  function delKeyWord(trgt) {
    $(trgt).parent("li").remove();
    // 재조회
    reSearchFn();
  }
  // 
  function getSubKeyword(val) {
    var subKeywordBtn = $("#searchKeyword").find("button");
    var rtnObj = {
      keyArr : [], hasKey : false
    };
    if (subKeywordBtn.length > 0) {
      for (var i = 0; i < subKeywordBtn.length; i++) {
        var subText = $(subKeywordBtn[i]).text();
        if (val && subText == val) {
          rtnObj.hasKey = true;
        } else {
          rtnObj.keyArr.push(subText);
        }
      }
    }
    return rtnObj;
  }
  // 재조회
  function reSearchFn() {
    if (typeof searchFn == "function") {
      var kwd = getSearchKeyword();
      // 목록 재조회
      searchFn(kwd, "");
      // 연관검색어
      $.eshopfront.cmm.goodsRelationQuery(kwd, searchResultKeywordFn);
    }
  }
  
  function getSearchKeyword() {
    var sumQuery = "";
    var keyArr = getSubKeyword().keyArr;
    for (var i  in keyArr) {
      sumQuery += (" " + keyArr[i]);
    }
    return sumQuery;
  }
  
	//로그아웃 후 로그인 페이지로 이동
  function goLoginPage() {
    execLogin(getCurrentPath());
  }
	//현재 경로 조회
	function getCurrentPath() {
	  return location.pathname + location.search;
	}
  
  function updateReCriteo() {
      document.querySelectorAll('.best-list li').forEach(li => {
          if (li.querySelector('.criteo-bn2')) {
              li.classList.add('re-criteo');
          }
      });
  }

</script>


    <main  id="main"
      
       data-enty-ty-cd="02"
       data-enty-src-cd="HOME0002"
      
      
    >
      
        
        
          











 





 
   
 
 
 


    



  
              
  
  




















 



 


<script type="text/javascript">

		
	  window.onpageshow = function(event) {
			var historyBackOption = location.pathname+"_historyback_opt";
    	if ( event.persisted || (window.performance && window.performance.navigation.type == 2)) {
    	  if(sessionStorage.getItem(historyBackOption) != null) {
    		 	/* if( !isIOS() && !isIOSWeb() ) { // 모바일 웹, 안드로이드 앱, 안드로이드 웹만 뒤로가기기능설정
    		    $("#pop-prd-option").before("<div class='dim' style='z-index:1000000'></div>");
      			$("#pop-prd-option").html(sessionStorage.getItem(historyBackOption));
      			$("#pop-prd-option").css("display", "flex");
      			$("#pop-prd-option").css("z-index", "1000001");
      			$("#pop-prd-option").addClass("open");
      			
      			// 팝업 복원 시 필요한 이벤트 재바인딩
            clickEventBind();
        	}*/ 
          // 로딩 상태 강제 제거
          setTimeout(() => {
              loadingHide();
          }, 300);

		    	sessionStorage.removeItem(historyBackOption);
    		}
    	} else {
    	  sessionStorage.removeItem(historyBackOption);
    	}
    } /** window.onpageshow = function(event) */
		
    var domainMo = "https://m.shoppingntmall.com"+location.href.replace(location.origin, "");
    var domainPc = "https://www.shoppingntmall.com"+location.href.replace(location.origin, "");

    var reWhsgNtcnStgProcYn = false; 
    var promtCpnRcvProcYn = false; 
    var tempAddMaxId = 6;  
    
    var tabClickChk = 'Y'; 
    var goodsPageNo = 1;
    var totalCnt = '';
    var scrollFlag = false;
     
    $(document).scroll(function() {
     var currentScroll = window.innerHeight + window.scrollY;
     var targetScroll = document.body.offsetHeight - $("#header").height() - ($("#footer").height() + 1200);  //타겟영역 높이값
     if (currentScroll >= targetScroll) {   
       goodsDealListAjax(goodsPageNo);
     }
    });

    function goodsDealListAjax(pageNo) {
     if(scrollFlag == false  && goodsPageNo < Math.ceil(totalCnt / 6)) {
       scrollFlag = true;
       $.ajax({
         url : "/goodsDealListAjax",
         type : "post",
         headers: {
           'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
         },
         data : {
           startNum : pageNo,
           limitCnt : 6,
           dealSn : "", 
         },
         dataType : "html",
         success : function(html) {
           scrollFlag = false;
           $("#goods-deal-items").append(html);
           goodsPageNo += 1;
         }, 
         error : function(request){
          	if(chk403(request)) return;
          }
       });
     }
    }
    
    $(document).ready(function() {
      
      //$.eshopfront.cmm.timerStart();
      $("#wrap").removeClass("is-tab-bar"); 
      
      $(".goodsGdas").click(function() {      
        if(tabClickChk == 'Y'){
        	gdasTabClickEvent();
        }
      });  	
      
      function gdasTabClickEvent(){
        if($(".review-cont-wrap .review-detail .review-txt").length > 0){
          if($(".review-cont-wrap .review-detail .review-txt").eq(0).height() > 0){
            for( var i=0; i<$(".review-cont-wrap .review-detail .review-txt").length; i++ ){
              if( $(".review-cont-wrap .review-detail .review-txt").eq(i).height() <= 42 ){
                $(".review-cont-wrap .review-detail .btn-links").eq(i).hide();
              }else{
                $(".review-cont-wrap .review-detail").eq(i).removeClass("on");
                $(".review-cont-wrap .review-detail .btn-links").eq(i).show();
              }
            };
          	// 상품평 더보기/접기 기능
            $(".review-cont-wrap .review-detail .btn-links").unbind("click").bind("click", function(e){
              e.preventDefault();
              expand.reviewMoreClick(this);
            });
        
            var expand = {
              reviewMoreClick : function(target){
                if($(target).closest(".review-detail").hasClass("on") == true){
                  $(target).closest(".review-detail").removeClass("on");
                  $(target).closest(".review-detail").find(".btn-links").text("더보기");
                }else{
                  $(target).closest(".review-detail").addClass("on");
                  $(target).closest(".review-detail").find(".btn-links").text("닫기");
                };
              }
            };
          }
        }
        tabClickChk = 'N';
      }
      
      
      
       
    	
      
      
      	initKakaoShare("25FW 아보크 클로그 윈터슈즈 2종 여성", "https://img.shoppingntmall.com/goods/392/24760392_l.jpg", domainMo, domainPc);
      
      
      
      
      
      $('#smsShareBtn').off("click").on("click", function() {
        
        
        
        	sns_sms("25FW 아보크 클로그 윈터슈즈 2종 여성");
        
        
      });
      
      // 상단메뉴
			// 08-01 cssMode: true, 코드 추가
      var topBanner = new Swiper('.prd-thumb-area .prd-thumb', {
          slidesPerView: 1,
          spaceBetween: 0,
          loop: true,
          autoplay: false,
          // autoplay: {
          //     delay: 2500,
          //     disableOnInteraction: false,
          // },
          pagination: {
              el: '.top-banner-paging',
              type: 'fraction'
          },
          on: {
            slideChange: function () {
              // 쇼호스트 한줄 요약 있을때
              if ($('.swiper-slide.ai-line img').length) {
                var totalSlides = this.slides.length - (this.loop ? this.loopedSlides * 2 : 0); // 실제 슬라이드 개수
                var lastIndex = totalSlides - 1; // 마지막 슬라이드 인덱스

                var activeIndex;
                if (this.loop) {
                  // loop: true일 때
                  var $activeSlide = $('.prd-thumb-area .swiper-slide-active');
                  activeIndex = parseInt($activeSlide.attr('data-swiper-slide-index'), 10);
                } else {
                  // loop: false일 때
                  activeIndex = this.realIndex;
                }

                if (activeIndex === lastIndex) {
                  $('.prd-thumb-area .state-wrap.promotion, .prd-thumb-area .badge-pro').fadeOut(300);
                } else {
                  $('.prd-thumb-area .state-wrap.promotion, .prd-thumb-area .badge-pro').fadeIn(300);
                }
              }
            }
          },
      });
      
      
      
        // 상단메뉴
  			// 08-01 cssMode: true 추가 요청
        var topBanner = new Swiper('#top-banner', {
            slidesPerView: 1,
            spaceBetween: 0, //07-01 간격 수정
            loop: true,
            autoplay:{
							delay: 2500,
							disableOnInteraction: false,
						},
            pagination: {
                el: '.top-banner-paging',
                type: 'fraction'
            },
        });
        $('.btn-top-banner-stop').on('click', function(){
					$(this).hide();	
					topBanner.autoplay.stop();
					$('.btn-top-banner-play').show().focus();
				});
				$('.btn-top-banner-play').on('click', function(){
					$(this).hide();	
					topBanner.autoplay.start();
					$('.btn-top-banner-stop').show().focus();
				});
      
      
      
      $("input[type='checkbox'][id^='noInvExcd']").on("click", function() {
        var btnChecked = $(this).is(":checked");
        $("a[name='optGroup']").each(function(idx) {
          $(this).parent().find("div.prd-sellist-group").find("ul").find("li").each(function(idx) {
            
            
            
            
            
            if(btnChecked && $(this).hasClass("disabled")) {
              $(".goods-opt-sel-list li.disabled").addClass("disable");
              $(this).hide();
            } else if ($(this).hasClass("disabled")){
              $(".goods-opt-sel-list li.disabled").removeClass("disable");
              $(this).show();
            }
            
            
            if(btnChecked && $(this).hasClass("disableLastDepth")) {
              $(".goods-opt-sel-list li.disableLastDepth").addClass("disable");
              $(this).hide();
            } else if ($(this).hasClass("disableLastDepth")){
              $(".goods-opt-sel-list li.disableLastDepth").addClass("disable");
              $(this).show();
            }
            
            
            if(btnChecked && $(this).hasClass("disabledAjax")) {
              $(".goods-opt-sel-list li.disabledAjax").addClass("disable");
              $(this).hide();
            } else if ($(this).hasClass("disabledAjax")){
              $(".goods-opt-sel-list li.disabledAjax").removeClass("disable");
              $(this).show();
            }

            
            if(btnChecked && $(this).hasClass("disabledLastAjax")) {
              $(".goods-opt-sel-list li.disabledLastAjax").addClass("disable");
              $(this).hide();
            } else if ($(this).hasClass("disabledLastAjax")){
              $(".goods-opt-sel-list li.disabledLastAjax").addClass("disable");
              $(this).show();
            }
            
            
            if(btnChecked && $(this).hasClass("disabledEtcDepth")) {
              $(".goods-opt-sel-list li.disabledEtcDepth").addClass("disable");
              $(this).hide();
            } else if ($(this).hasClass("disabledEtcDepth")){
              $(".goods-opt-sel-list li.disabledEtcDepth").addClass("disable");
              $(this).show();
            }
            
          });
        });
      });
      
      
      
      
      
      
      
      
      
      $.ajax({
        url : "/goods/detail/popup/re-whsg-ntcn-layer-popupAjax",
        type: 'POST',
        data: {
          
          goodsCd : "24760392"
         ,goodsNm : "25FW 아보크 클로그 윈터슈즈 2종 여성"
         ,tvExpYn : "Y"
         ,goodsMastImgH : "/goods/392/24760392_h.jpg"
         ,goodsMastImg : "/goods/392/24760392_l.jpg"
        },
        async : true,
        dataType : 'html',
        headers: {
          "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
        }
        , success: function(data){
          if($("#reWhsgNtcnPop").length > 0) {
            $("#reWhsgNtcnPop").remove();
          }
          
          if(data != null) {
            $("main").first().after(data);
            
            $("input[type='checkbox'][id='reWhsgNtcnRcvAgr']").off("click").on("click", function() {
              if($(this).is(":checked")) {
                $("#reWhsgNtcnSgtBtn").removeAttr("disabled");
              } else {
                $("#reWhsgNtcnSgtBtn").attr("disabled","disabled");
              }
            });
          }
        }
        , error:function(request,status,error){
          console.log("/goods/detail/popup/re-whsg-ntcn-layer-popupAjax Error", request);
          if(chk403(request)) return;
        }
      });
      
      
      
      $(document).on("click", "[data-mainbtn='Y']", function(e) {
        var btnScn = $(this).data("btnscn");
        
        if(btnScn == "buyBtn" || btnScn == "dealGoodsOptChocBtn" || btnScn == "presentBtn") {
          // 딜 상세페이지에서 딜 상품 선택 시 해당 딜 상품 번호에 맞게 selectBox 선택
          if ($('#dealGoodsDeailPop').length && btnScn === "buyBtn" && $('#dealGoodsDeailPop').css("display") === "flex" && $('#dealGoodsDeailPop').hasClass("open")) {
            $(".dealGoodsAddFirst").first().find("div.prd-sellist-group").find("ul.prd-sel-list.goods-opt-sel-list li").each(function() {
              if($(".dealGoodsPopupGoodsList.is-active").data("goodscd") === $(this).find("a").data("goodscd")) {
                $(this).find("a").data("tracking", "false"); // 상품상세 진입시 tracking 함으로 최초에는 안함
                $(this).find("a").click();
                return false;
              }
            });
          }
          
          if(btnScn == "dealGoodsOptChocBtn") {
            var dealGoodsCd = $(this).data("goodscd");
            
            $(".dealGoodsAddFirst").first().find("div.prd-sellist-group").find("ul.prd-sel-list.goods-opt-sel-list li").each(function() {
              if(dealGoodsCd == $(this).find("a").data("goodscd")) {
              	$(this).find("a").click();
                return false;
              }
            });
					}
          
          if(btnScn == "presentBtn") {
            $('#btnGoodsDtlBuy').hide();
            $('#btnGoodsDtlPresent').show();
            $('#pGiftNoti').show();
          } else {
            $('#btnGoodsDtlBuy').show();
            $('#btnGoodsDtlPresent').hide();
            $('#pGiftNoti').hide();
          }
          
          popup.open("#pop-prd-option");
          
          if(!$("#pop-prd-option").find('.prd-sellist-group').is(':visible')){
            $("#pop-prd-option").find('a.prd-sel:last').siblings('.prd-sellist-group').slideDown({
              duration: 300
              ,complete: function(){
                $(this).closest(".custom-slt").addClass("on");
              }
            });
          }
          
        } else if(btnScn == "addToCartBtn" || btnScn == "buyNowBtn" || btnScn == "toPresentBtn" || btnScn == "buyFastBtn") {
          var chocGoodsList = addToCartGoodsList(btnScn);
          
          if(chocGoodsList == null || chocGoodsList.length < 1 || chocGoodsList == []) {
            alert("상품을 선택하여 주십시오.");  
            return false;
          }
          
          
          
          
          	if(btnScn == "buyNowBtn" || btnScn == "toPresentBtn") {
          	  loadingShow();
              setTimeout(() => {
                	popup.close("#pop-prd-option");
                  directOrder(chocGoodsList, "Y");
              }, 50);
            }else if(btnScn == "buyFastBtn") {
               // CI 유무 체크
               (async function() {
                   try {
  			 									// 로딩 화면 표시
                     			loadingShow();
                     			
                     			// 병렬로 CI 인증 상태 및 배송지 정보 조회
                     			const [authResult, receiverExistYn] = await Promise.all([
                              appCardPayApi.getCustAuthResult(),
                              checkReceiverExistYn()
                          ]);

                     			if (authResult.resultCode === "0000") {
                            const { ciAuthYn } = authResult.resultData;
                            
                            if (ciAuthYn === "1") {
                          	// CI 인증 성공한 경우 : 등록된 배송지가 있으면 빠른 주문서로 이동
                                if (receiverExistYn === "Y") {
                                    popup.close("#pop-prd-option");
                                    const result = directOrderFast(chocGoodsList, "Y");
                                    if (!result) {
                                        loadingHide(); // 로딩 화면 숨김
                                    }
                                } else {
                                  	// 등록된 배송지가 없으면 빠른결제를 위한 배송지 등록 안내 팝업 오픈
                                   	popup.open("#fastorder-receiver-popup");
                                   	loadingHide(); // 로딩 화면 숨김
                                }
                          	} else if(ciAuthYn === "0") {
                      			// CI 인증 실패한 경우
                                directOrder(chocGoodsList, "Y");
                           	} else {
                            // CI 미인증 고객의 경우
                             		// 팝업에 chocGoodsList를 전달
                             		window.appData = window.appData || {};
    														window.appData.chocGoodsList = chocGoodsList;
                              	// CI 인증 팝업 노출, 팝업 구분 값 설정
    														window.popupCaller = "goodsDetail";
    														popup.open("#fastorder-ci-popup");
    														loadingHide(); // 로딩 화면 숨김
                           }
                        } else {
                            // CI 상태 조회 실패 시
                            console.error("CI 인증 상태 조회 실패:", authResult.resultMsg);
                            directOrder(chocGoodsList, "Y");
                        }
                   } catch (error) {
                     	console.error("CI 인증 상태 확인 중 오류 발생:", error);
                     	directOrder(chocGoodsList, "Y");
                   }
               	})();
            }else {
              insertCart(chocGoodsList, "Y");
            }
          
          
        } else if(btnScn == "reWhsgNtcnBtn") {
          var goodsCd = $(this).data("goodscd"); 
          
          
          	
            
              popup.open("#pop-prd-option");
            
          
        } else {
          alert(btnScn);
        }
      });
      
      
      
      
      
      
    
  	  
	    clickEventBind();
	    
	    if(isApp()) {
	      if (window.webkit != undefined && window.webkit.messageHandlers != undefined && window.webkit.messageHandlers.shoppingntapp != undefined && window.webkit.messageHandlers.shoppingntapp.postMessage != undefined) {
        	window.webkit.messageHandlers.shoppingntapp.postMessage("appSetupVideo?"); // IOS
        } else {
          if("Y" == "Y") {
            window.shoppingntapp.appSetupVideo(); // AOS
          }
        }
	    }
	    
      
      
      
      
	    window.is_now_brdcst = ""; // not empty --> on Air
	    window.item_type =  "Y" === "Y" ? "TV쇼핑" : "일반쇼핑";
	    window.item_state =  "N" === "Y" ? "온에어" : "OSMU";
	    
	    //로그인 후 모든 쿠폰다운로드 플래그 
      var coupon = "";
      var benefitType = "";
      if(benefitType == 'ALL'){
        $("#promtCpnBnef").css('display','flex');
        //모든 쿠폰 다운로드 선택시 동작
        getPromtCpnRcv(this, 'ALL');
        //couponAll=true 파라미터 삭제
        history.replaceState({}, null, location.pathname); 
        }else{
         //쿠폰 개별다운로드 선택시 동작
         if(benefitType == "pCpn"){
           $("#promtCpnBnef").css('display','flex');
           getPromtCpnRcv('seperateCpn_'+coupon,coupon);
           history.replaceState({}, null, location.pathname); 
         }
        }
      
      /* 리뷰AI Script S */
      // 쇼호스트 한줄 요약
      if ($('.swiper-slide.ai-line img').length) {
        var firstImg = $('.swiper-slide').first().find('img');
        var firstImgSrc = firstImg.attr('src');
        var firstImgAlt = firstImg.attr('alt');

        $('.swiper-slide.ai-line img').attr({
          'src': firstImgSrc,
          'alt': firstImgAlt
        });

        if ($('.ai-toast').length) {
          $('.ai-toast').fadeIn(500);
          setTimeout(function () {
            $('.ai-toast').fadeOut(500);
          }, 3500);
        }
      }
      
 	  // 솔직 구매 후기 더보기
      $('.ai-com-thum li .txt').each(function() {
        const $txt = $(this), lh = parseFloat($txt.css('line-height')), maxH = lh * 3;
        if ($txt[0].scrollHeight > maxH) {
          const $btn = $('<span class="more-btn">...더보기</span>').on('click', function() {
            $txt.toggleClass('more');
            if ($txt.hasClass('more')) {
              $(this).text('접기');
            } else {
              $(this).text('...더보기');
            }
          });
          $txt.append($btn);
        }
      });
 	  /* 리뷰AI Script E */
    }); 
    
    
    
    
    function addToCartGoodsList(btnScn) {
			var goodsList = [];
			
			var goodsCd = ""; 
			var frmlsGoodsScn = ""; 
			var snglnsOrdYn = ""; 
			var brdcstSaleGoodsYn = ""; 
			var tvExpYn = ""; 
			var srch = ""; 
			
			
			$(".chocGoodsDsp").first().find("div.prd-opt-price").each(function() {
			  
			  frmlsGoodsScn = "N";
				if($(this).data("frmlsgoodsscn") == "10") {
				  frmlsGoodsScn = "Y"
				}
				
				
				snglnsOrdYn = $(this).data('snglnsordyn');
				if($.trim(snglnsOrdYn) == "") {
				  snglnsOrdYn = "N";
				}
				
				brdcstSaleGoodsYn = $(this).data('brdcstsalegoodsyn');
				if($.trim(brdcstSaleGoodsYn) == "") {
				  brdcstSaleGoodsYn = "N";
				}
				
				var goodsQty = $(this).find(".goodsChocQty").val(); 
				if(Number(goodsQty) == 0 || String(Number(goodsQty)) == "NaN") {
				  goodsQty = 1;
				}
			  
			  var chocGoods = {};
			  
			  goodsCd = $.trim($(this).data("goodscd"));
			  chocGoods['goodsCd'] = $.trim($(this).data("goodscd"));
			  
			  tvExpYn = "N";
			  if($("#exp_"+goodsCd).length > 0) {
			    tvExpYn = "Y"
			  }
			  
			  
	      
	      
	      
	      	chocGoods['goodsNm'] = $.trim($(this).find(".prd-info .tit .name").text()); 
	      
	      
			  
			  chocGoods['sitemCd'] = $.trim($(this).data("optcd")); 
			  chocGoods['sitemDtl'] = $.trim($(this).find(".prd-info .option span").text()); 
			  chocGoods['goodsQty'] = $.trim(goodsQty); 
			  chocGoods['setYn'] = $.trim($(this).data("setgoodsyn")); 
			  if(btnScn == "buyNowBtn" || btnScn == "buyFastBtn") {
			    chocGoods['directOrderYn'] = 'Y'; 
			    chocGoods['presentYn'] = 'N'; 
			  } else if(btnScn == "toPresentBtn") {
			    chocGoods['directOrderYn'] = 'Y'; 
			    chocGoods['presentYn'] = 'Y'; 
			  } else {
			    chocGoods['directOrderYn'] = 'N'; 
			    chocGoods['presentYn'] = 'N'; 
			  }
			  chocGoods['snglnsOrdYn'] = $.trim(snglnsOrdYn); 
			  chocGoods['frmlsGoodsScn'] = $.trim(frmlsGoodsScn); 
			  chocGoods['brdcstSaleGoodsYn'] = $.trim(brdcstSaleGoodsYn); 
			  chocGoods['tvExpYn'] = $.trim(tvExpYn); 
			  chocGoods['shoppingntAmt'] = $.trim(Number($(this).find("div.opt-info").find(".purchase-quantity").data("goodsbaseprc")));
			  chocGoods['goodsCategory'] = '운동화/스포츠화';
			  
			  chocGoods['entyTyCd'] = '02';
			  chocGoods['entySrcCd'] = 'HOME0002';
			  chocGoods['entyPageId'] = '';
			  
			  chocGoods['note2'] = $.trim(srch); 
			  try{
                const queryString = window.location.search;
                const urlParams = new URLSearchParams(queryString);
                const hsmoa_userid = urlParams.get('hsmoa_userid');
                const hmoa_code = urlParams.get('hsmoa_code');
                if(hsmoa_userid && hmoa_code){
                  chocGoods['note2'] = "hsmoaep:"+ hsmoa_userid + '|' + hmoa_code;
                }
			  }catch(e){
			    console.log(e);
			  }
			  
			  var gftPromtList = [];
			  if($(this).find(".gift-box").length > 0) {
			    var gftPromtCnt = $(this).find(".gift-box ul li").length;
			    $(this).find(".gift-box ul li").each(function() {
    			  var gftPromt = {};
    			  gftPromt['goodsCd'] = $.trim($(this).data("gftgoodscd")); 
    			  
    			  if(gftPromtCnt > 1) {
    			    
    			    gftPromt['goodsNm'] = $.trim($.trim($.trim($(this).find("p.txt").text()).substring(7))); 
    			  } else {
      			  gftPromt['goodsNm'] = $.trim($(this).find("p.txt").text()); 
    			  }
    			  
    			  gftPromt['sitemCd'] = $.trim($(this).data("gftoptcd")); 
    			  gftPromt['sitemDtl'] = $.trim($(this).find("p.option-quantity").text()); 
    			  gftPromt['goodsQty'] = $.trim(goodsQty); 
    			  gftPromt['promtSn'] = $.trim($(this).data("gftpromtlinksn")); 
    			  gftPromt['gftTunm'] = $.trim($(this).data("gfttunm")); 
    			  
    			  gftPromtList.push(gftPromt);
			    });
			  }
			  chocGoods['gftPromtList'] = gftPromtList; 
			  goodsList.push(chocGoods);
			});
			
			return goodsList;
			
		
    }
    
    
    function clickEventBind() {
      var prdSelData = ""; // 선택된 상품 데이터 값
      
      $(".custom-slt.goods-opt-sel-list .prd-sel").off("click").on("click", function(e){
        e.preventDefault();
        
        if($(this).closest(".custom-slt").hasClass("on") == true){
          $(this).closest(".custom-slt").find(".prd-sellist-group").stop().slideUp({
            duration: 300,
            complete: function(){
              $(this).closest(".custom-slt").removeClass("on");
            }
          });
        }else{

          $(this).closest(".prd-opt-info").find('.prd-sellist-group').stop().slideUp({
            duration: 300,
            complete: function(){
              $(this).closest(".custom-slt").removeClass("on");
            }
          });

          $(this).closest(".custom-slt").find(".prd-sellist-group").stop().slideDown({
            duration: 300
            });
          $(this).closest(".custom-slt").addClass("on");
        };
         $(this).closest(".custom-slt").css({"z-index":zIndex++});
      });

      
      $(".prd-sel-list.goods-opt-sel-list .sel-list").off("click").on("click", function(e) {
        e.preventDefault();
        
        if($(this).closest("li").hasClass("select") == false){
          $(this).closest(".prd-sel-list").find(".sel-list").removeAttr('title');
          $(this).attr("title", "선택됨");
          $(this).closest(".prd-sel-list").find("> li").removeClass("select");
          $(this).closest("li").addClass("select");
        };

        $(this).closest(".prd-sellist-group").stop().slideUp({
          duration: 300,
          complete: function(){
            $(this).closest(".custom-slt").removeClass("on");
          }
        });
        
        var goodsCd = $(this).data("goodscd");
        var optCd = $(this).data("optcd");
        var brcd = $(this).data("brcd");
        var goodsNm = $(this).data("goodsnm");
        
        var goodsPrc = 0;
        var setGoodsYn = ""; 
        var snglnsOrdYn = ""; 
        var frmlsGoodsScn = ""; 
        var brdcstSaleGoodsYn = ""; 
        var goodsOrdMinQty = 1;
        var goodsOrdMaxQty = 9999999;
				var promtGftYn = "";
				var promtGftCnt = 0; 
				
        // 딜 상품변경 마케팅 실적 Start
        var tracking = $(this).data("tracking");
        if (tracking !== "false" && $(this).closest('.dealGoodsAddFirst').length > 0) {
          try {
            goodsTracking(goodsCd);
          } catch (e) {
          }
        }
        $(this).removeData("tracking"); // ajax response 기다릴 필요 없음
        // 딜 상품변경 마케팅 실적 End
        
  			$("a[name='optGroup'][data-firstdepth='Y']").first().parent().find(".prd-sel-list").find(".sel-list").each(function(idx) {
  			  if(goodsCd == $(this).data("goodscd")) {
  	        goodsPrc = Number($(this).data("goodsprc"));
  	        setGoodsYn = $.trim($(this).data("setgoodsyn"));
  	        snglnsOrdYn = $.trim($(this).data("snglnsordyn"));
  	        frmlsGoodsScn = $.trim($(this).data("frmlsgoodsscn"));
  	        brdcstSaleGoodsYn = $.trim($(this).data("brdcstsalegoodsyn")); 
  	        goodsOrdMinQty = Number($(this).data("goodsordminqty"));
  	        goodsOrdMaxQty = Number($(this).data("goodsordmaxqty"));
  					promtGftYn = $.trim($(this).data("promtgftyn"));
  					promtGftCnt = Number($(this).data("promtgftcnt"));
  			  	return false;
  			  }
  			});
				
        var optDtl = $(this).data("optdtl");
        var optClor = $(this).data("clor");
        var optSize = $(this).data("size");
        var optPttrn = $(this).data("pttrn");
        var optShp = $(this).data("shp");
        
        var otpSalePsblQty = Number($(this).data("salepsblqty"));
        
        var depth = Number($(this).data("depth")); 
        var lastDepth = Number($(this).data("lastdepth")); 
        
        var gftChocYn = $.trim($(this).data("gftchocyn")); 
        
        // data 추가
        prdSelData = $(this).closest(".custom-slt").find(".select .sel-list .tit").html();
        
        
        
        
        $(".prd-sel-list.goods-opt-sel-list .sel-list").each(function(idx) {
          if(depth == $(this).data("depth")) {
            $(this).closest(".custom-slt").find(".prd-sel").html(prdSelData);
          }
        });
        
        
        if(gftChocYn == "Y") {
          
          
          
          var goodsPromtGftCnt = Number("0");
          
          
          
          var chocPromtGftCnt = 0;
          $(".custom-slt.goods-opt-sel-list.promotion-gift").each(function(idx) {
            chocPromtGftCnt += $(this).find(".prd-sel-list.goods-opt-sel-list li.select").length;
          });
          
          if(goodsPromtGftCnt != chocPromtGftCnt) {
            
            var _this = this;
            setTimeout(function() {
              $(_this).closest("temp").find(".custom-slt.goods-opt-sel-list.promotion-gift").each(function(idx) {
								if($(this).find(".prd-sel-list.goods-opt-sel-list li.select").length < 1) {
								  $(this).find("a[name='optGroup']").click();
								  return false;
								}
              });
            }, 50);
            
          	return;
          }
        }
        
        
        for(var i=depth; i<tempAddMaxId; i++) {
          var addId = i+1;
          $(".optGoodsAdd"+addId).each(function() {
            $(this).html("");
            $(this).hide();
          });
        }
        
        
        $(".custom-slt.goods-opt-sel-list.promotion-gift").each(function(idx) {
          $(this).find(".prd-sel-list.goods-opt-sel-list li.select").each(function(iidx) {
            
            var gftSalePsblQty = Number($(this).find("a").data("gftsalepsblqty")); 
            if(gftSalePsblQty < otpSalePsblQty) {
              otpSalePsblQty = gftSalePsblQty;
            }
          });
        });
        
        
        if(goodsOrdMaxQty > 0 && goodsOrdMaxQty < otpSalePsblQty) {
          goodsOrdMaxQty = goodsOrdMaxQty;
        } else {
          goodsOrdMaxQty = otpSalePsblQty;
        }
        
        var paramData = {};
        if(depth == lastDepth) {
          paramData["goodsCd"] = goodsCd;
          paramData["optCd"] = optCd;
          paramData["brcd"] = brcd;
          paramData["goodsNm"] = goodsNm;
          paramData["optDtl"] = optDtl;
          paramData["depth"] = depth;
          paramData["goodsPrc"] = goodsPrc;
          paramData["setGoodsYn"] = setGoodsYn;
          paramData["snglnsOrdYn"] = snglnsOrdYn;
          paramData["frmlsGoodsScn"] = frmlsGoodsScn;
          paramData["brdcstSaleGoodsYn"] = brdcstSaleGoodsYn;
          paramData["ordMinQty"] = goodsOrdMinQty;
          paramData["otpSalePsblQty"] = goodsOrdMaxQty;
          
          
					
          
          
          var dupCeckYn = false;
          $(".prd-opt-price").each(function(idx) {
            if($(this).data("brcd") == brcd) {
              dupCeckYn = true;
              return false;
            }
          });
        
          if(dupCeckYn) {
            alert("이미 선택한 상품입니다."); 
            var promdepthyn = $.trim($(this).closest(".custom-slt").find("a[name='optGroup']").data("promdepthyn"));
            if(promdepthyn == "Y") {
              
              $(this).closest(".custom-slt").find("a[name='optGroup']").html("<span>사은품을 선택해주세요.</span>"); 
            } else {
            	$("a[name='optGroup'][data-depth='"+depth+"']").find("span").text(getOptBaseTxt(depth));
            }
            
            $(this).find("li").each(function(idx) {
              if($(this).hasClass("select")) {
                $(this).removeClass("select");
              }
            });
            return;
          }
          
          if(promtGftYn == "Y" && gftChocYn == "") {
            paramData["optClor"] = optClor;
            paramData["optSize"] = optSize;
            paramData["optPttrn"] = optPttrn;
            paramData["optShp"] = optShp;
          	paramData["promtGftDepth"] = promtGftYn;
            
            addGoodsOpt(this, paramData); 
          } else {
            if(promtGftYn == "Y" && gftChocYn == "Y") {
							paramData["promtGftYn"] = promtGftYn;
            }
            
            chocGoodsDsp(paramData);
            totGoodsInfoUpdt(); 

            
            $(".custom-slt.goods-opt-sel-list").each(function(idx) {
              if($(this).hasClass("on")) {
                $(this).removeClass("on");
              }
              
              $(this).find(".prd-sellist-group").hide();
            });
          }
        } else {
          paramData["goodsCd"] = goodsCd;
          paramData["goodsPrc"] = goodsPrc;
          paramData["depth"] = depth;
          paramData["optCd"] = optCd;
          paramData["optClor"] = optClor;
          paramData["optSize"] = optSize;
          paramData["optPttrn"] = optPttrn;
          paramData["optShp"] = optShp;
          paramData["otpSalePsblQty"] = goodsOrdMaxQty;
          paramData["promtGftDepth"] = "N";
          
          addGoodsOpt(this, paramData); 
          
          $(".optGoodsAdd"+(depth+1)).find(".prd-sellist-group").slideDown({duration: 300});
          $(".optGoodsAdd"+(depth+1)).find(".custom-slt").addClass("on");
        }
        clickEventBind();
      });
      
      
      $(".chocGoodsDel").off("click").on("click", function(e) {
        var brcd = $(this).data("brcd");
        $("div[data-brcd='"+brcd+"']").remove();
        totGoodsInfoUpdt(); 
      });
      
      
      
      $(".btn-quantity-minus, .btn-quantity-plus").off("click").on("click", function(e) {
        var $input = $(this).parent().find('.goodsChocQty');
        var scn = $(this).data("scn");
        var brcd = $(this).data("brcd");
        var count =0;
        
        if(scn == "m") {
          var minQty = Number($(this).data("minqty"));
          if(String(minQty) == "NaN" || minQty == 0) {
            minQty = 1;
          }
          count = parseInt($input.val()) - 1;
          
          if(count < minQty) {
            alert("주문 가능한 최소 수량은 "+minQty+"개 입니다."); 
          }
          
          count = count < minQty ? minQty : count;
        } else {
          var salePsblQty =  Number($(this).data("salepsblqty"));
          
          if(String(salePsblQty) == "NaN" || salePsblQty > 99) {
            salePsblQty = 99;
          }
          
          count = parseInt($input.val()) + 1;
          
          if(count > salePsblQty) {
            alert("주문 가능한 최대 수량은 "+salePsblQty+"개 입니다."); 
          }
          
          count = count > salePsblQty ? salePsblQty : count;
        }
        
        
        var goodsPrc = $.eshopfront.cmm.setComma(Number($(this).parent().data("goodsbaseprc")) * count); 
        setTimeout(function() {
          $(".goodsChocQty[data-brcd='"+brcd+"']").val(count);
          $(".goodsChocQty[data-brcd='"+brcd+"']").attr("value", count); 
          $("em[data-brcd='"+brcd+"']").text(goodsPrc);
          
          totGoodsInfoUpdt(); 
        }, 10);
      });
      
      
      $(".goodsChocQty").off("keyup focusout").on("keyup focusout", function(e) {
        var brcd = $(this).data("brcd");
        isNumber(this); 
        
        var count = Number($(this).val()); 
        
        var minQty = Number($(this).parent().find('.btn-quantity-minus').data("minqty"));
        if(String(minQty) == "NaN" || minQty == 0) {
          minQty = 1;
        }
        
        if(String(count) == "NaN") {
          count = 0;
        }
        
        var salePsblQty =  Number($(this).parent().find('.btn-quantity-plus').data("salepsblqty"));
        
        if(String(salePsblQty) == "NaN" || salePsblQty > 99) {
          salePsblQty = 99;
        }
        
        
        if(count < minQty) {
          
          if(e.type != "keyup") {
          	alert("주문 가능한 최소 수량은 "+minQty+"개 입니다."); 
        		count = minQty;
        		$(this).val(count);
          }
        } else if(count > salePsblQty) {
            alert("주문 가능한 최대 수량은 "+salePsblQty+"개 입니다."); 
            count = salePsblQty;
            $(this).val(count);
        }
        
        if(e.type == "focusout") {
          if($.trim($(this).val()) == "") {
            count = minQty;
            $(this).val(count);
          }
        }
        
        
        var goodsPrc = $.eshopfront.cmm.setComma(Number($(this).parent().data("goodsbaseprc")) * count); 
        setTimeout(function() {
          
          $(".goodsChocQty[data-brcd='"+brcd+"']").val(count); 
          $(".goodsChocQty[data-brcd='"+brcd+"']").attr("value", count); 
          $("em[data-brcd='"+brcd+"']").text(goodsPrc);
          
          totGoodsInfoUpdt(); 
        }, 10);
      });
      
      
      $(".dim").off("click").on("click", function(e){
  			if(DEVICECD === "03" && OSCD === "01" && $(".appPopupList").hasClass("open")) window.shoppingntapp.appClosePopEnd(); 
  			popup.close( $(this).next(".popup.open") );
  		});
      
      
      $(document).on("click", "#noInvExcd1", function() {
        $(this).attr("checked", $(this).prop("checked"));
      });
      
    } 
    
    
    function totGoodsInfoUpdt() {
      var goodsQty = 0;
      var goodsCnt = 0;
      
      var totGoodsQty = 0;
      var totGoodsPrc = 0;
      
      $(".chocGoodsDsp").first().find("div.prd-opt-price").each(function() {
        goodsQty = Number($(this).find("div.opt-info").find("div.purchase-quantity").find(".goodsChocQty").val()); 
        goodsPrc = Number($(this).find("div.opt-info").find("div.purchase-quantity").data("goodsbaseprc")); 
        
        totGoodsQty += goodsQty;
        totGoodsPrc += (goodsPrc*goodsQty);
      });
      
      totGoodsQty =$.eshopfront.cmm.setComma(Number(totGoodsQty));
      totGoodsPrc = $.eshopfront.cmm.setComma(Number(totGoodsPrc));
      
      $(".totGoodsQty").text(totGoodsQty);
      $(".totGoodsPrc").text(totGoodsPrc);
    }
    
    
    function addGoodsOpt(_this, ajaxData) {
      // if(ajaxData == null) {
      //   return;
      // }
      
      // var ajaxOptCd = $.trim(ajaxData.optCd); 
      // var ajaxClorCd = "";
      // var ajaxSizeCd = "";
      // var ajaxPttrnCd = "";
      // var ajaxShpCd = "";
      
      // if(ajaxData.depth == 1) {
      //   ajaxClorCd = ajaxData.optClor;
      // } else if(ajaxData.depth == 2) {
      //   ajaxClorCd = ajaxData.optClor;
      //   ajaxSizeCd = ajaxData.optSize;
      // } else if(ajaxData.depth == 3) {
      //   ajaxClorCd = ajaxData.optClor;
      //   ajaxSizeCd = ajaxData.optSize;
      //   ajaxPttrnCd = ajaxData.optPttrn;
      // } else if(ajaxData.depth == 4 || ajaxData.depth == 5) {
      //   ajaxClorCd = ajaxData.optClor;
      //   ajaxSizeCd = ajaxData.optSize;
      //   ajaxPttrnCd = ajaxData.optPttrn;
      //   ajaxShpCd = ajaxData.optShp;
      // }
      
      // $.ajax({
      //   url : "/goods/detail/goods-opt-list",
      //   type: 'POST',
      //   data: {
      //     goodsCd : ajaxData.goodsCd
      //     , depth : ajaxData.depth
      //     , noInvExcdYn : $("#noInvExcd1").is(":checked") ? "Y" : "N" 
      //     , clorCd : ajaxClorCd
      //     , sizeCd : ajaxSizeCd
      //     , pttrnCd : ajaxPttrnCd
      //     , shpCd : ajaxShpCd
      //     , optCd : ajaxOptCd 
      //     , promtGftDepth : ajaxData.promtGftDepth
      //   },
      //   async : false, 
      //   dataType : 'html',
      //   headers: {
      //     "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      //   }
      //   , success: function(data){
          
      //     if(data != null) {
      //       var appendHtml = data;
      //       var addId = String(Number(ajaxData.depth)+1);
      //       $(".optGoodsAdd"+addId).each(function(idx) {
      //         $(this).html(appendHtml);
      //         $(this).show();
      //         if(ajaxData.promtGftDepth == "Y" && idx == 0) {
                
      //           setTimeout(function() {
      //           	$(_this).closest(".optGoodsAdd"+ajaxData.depth).parent().find(".optGoodsAdd"+addId).find(".custom-slt.goods-opt-sel-list.promotion-gift").first().find("a[name='optGroup']").click();
      //           }, 150);
      //         }
      //       });
      //     }
      //   }
      //   , error:function(request,status,error){
      //     console.log("request",request);
      //     console.log("status",status);
      //     console.log("error",error);
      //     if(chk403(request)) return;
      //     alert("조회에 실패하였습니다."); 
      //   }
      // });
    }
    
    function chocGoodsDsp(dspData) {
      if(dspData == null) {
        return;
      }
      
      var appendHtml = "";
      var optDtlTxt = ""
      if(optDtlTxt != "없음") {
        optDtlTxt = String(dspData.optDtl);
      } 
      
      
      appendHtml += "<div class=\"prd-opt-price\"  data-goodscd=\""+dspData.goodsCd+"\" data-optcd=\""+dspData.optCd+"\" data-brcd=\""+dspData.brcd+"\" data-setgoodsyn=\""+dspData.setGoodsYn+"\" data-snglnsordyn=\""+dspData.snglnsOrdYn+"\" data-frmlsgoodsscn=\""+dspData.frmlsGoodsScn+"\" data-brdcstsalegoodsyn=\""+dspData.brdcstSaleGoodsYn+"\">";    
      appendHtml += " <div class=\"prd-info\">";
      appendHtml += "   <div class=\"tit\">";
      appendHtml += "<span class=\"name\">";
      
      
      
      appendHtml += dspData.goodsNm;
      appendHtml += "</span>";
      appendHtml += "   </div>";
      if($.trim(optDtlTxt) != "" && "없음" != optDtlTxt) {
	      appendHtml += "   <div class=\"option\">";
      	appendHtml += "     <span>"+optDtlTxt+"</span>";
  	    appendHtml += "   </div>";
      }
      appendHtml += " </div>";
      
      
      if(dspData.promtGftYn == "Y") {
        appendHtml += "<div class=\"gift-box\">";
        appendHtml += " 	<dl>";
        appendHtml += " 		<dt>사은품</dt>";
        appendHtml += " 		<dd>";
        appendHtml += " 			<ul>";
        
        
        $(".custom-slt.goods-opt-sel-list.promotion-gift").each(function(idx) {
          $(this).find(".prd-sel-list.goods-opt-sel-list li.select").each(function(iidx) {
            
            var gftPromtLinkSn = $.trim($(this).find("a").data("gftpromtlinksn")); 
            var gftTunm = $.trim($(this).find("a").data("gfttunm")); 
            var gftGoodsCd = $.trim($(this).find("a").data("gftgoodscd")); 
            var gftGoodsNm = $.trim($(this).find("a").data("gftgoodsnm")); 
            var gftOptCd = $.trim($(this).find("a").data("gftoptcd")); 
            var gftOptDtl = $.trim($(this).find("a").data("gftoptdtl")); 
            
            appendHtml += " 				<li data-gftpromtlinksn=\""+gftPromtLinkSn+"\" data-gfttunm=\""+gftTunm+"\" data-gftgoodscd=\""+gftGoodsCd+"\" data-gftgoodsnm=\""+gftGoodsNm+"\" data-gftoptcd=\""+gftOptCd+"\" data-gftoptdtl=\""+gftOptDtl+"\">";
            appendHtml += " 					<p class=\"txt\">"+gftGoodsNm+"</p>";
            if($.trim(gftOptDtl) != "" && "없음" != gftOptDtl) {
            	appendHtml += " 				<p class=\"option-quantity\">"+gftOptDtl+"</p>";
            }
            appendHtml += " 				</li>";
            return false;
          });
        });
        
        appendHtml += " 			</ul>";
        appendHtml += " 		</dd>";
        appendHtml += " 	</dl>";
        appendHtml += "</div>";
      }

			
      
      appendHtml += " <div class=\"opt-info\">";
      appendHtml += "   <div class=\"purchase-quantity\" data-goodsbaseprc=\""+Number(dspData.goodsPrc)+"\">";
      appendHtml += "     <button class=\"btn-quantity-minus\" data-scn=\"m\" data-brcd=\""+dspData.brcd+"\" data-minqty=\""+dspData.ordMinQty+"\">빼기</button>";
      appendHtml += "     	<input type=\"text\" class=\"input-number goodsChocQty\" value=\""+dspData.ordMinQty+"\" data-brcd=\""+dspData.brcd+"\" maxlength=\"2\" min=\""+dspData.ordMinQty+"\" max=\"99\" />";
      appendHtml += "     <button class=\"btn-quantity-plus\" data-scn=\"p\" data-brcd=\""+dspData.brcd+"\" data-salepsblqty=\""+dspData.otpSalePsblQty+"\">더하기</button>";
      appendHtml += "   </div>";
      appendHtml += "   <div class=\"price\">";
      appendHtml += "     <em data-brcd=\""+dspData.brcd+"\">"+$.eshopfront.cmm.setComma(Number(dspData.ordMinQty*dspData.goodsPrc))+"</em>원";
      appendHtml += "   </div>";
      appendHtml += " </div>";
      
      
      
      
      appendHtml += "  <button type=\"button\" class=\"btn-close appendHtmlDel chocGoodsDel\" data-brcd=\""+dspData.brcd+"\" >";
      appendHtml += "   <span class=\"hidden\">선택 상품 삭제</span>";
      appendHtml += "  </button>";
      
      appendHtml += "</div>";
      
      $(".chocGoodsDsp").each(function(idx) {
        $(this).append(appendHtml);
      });
      
      
      var firstDepthThis = $("a[name='optGroup'][data-firstdepth='Y']"); 
      var firstDepth = firstDepthThis.data("depth"); 
      var depthTxt = $.trim(firstDepthThis.data("promdepthyn")) == "Y" ? "사은품을 선택해주세요." : getOptBaseTxt(firstDepth); 
      
      
      firstDepthThis.html("<span>"+depthTxt+"</span>"); 
      
      if(firstDepthThis.parent().hasClass("on")) {
        firstDepthThis.parent().removeClass("on");
      }
      
      for(var i=1; i<=tempAddMaxId; i++) {
        $(".optGoodsAdd"+i).each(function() {
          $(this).html("");
          $(this).hide();
        });
      }
      
      $("ul.prd-sel-list.goods-opt-sel-list li").each(function(idx) {
        if($(this).hasClass("select")) {
          $(this).removeClass("select");
        }
      });
      
    }
    
    function getOptBaseTxt(depth) {
      var depthTxt = "";
      if(depth == "0") {
        depthTxt = "상품을 선택해주세요."; 
      } else if(depth == "1") {
          depthTxt = "색상을 선택해주세요."; 
      } else if(depth == "2") {
        depthTxt = "사이즈를 선택해주세요.";           
      } else {
        depthTxt = "옵션을 선택해주세요."; 
      }
      
      return depthTxt;
    }
    
    
    
    function reWhsgNtcnPopup(btnThis, goodsCd, optCd, optDtl) {
      
      
      
				var reWhsgNtcnBtnThis = $(btnThis);
      	var stgScnYn = "";
      	
      	if(reWhsgNtcnBtnThis.hasClass("is-active")) {
      	  stgScnYn = "N";
      	} else {
      	  stgScnYn = "Y";
      	}
      	
      	if(stgScnYn == "N") {
          
      	  $("#reWhsgNtcnSgtBtn").data("goodscd", reWhsgNtcnBtnThis.data("goodscd"));
      	  $("#reWhsgNtcnSgtBtn").data("optcd", reWhsgNtcnBtnThis.data("optcd"));
      	  $("#reWhsgNtcnSgtBtn").data("optdtl", reWhsgNtcnBtnThis.data("optdtl"));
      	  reWhsgNtcnSgt(); 
      	} else {
      	  if($("#reWhsgNtcnRcvAgr").is(":checked")) {
      	    $("#reWhsgNtcnRcvAgr").prop("checked", false);
        	  $("#reWhsgNtcnSgtBtn").attr("disabled","disabled");
        	}
        	$("#reWhsgNtcnSgtBtn").data("goodscd", goodsCd);
        	$("#reWhsgNtcnSgtBtn").data("optcd", optCd);
        	
        	$("#reWhsgNtcnSgtBtn").data("optdtl", optDtl);
        	if ($("#reWhsgNtcnSgtBtn").data("optdtl") == '없음'){
        	  $('.option-quantity').text("단일상품");
        	} else if ($("#reWhsgNtcnSgtBtn").data("optdtl") != null && $("#reWhsgNtcnSgtBtn").data("optdtl") != "") {
        	  $('.option-quantity').text($("#reWhsgNtcnSgtBtn").data("optdtl"));
        	}else{
        	  $('.option-quantity').text("단일상품");
        	}
  				popup.open("#reWhsgNtcnPop");
      	}
      
      
      
      
    }
    
    
    function reWhsgNtcnSgt() {
      
      
      if(reWhsgNtcnStgProcYn) {
        return;
      }
      
      
      
      var goodsCd = $.trim($("#reWhsgNtcnSgtBtn").data("goodscd"));
      var optCd = $.trim($("#reWhsgNtcnSgtBtn").data("optcd"));
      
      var stgScnYn = "";
      if(optCd == "ALL") {
        if($("button[type='button'][data-mainbtn='Y'][data-btnscn='reWhsgNtcnBtn']").hasClass("is-active")) {
          stgScnYn = "N";
        } else {
          stgScnYn = "Y";
        }
      } else {
        $(".optReWhsgNtcnBtn").each(function(idx) {
          var btnGoodsCd = $(this).data("goodscd");
          var btnOptCd = $(this).data("optcd");
          
          if(goodsCd == btnGoodsCd && optCd == btnOptCd) {
          	if($(this).hasClass("is-active")) {
          	  stgScnYn = "N";
          	} else {
          	  stgScnYn = "Y";
          	}
          	
            return false;
          }
        });
      }
      
      if(stgScnYn != "N") {
        if(!$("#reWhsgNtcnRcvAgr").is(":checked")) {
          return false;
        }
      }
      
      if(goodsCd == "" || optCd == "") {
        alert("잘못된 정보입니다.");
        return false;
      }
      
      if($.trim(stgScnYn) == "") {
        alert("재입고알림 오류가 발생하였습니다. 시스템담당자에게 요청하여주십시오.");
        return;
      }
      
      reWhsgNtcnStgProcYn = true;
      
      $.ajax({
        url : "/goods/detail/re-whsg-ntcn-stg-ajax",
        type: 'POST',
        data: {
          goodsCd : goodsCd
          ,optCd : optCd
          ,stgScnYn : stgScnYn
        },
        async : false,
        dataType : 'json',
        headers: {
          "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
        }
        , success: function(data){
      		
      		var reWhsgNtcnBtnThis = "";
      		if(optCd == "ALL") {
        		reWhsgNtcnBtnThis = $("button[type='button'][data-mainbtn='Y'][data-btnscn='reWhsgNtcnBtn']");
      		} else {
      		  $(".optReWhsgNtcnBtn").each(function(idx) {
              var btnGoodsCd = $(this).data("goodscd");
              var btnOptCd = $(this).data("optcd");
              if(goodsCd == btnGoodsCd && optCd == btnOptCd) {
                reWhsgNtcnBtnThis = $(this)
                return false;
              }
            });
      		}
      		
      		if(stgScnYn == "Y") {
      		  if(!reWhsgNtcnBtnThis.hasClass("is-active")) {
      		    reWhsgNtcnBtnThis.addClass("is-active");
      		  }
      			alert("입고알림 신청이 완료되었습니다."); 
      			popup.close("#reWhsgNtcnPop");
      		} else {
      		  if(reWhsgNtcnBtnThis.hasClass("is-active")) {
      		    reWhsgNtcnBtnThis.removeClass("is-active");
      		  }
      		  alert("입고알림 신청이 삭제되었습니다."); 
      		}
        }
        , error:function(request,status,error){
          console.log("/goods/detail/re-whsg-ntcn-stg-ajax Error", request);
          if(chk403(request)) return;
        }
      });
      reWhsgNtcnStgProcYn = false;
			
    }
    
    
    
    function custInfoChg() {
      
      location.href="/mypage/mbr/info-ceck";
      
    }
    
    function goLogin() {
      
    }
    
    function checkDown(dupCpnYn,promtCpnDisabled){
    	
      var disabledYn = $("#"+promtCpnDisabled).attr("disabled");
			//dsiabeld 되어있는 경우 disabled , 안되어있는 경우 undefined
      
      if(disabledYn == "disabled" &&  dupCpnYn != "Y"){
        alert("이미 쿠폰을 발급받으셨습니다. 쿠폰은 ID당 1회만 지급됩니다.");  
      }else if(disabledYn == "disabled" && dupCpnYn == "Y"){
        alert("이미 발급된 쿠폰입니다. 발급받은 쿠폰 사용 후 재발급 가능합니다.");  
      }
    }
    
    function getUseStartEndDate(startDate, endDate) {
      let result = '';
      let existString = false;
      if(typeof startDate === "string" && startDate.length >= 10){
        result += startDate.substring(2,10).replaceAll('-','.');
        existString = true;
      }
      if(typeof endDate === "string" && endDate.length >= 10){
        if(existString) {
          result += '-';
        }
        result += endDate.substring(2,10).replaceAll('-','.');
      }
      return result;
    }
    
    function goodsTracking(goodsCd) {
      $.ajax({
        url : '/goods/tracking/' + goodsCd,
        type: 'POST',
        data: {
          entyTyCd: '02'
          , entySrcCd: 'HOME0002'
          , entyPageId: ''
        },
        dataType : 'json',
        headers: {
          "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
        }
        , success: function(data){
        }
        , error:function(request,status,error){
        }
      });
    }
</script>

  <section class="full">
    <div class="prd-detail-wrap">
      
          
            <div class="tit-time">
            
              
              
                <div class="tit">
                  <strong>알림설정으로 방송을 놓치지마세요 !</strong>
                </div>
              
            
              
              <div class="btn-area">
                
                  
                    
                      
                      
                        
                      
                    
                  
                                   
                
                <button type="button" class="btn white x-s border-g has-icon" onclick="javascript:alarmPopOpen('25FW 아보크 클로그 윈터슈즈 2종 여성','24760392','/goods/392/24760392_h.jpg','','Y','Y','',this);;"><span class="ico-alarm">방송알림</span></button>
              </div>
            </div>
          
        
        
        
        
        <!-- s: 상세 썸네일 영역 -->
        <div class="prd-thumb-area">
          <!-- s : 상품상세 상단 썸네일 -->
          <div class="prd-thumb">
          
              <div class="re-video-wrap">                     
                <video id="video2" class="video-js vjs-default-skin" controls playsinline preload="none" through="m2ps">
                  <!-- <source src="https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8" type="application/x-mpegURL"> -->
                </video>
                <button type="button" class="btn-mov-close" id="video-close2">닫기</button>
                <div class="re-thum-tost">5G / LTE 등의 환경에서는<br>데이터 요금이 발생할 수 있습니다.</div>
              </div>
          
            <ul class="swiper-wrapper">
                
                
                
                  
                  
                    
                    
                    
                      <li class="swiper-slide on"">
                        
                          
                            <!-- s : 비디오 타입 -->
                            <!-- s : video 영역 : 추후 수정 예정 -->
                          <div class="video-box js-video-box">
                              <div class="img-box">
                                <img src="https://img.shoppingntmall.com/goods/392/24760392_h.jpg/dims/format/avif;fallback=webp/optimize" alt="25FW 아보크 클로그 윈터슈즈 2종 여성" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy">
                              </div>
                              
                              <div class="mov-play-area">
                                
                                <button type="button" class="btn-mov-play"  onclick="playVideojs($(this), '/viewer/medias/bps/20251208/1900006580/transcoding/hls/master.m3u8','false','2')">동영상 재생</button>                                
                                
                              </div>
                          </div>
                          <!-- e : video 영역 : 추후 수정 예정 -->
                          <!-- e : 비디오 타입 -->
                          
                          
                        
                      </li>
                      
                    
                    
                    
                    
                    
                    
                      <li class="swiper-slide "">
                        
                          
                          
                            <!-- s : 이미지 타입 -->
                            <img src="https://img.shoppingntmall.com/goods/392/24760392_h.jpg/dims/format/avif;fallback=webp/optimize" alt="25FW 아보크 클로그 윈터슈즈 2종 여성" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy">
                            <!-- e : 이미지 타입 -->
                          
                        
                      </li>
                      
                    
                  
                
                
                
                  <li class="swiper-slide ai-line">
                    <img src="첫슬라이드이미지" alt="첫슬라이드이미지" through="m2ps" loading="lazy">
                    <div class="ai-sum-wrap">
                      <div class="ai-sum">
                        <dl>
                          <dt>쇼호스트 한줄 요약</dt>
                          <dd>25FW 아보크 클로그 윈터슈즈 2종 여성은 따뜻하고 가볍고 안전한 EVA 소재로 제작된 겨울철 필수 아이템입니다. 다양한 컬러와 스타일로 제공되어 실내외 어디서든 편안하게 신을 수 있으며, 미끄럼 방지와 오염 방지 기능까지 갖추고 있어 실용성과 디자인을 동시에 잡은 제품입니다.</dd>
                        </dl>
                        <a href="javascript:;" onclick="document.querySelector('button.goodsGdas').click();"><strong id="showhostReviewCnt">0건</strong> 리뷰 더보기</a>
                      </div>
                    </div>
                  </li>
                
                
            </ul>
            <!-- 인디케이터 -->
            <div class="top-banner-paging"></div>
            
            
              <p class="ai-toast">좌에서 우로 이미지를 넘겨보시면<br>쇼호스트의 솔직한 평을 보실 수 있습니다.</p>
            
            
          </div>
          <!-- e : 상품상세 상단 썸네일 -->
          











 





 
   
 
 
 


    



  
              
  
  









        </div> 
            
        <!-- s: 상세 상품 정보 영역 --> 
        <div class="prd-info-area">
          <div class="type-line-no-pd">
            <div class="prd-basic-info">
               
              <div class="grade" onclick="$('.tab.type-div-four button').eq(2).click();" style="cursor:pointer;">
              











 





 
   
 
 
 


    



  
              
  
  








    <span class="star-area">
      
      <span class="star" style="width:80.0%"></span>
    </span>
    <span class="num">
        <span class="hidden">평점 5점만점에</span>4.3
    </span>
    <span class="comment">
        <span class="hidden">상품평 수</span>
        
          
          
            (41)
          
        
    </span>

              </div>
          
              <div class="tit">
                
                
                
                  
                    <span class="point-c1" id="exp_24760392">TV쇼핑</span>
                  
                  <span class="name" data-braze_product_category="운동화/스포츠화" data-braze_product_item="001239.아보크+08.운동화">25FW 아보크 클로그 윈터슈즈 2종 여성</span>
                
                
              </div>
              
              
               
              
              <div class="purchase">
                
                  
                  
                    
                    
                    
                    <div class="price">
                        <span class="hidden">할인가</span>
                        
                        <em>29,900</em>원
                    </div>
                    
                    
                  
                
              </div>
            </div>
          
            
            











 





 
   
 
 
 


    



  
              
  
  









  
    <div class="prd-boon-wrap">
      <div class="prd-boon-coupon">
        
          
            
              
                <p><span class="boon-name">테스트vi...</span>님을 위한 혜택</p>
              
              
            
          
          
        
        
      </div> 
      <div class="prd-boon-con">
        
        
          <div class="prd-boon-con-li">
            <div class="prd-boon-tit">
              <div class="prd-boon-txt"><strong>최대 적립금</strong></div>
              <div class="prd-boon-plus"><strong>+1,200</strong><span>원</span></div>
            </div>
            <ul class="prd-boon-ul">
              
              
              
                <li><div>포토 상품평 작성 시</div><div>1,200<span>원</span></div></li>
              
            </ul>
          </div>
        
      </div>
      <button class="prd-boon-aco" type="button"></button> 
    </div>
    <div class="popup dialog" id="cash-hight-popup">
      <div class="popup-inner"> 
        <div class="popup-header">
          <h2>최대 혜택가</h2>
        </div>
        <div class="popup-content mt0">
          <ul class="dot-list mt0">
            <li>고객님이 받을 수 있는 최대 할인을 적용한 금액입니다.</li>
            <li>할인 금액을 확인하는 용도로만 사용되며, 혜택 변경 시 최대 혜택 금액이 변경될 수 있습니다.</li>
            <li>정확한 결제 금액은 주문서에서 확인해주세요.</li>
          </ul>
        </div>
        <button type="button" class="btn-popup-close" onclick="popup.close('#cash-hight-popup')">팝업 닫기</button>
      </div>
    </div>
    











 





 
   
 
 
 


    



  
              
  
  







  <div class="popup dialog pb16" id="app-saveamt-noti-popup">
    <div class="popup-inner">
      <div class="popup-header">
        <h2>앱 주문 적립</h2>
      </div>
      <div class="popup-content pb16"> 
        <ul class="dot-list mt0 pb16">
          <li>모바일 앱에서 [TV쇼핑]이 표시된 상품 구매 후 적립금 신청 시 지급됩니다.</li>
          <li>적립금은 최종 결제금액에 따라 달라질 수 있으며, 등급별로 적립율이 상이할 수 있습니다.</li>
          <li>주문당 최대 적립 금액은 40,000원입니다.</li>
          <li>주문일 기준 익월 20일에 일괄 지급됩니다. (배송완료 주문 건)</li>
          <li>부분 취소 및 부분 환불하는 경우 적립금 금액이 상이할 수 있습니다.</li>
          <li>네이버 가격비교 등 일부 제휴 채널을 통해 구매 시 적립금 지급이 제외됩니다.</li>
          <li>일부 상품은 적립 대상에서 제외될 수 있습니다.</li>
        </ul>       
      </div> 
      <button type="button" class="btn-popup-close" onclick="popup.close('#app-saveamt-noti-popup')">팝업 닫기</button>  
    </div>
  </div>
    <script>
      $(document).ready(function() {
        $('.prd-boon-aco').click(function() {
          $(this).toggleClass('on'); 
          $(this).closest('.prd-boon-wrap').find('.prd-boon-ul').slideToggle();
        });
        $('#maxBnefTooltip').click(function() {
          popup.open("#cash-hight-popup");
        });
        $('#appRsvmnTooltip').click(function() {
          popup.open("#app-saveamt-noti-popup");
        });
      });
    </script>
  


          
            
            
            











 





 
   
 
 
 


    



  
              
  
  







  
      
        
      
      
    
    
    
      
      
        
      
    

  
  <div class="btn-tab-area">
      <button type="button" id="goodsjjm_24760392" class="btn-like " 
                            onclick="$.eshopfront.cust.jjmInfoChoice('24760392', 'goods' , $(this), $.eshopfront.cmm.likeGoods);"
                            data-goodsnm="25FW 아보크 클로그 윈터슈즈 2종 여성"  data-shoppingntamt="29900" data-airbridgecurrency="TV쇼핑_OSMU"
                            data-braze_product_category="운동화/스포츠화" data-braze_product_item="001239.아보크+08.운동화">찜하기</button>

      
      
      
      <button type="button" class="btn-share" onclick="popup.open('#snsSharePop');">공유하기</button>
      
      











 





 
   
 
 
 


    



  
              
  
  







<script src="https://m.shoppingntmall.com/moassets/kakao.min.js"></script>

<div class="popup share" id="snsSharePop">
  <div class="popup-inner">
    <h2>공유하기</h2>
    <ul class="share-list">
      <li><button type="button" class="btn-share-kakao" id="kakaoTalkBtn" >카카오톡</button></li>
      <li><button type="button" class="btn-share-message" id="smsShareBtn">메시지</button></li>
      <li><button type="button" class="btn-share-facebook" id="faceBookBtn">페이스북</button></li>
      <li><button type="button" class="btn-share-url" id="urlCopyBtn">URL 복사</button></li>
    </ul>
    <!-- 
    <div class="ui_toast_alert">
      <strong>URL이 복사되었습니다.</strong>
    </div>
     -->
    <button type="button" class="btn-popup-close" onclick='popup.close("#snsSharePop")'>팝업 닫기</button>
  </div>
</div>

<div class="ui_toast_alert">
  <strong>URL이 복사되었습니다.</strong>
</div>
<script>

$(document).ready(function(){
  /* sns공유 팝업 */
  //외부 연동 주석 처리 (로컬 실행용)
  //Kakao.init('965cf022e716bbcb6a8be6374c340875');
  //Kakao.init('bfc68ecf9a5c23ba4bc8567885a75f7d');
  
  // 카카오 초기화 상태값 (true : 정상, false : 키값 오류 or SDK 오류)
  //console.log(Kakao.isInitialized());
  
  // 페이스북 공유하기
  $('#faceBookBtn').on('click', function(){
    var url = window.location.origin + window.location.pathname + window.location.search;
    window.open('https://www.facebook.com/sharer.php?u='+encodeURIComponent(addUtmDelAirbridge(url, 'facebook_share')), 'facebookWindow', 'width=626,height=436');
  });

  // URL 복사
  $('#urlCopyBtn').off('click').on('click', function() {
    urlCopy();
    toastAlert('URL이 복사되었습니다.');
  });
});
  
// URL 복사
function urlCopy(){
  var url = window.document.location.href;
  var textarea = document.createElement("textarea");
  document.body.appendChild(textarea);
  
  textarea.value = addUtmDelAirbridge(url, 'url_share');
  
  if(isIOS()){
    var range = document.createRange();
    range.selectNodeContents(textarea);
    var section = window.getSelection();
    section.removeAllRanges();
    section.addRange(range);
    textarea.setSelectionRange(0,9999);        
  }else{
    textarea.select();
  }
  
  document.execCommand("copy");
  document.body.removeChild(textarea);
}

/**
 * 카카오톡 공유 초기화
 * @param {String} 제목
 * @param {String} 이미지 URL
 * @param {String} 모바일 웹 URL
 * @param {String} 웹 URL
 */
function initKakaoShare(title, imgUrl, mobileWebUrl, webUrl) {
/*    var appVersion = $.eshopfront.cmm.getCookie("appVersion");
   console.log("앱버전 체크 중입니다.",appVersion); */
   //10-11 롤백
  Kakao.init('965cf022e716bbcb6a8be6374c340875');
  //Kakao.init('9833ac7565ef30771ecdab582bb99f01'); // 테스트용 자바스크립트 키
  mobileWebUrl = addUtmDelAirbridge(mobileWebUrl, 'kakao_share');
  webUrl = addUtmDelAirbridge(webUrl, 'kakao_share');
  
  Kakao.Link.createDefaultButton({
    container: '#kakaoTalkBtn',
    objectType: 'feed',
    content: {
      title: '[쇼핑엔티] ' + title,
      imageUrl: imgUrl,
      link: {
        mobileWebUrl: mobileWebUrl,
        webUrl: webUrl,
        androidExecutionParams : mobileWebUrl,
        iosExecutionParams :  mobileWebUrl
      }
    },
    buttons: [
      {
        title: '쇼핑엔티에서 보기',
        link: {
          mobileWebUrl: mobileWebUrl,
          webUrl: webUrl
        }
      }
    ]
  });
}

// utm 추가 및 airbridge parameter 삭제
function addUtmDelAirbridge(url, utmValue) {
  const urlObj = new URL(url);
  urlObj.searchParams.set('utm_medium', utmValue);
  urlObj.searchParams.delete('airbridge_referrer');
  return urlObj.toString();
}

/**
* 메세지공유 클릭시 SMS 본문 입력
* @param {String} 상품명
*/
function sns_sms(goodsName){
  var shareText = '[쇼핑엔티] '+goodsName;
  var shareUrl = addUtmDelAirbridge(window.location.origin+window.location.pathname+window.location.search, 'sms_share');
  // console.log("sms공유", shareText + ' ' + shareUrl);
  var shareMsg = encodeURIComponent(shareText + ' ' + shareUrl);
  var androidMsg = "sms:?body="+shareMsg;
  var iosMsg = "sms:&body="+shareMsg+ "&title="+goodsName; 
  var varUa = navigator.userAgent.toLowerCase();
  
  if(isApp()){
   if( isAndroid() ) {
     location.href = androidMsg;
   }
   else if( isIOS() ) {
     location.href = iosMsg;
   }
  }else{
    if(varUa.indexOf('android') > -1){
      location.href = androidMsg;
    }else if(varUa.indexOf("iphone") > -1||varUa.indexOf("ipad") > -1||varUa.indexOf("ipod") > -1 ){
      location.href = iosMsg;
    }
  }
}

/**
* 메세지공유 클릭시 SMS 본문 입력
* @param {String} 상품명
* @param {String} url
* 사용안함
*/
function sns_sms_url(goodsName, url){
 	var shareText = '[쇼핑엔티] '+goodsName;
 	var shareUrl = url;
 	var shareMsg = encodeURIComponent(shareText + ' ' + shareUrl);
 	var androidMsg = "sms:?body="+shareMsg;
 	var iosMsg = "sms:&body="+shareMsg+ "&title="+goodsName; 
 	var varUa = navigator.userAgent.toLowerCase();
 	
 	if(isApp()){
 	 if( isAndroid() ) {
  		location.href = androidMsg;
  	}
  	else if( isIOS() ) {
  		location.href = iosMsg;
  	}
 	}else{
 	  if(varUa.indexOf('android') > -1){
 	    location.href = androidMsg;
 	  }else if(varUa.indexOf("iphone") > -1||varUa.indexOf("ipad") > -1||varUa.indexOf("ipod") > -1 ){
 	   	location.href = iosMsg;
 	  }
 	}
}
</script>
      
  </div>


            
          </div> 
          
          <div class="type-line-no-pd">
            
            
            <!-- s : 상품 혜택 정보 -->
            <div class="prd-benefit-info">
              
  
              
              
              
              
              
              
              
              
              
              <!-- s : 배송정보 -->
              











 





 
   
 
 
 


    



  
              
  
  







<div class="bnf-item delivery">
  <div class="tit"><span class="hidden">배송정보</span></div>
  <div class="val">
    
    
        무료배송
    
    
    
    
    
    <span class="desc">
      
        
        
        
        
          
          
          
          
          
        
      
    </span> 
    
    
    
    
  </div> 
</div> 
              <!-- e : 배송정보 -->
              
              
              
  
              
              
            </div>
            <!-- e : 상품 혜택 정보 -->
            
            
            
            
            
            
          </div> 
          
          <!-- s: 상세 진행중인 이벤트 -->
          
            <div clas="type-line-no-pd">
              <div id="top-banner">
                <ul class="swiper-wrapper">
                
                  <li class="swiper-slide">
                    <a href="javascript:location.href='/plan/event/swipeDetail/E00000000395'"><img src="https://img.shoppingntmall.com/banner/P00000000161/20251121101320875.jpg/dims/format/avif;fallback=webp/optimize" alt="P00000000161" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></a>
                  </li>
                
                  <li class="swiper-slide">
                    <a href="javascript:location.href='/plan/event/swipeDetail/E00000000179'"><img src="https://img.shoppingntmall.com/banner/P00000000161/20241104172408989.jpg/dims/format/avif;fallback=webp/optimize" alt="P00000000161" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></a>
                  </li>
                
                  <li class="swiper-slide">
                    <a href="javascript:location.href='/plan/event/swipeDetail/E00000000330'"><img src="https://img.shoppingntmall.com/banner/P00000000161/20251125170505595.jpg/dims/format/avif;fallback=webp/optimize" alt="P00000000161" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></a>
                  </li>
                
                  <li class="swiper-slide">
                    <a href="javascript:location.href='/plan/event/swipeDetail/E00000000334'"><img src="https://img.shoppingntmall.com/banner/P00000000161/20250507111518057.jpg/dims/format/avif;fallback=webp/optimize" alt="P00000000161" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></a>
                  </li>
                
                </ul>
                <!-- 인디케이터 -->
                <div class="top-banner-paging"></div>
                <button type="button" class="btn-top-banner-stop">정지</button>
                <button type="button" class="btn-top-banner-play">시작</button>
              </div>
            </div>
          
          <!-- e: 상세 진행중인 이벤트 -->
          
          
          
          
            <div class="type-line-no-pd" id="buzzniGoodsHighlight"></div>
            <!-- 커스텀 포맷 -->
            <script
              defer
              src="https://cdn.static.hsmoa.com/ok-sdk/entries/release/highlight-bundle.js?version=202512291454"
              data-selector="#buzzniGoodsHighlight"
              data-product-id="shopnt_24760392"
              data-d-key="202411248309"
              data-shop="shopnt"
              data-title="한 눈에 방송 요약"
              data-logo-image="/moassets/images/common/AIshoppingTalk_logo.png"
            ></script>
            <div class="type-line-no-pd" id="buzzniGoodsAssistant"></div>
            <!-- 커스텀 포맷 -->
            <script
              defer
              src="https://cdn.static.hsmoa.com/ok-sdk/entries/release/assistant-bundle.js?version=202512291454"
              data-selector="#buzzniGoodsAssistant"
              data-product-id="shopnt_24760392"
              data-d-key="202411248309"
              data-shop="shopnt"
              data-title="무엇이든 물어보세요"
              data-logo-image="/moassets/images/common/AIshoppingTalk_logo.png"
              data-button-text="AI쇼핑톡에게 물어보기"
              data-bot-name="AI쇼핑톡"
              data-bot-image="/moassets/images/common/AIshoppingTalk_logo.png"
              data-header-title="AI쇼핑톡"
            ></script>
          
          
        </div> 
        <!-- e: 상세 상품 정보 영역 -->
        
      </div> 
    </section> 
  
    <section>
      
      
      
        
      
      
    
      <div class="tab type-underline-02 type-div-four full-minus-mg auto-sticky autoFix detail">
        <button type="button" class="point-c6 is-active detailTab" data-footerbtn="Y">상세설명</button>
        <button type="button" class="point-c6 detailTab" data-footerbtn="N">구매정보</button>
        
        
        <button type="button" class="point-c6 goodsGdas">상품평&nbsp;<em id="goodsGdasCnt">0</em></button>
        <button type="button" class="point-c6">Q&amp;A&nbsp;<em id="goodsQnACnt">0</em></button>
        
      </div>
      
      <!-- 탭 컨텐츠 (s) -->
      <div class="tab-cont-wrap">
      
      











 





 
   
 
 
 


    



  
              
  
  








 
 



 
 
 



<div class="tab-cont-item" style="display: block;">
  <div class="type-line">

    
    
    
      
        
        
        
        
        <div class="tab-con on" role="tabpanel">
        
          <div class="inner">
            <div class="cms mt24" id="goodsDtExplAnimDiv" style="display: none;">
            </div>
          
            <div id="cpnNtcInfo" class="cms mt24" style="display: none;"></div>
            
            <div id="upNtcInfo" class="cms mt24" style="display: none;"></div>
            
            <div class="detail-inner mt24">
              <div class="cms">
                <html lang="ko" xml:lang="ko"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      img { display:block; width:100%; }
      /*23.10.16 ITSR 8280 웹기술서 동영상사이즈 고정해제*/
      .video-wrap {position:relative; padding-bottom:56.25%; padding-top:30px; height:0; overflow:hidden;}
      .video-wrap iframe, .video-wrap object, .video-wrap embed {position:absolute; top:0; left:0; width:100%; height:100%;}
    </style>
    <title>상품상세설명</title>
    
    <script src="https://m.shoppingntmall.com/moassets/js/jquery-3.6.0.min.js"></script>
    <script src="https://m.shoppingntmall.com/moassets/js/pinch-zoom.js"></script>
    <script src="https://m.shoppingntmall.com/moassets/js/swiper.min.js"></script>
    <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/swiper.css?v=20250807">
    <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/m_swipe.css?v=20250807"> <!-- swiper 관련 추가 -->
    <script type="text/javascript">
      function changeSacle(){        
        //확대축소
        $('body').each(function () {
            new RTP.PinchZoom($(this), {});
        });
        //더보기 클릭시 확대축소 영역 높이 지정
        $('.btn-more').click(function () {
            var pinch_height = $("body").height();
            $(".pinch-zoom-container").height(pinch_height);
        });
      };   
      $('body').on('change',function(){
        changeSacle();
      })
    </script>
  
  </head>
  <div class="pinch-zoom-container" style="overflow: hidden; position: relative; height: 7215px;"><body><!-- // through m2 pagedesk // --><script charset="utf-8" type="text/javascript" src="https://itemdesc.shoppingntmall.com/pagedesk/fxjs/a4890ed1-b4c1-4e0f-809c-eecf7da465f1.js" through="m2fx"></script><p><style>@media only screen and (pointer: coarse) and (orientation: portrait) and (max-width: 600px),only screen and (pointer: coarse) and (orientation: landscape) and (max-width: 1000px) {@supports (font: -apple-system-body) and (-webkit-appearance: none) {img[through="m2fx"] {display: block;}}}</style></p><div style="display: inline-block; vertical-align: top; margin: 0px; padding: 0px;" through="m2fx"><style>img[through=m2fx][loading=lazy][src][onload][onerror] {width: 100vw !important; max-width: 100%;}
img[through=m2fx][width='0'][src][onload][onerror] {width: 0px !important;}</style><picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+0/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+0/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+0/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-bottom-width: 0px; margin-bottom: 0px; padding-bottom: 0px;" loading="null" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+1200/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+1200/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+1200/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0px; border-bottom-width: 0px; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;" loading="null" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+2400/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+2400/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+2400/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0px; border-bottom-width: 0px; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;" loading="null" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+3600/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+3600/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+3600/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0px; border-bottom-width: 0px; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px;" loading="null" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+4800/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+4800/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+4800/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+6000/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+6000/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+6000/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+7200/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+7200/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+0/dims/crop/0x1200+0+7200/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+0/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+0/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+0/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+1200/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+1200/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+1200/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+2400/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+2400/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+2400/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+3600/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+3600/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+3600/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+4800/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+4800/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+4800/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+6000/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+6000/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+6000/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+7200/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+7200/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+8400/dims/crop/0x1200+0+7200/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; border-bottom-width: 0; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
<picture through="m2fx" style="line-height: 0px; vertical-align: top;"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+16800/dims/crop/0x0+0+0/format/avif/optimize" type="image/avif"><source through="m2fx" srcset="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+16800/dims/crop/0x0+0+0/format/webp/optimize" type="image/webp"><img src="https://img.shoppingntmall.com/display/goods/detail/describe/24760392/proxy/src/https://toobox.speedgabia.com/25FW/clogwinter_woman_11.jpg/dims/crop/0x8400+0+16800/dims/crop/0x0+0+0/optimize" through="m2fx" width="860" height="1200" style="max-width: 100%; height: auto; vertical-align: top; border-top-width: 0; margin-top: 0px; padding-top: 0px; aspect-ratio: 860/1200;" loading="lazy" onerror="this.loading=null;this.width=0;" onload="this.loading=null;this.style.aspectRatio=null;"></picture>
</div><p></p>
</body></div></html>
              </div>
              
              <div class="btn-area on">
                <button type="button" class="btn-more">상품정보 더보기</button>
              </div>
            </div>
            
            <div id="downNtcInfo" class="cms mt24" style="display: none;"></div>
          
          </div> 
        
        </div> 
        
        
      
    
    
  </div>
</div>


<script type="text/javascript">
var ifrOnloadCall = false;
 
$(document).ready(function() {
  
   
  $.ajax({
    url: '/goods/detail/getGoodsNtc'
    ,dataType: 'json'
    ,method: 'post'
    ,headers: {
      "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    }
    ,data: {
      goodsCd : "24760392"
      , entpCd : "271830"
    }
    ,success: function (data) {
      
      if(data != null && data.resultData != null) {
        var resultData = data.resultData;
        
        
        if(resultData.cpnNtcInfo != null) {
          var ntcInfoData = data.resultData.cpnNtcInfo;
          
          if(ntcInfoData.moBoardArea == "1") {
            
            if(ntcInfoData.imagePath != null && ntcInfoData.imagePath.indexOf("shoppingntmall") > -1) {
              $("#cpnNtcInfo").html("<img src=\""+ntcInfoData.imagePath+"\" alt=\"쿠폰 공지\" onerror=\"$.eshopfront.cmm.emptyImg(this);\">");
            } else {
              $("#cpnNtcInfo").html("<img src=\"https://img.shoppingntmall.com"+ntcInfoData.imagePath+"\" alt=\"쿠폰 공지\" onerror=\"$.eshopfront.cmm.emptyImg(this);\">");
            }
          } else if(ntcInfoData.moBoardType == "2") {
            
            $("#cpnNtcInfo").html(htmlDecode(ntcInfoData.htmlContents));
            if($.trim($("#cpnNtcInfo").text()) != "") {
              $("#cpnNtcInfo").html(htmlDecode($("#cpnNtcInfo").html()));
            } 
          }
          
          $("#cpnNtcInfo").show();
          
          if(ntcInfoData.moBoardType == "1" && ntcInfoData.linkExistsYn == "Y" && $.trim(ntcInfoData.lnikUrl) != "") {
           	setTimeout(function() {
    					$("#cpnNtcInfo").off("click").on("click", function() {
    					  location.href= ntcInfoData.lnikUrl;
    					});
            }, 50);
          }
        }
        
        
        if(resultData.upNtcInfo != null) {
					var ntcInfoData = data.resultData.upNtcInfo;
          
          if(ntcInfoData.moBoardType == "1") {
            
            if(ntcInfoData.imagePath != null && ntcInfoData.imagePath.indexOf("shoppingntmall") > -1) {
              $("#upNtcInfo").html("<img src=\""+ntcInfoData.imagePath+"\" alt=\"상단 공지\" onerror=\"$.eshopfront.cmm.emptyImg(this);\">");
            } else {
              $("#upNtcInfo").html("<img src=\"https://img.shoppingntmall.com"+ntcInfoData.imagePath+"\" alt=\"상단 공지\" onerror=\"$.eshopfront.cmm.emptyImg(this);\">");
            }
          } else if(ntcInfoData.moBoardType == "2") {
            
            $("#upNtcInfo").html(ntcInfoData.htmlContents);
          }
          
          $("#upNtcInfo").show();
          
          if(ntcInfoData.moBoardType == "1" && ntcInfoData.linkExistsYn == "Y" && $.trim(ntcInfoData.lnikUrl) != "") {
            setTimeout(function() {
    					$("#upNtcInfo").off("click").on("click", function() {
    					  location.href= ntcInfoData.lnikUrl;
    					});
            }, 50);
          }
        }
        
        
        if(resultData.downNtcInfo != null) {
					var ntcInfoData = data.resultData.downNtcInfo;
          
          if(ntcInfoData.moBoardType == "1") {
            
            if(ntcInfoData.imagePath != null && ntcInfoData.imagePath.indexOf("shoppingntmall") > -1) {
              $("#downNtcInfo").html("<img src=\""+ntcInfoData.imagePath+"\" alt=\"하단 공지\" onerror=\"$.eshopfront.cmm.emptyImg(this);\">");
            } else {
              $("#downNtcInfo").html("<img src=\"https://img.shoppingntmall.com"+ntcInfoData.imagePath+"\" alt=\"하단 공지\" onerror=\"$.eshopfront.cmm.emptyImg(this);\">");
            }
          } else if(ntcInfoData.moBoardType == "2") {
            
            $("#downNtcInfo").html(ntcInfoData.htmlContents);
          }
          
          $("#downNtcInfo").show();
          
          if(ntcInfoData.moBoardType == "1" && ntcInfoData.linkExistsYn == "Y" && $.trim(ntcInfoData.lnikUrl) != "") {
            setTimeout(function() {
    					$("#downNtcInfo").off("click").on("click", function() {
    					  location.href= ntcInfoData.lnikUrl;
    					});
            }, 50);
          }
        }
      }
    }
    ,error: function (e) {
      console.log("/goods/detail/getGoodsNtc Error", e);
      if(chk403(e)) return;
    }
  });
  
  
  
  
  
  
}); 

function dtImgIfrOnLoad() {
  
  if(ifrOnloadCall) {
  	return;  
  }
  
  ifrOnloadCall = true;
  
 	setTimeout(function() {
		//getGoodsDtExplDescribe("24760392");  
  }, 50);
}

function getGoodsDtExplDescribe(goodsCd) {
  // // $.ajax({
  // //   url: '/display/goods/detail/lodInfo/'+goodsCd
  // //   ,dataType: 'json'
  // //   ,method: 'get'
  // //   ,async:true
  // //   ,success: function (data) {
  // //     var appendHtml = "";
  // //     var animInfo = data.animInfo; 
  // //     var lodInfo = data.lodInfo; 
      
  // //     if(animInfo != null) {
  // //       if($.trim(animInfo.webFlag) == "1") {
  // //         appendHtml += animInfo.describeExt;
  // //       } else {
  // //         appendHtml += animInfo.describeNote;
  // //       }
        
  // //       $("#goodsDtExplAnimDiv").html(appendHtml);
  // //     	$('iframe[src^="https://www.youtube.com/"]').wrap('<div class="youtubeWrap"></div>'); 
  // //       $("#goodsDtExplAnimDiv").show();
  // //     	appendHtml = ""; 
  // //     }
      
      
      	 
  // //         $.ajax({
  // //           url: 'https://itemdesc.shoppingntmall.com/display/goods/detail/describe/'+goodsCd
  // //           ,dataType: 'html'
  // //           ,method: 'get'
  // //           ,success: function (htmlData) {
  // //             appendHtml += htmlData;
  // //           }
  // //           ,error: function (e) {
  // //             console.log("m2 error : " + e);
  // //             appendHtml += "상세설명 준비 중입니다.";
  // //           }
  // //           ,complete: function () {
  // //             $("#goodsDtExplImgIfr").contents().find("html body").html(appendHtml);
  // //             /*23.10.16 ITSR 8280 웹기술서 동영상사이즈 고정해제*/
  // //             $("#goodsDtExplImgIfr").contents().find("html body").find('iframe[src*="youtube"]').wrap('<div class="video-wrap"></div>')
  // //             dtExplImgIfrResize();
  // //           }
  // //         });
      	
      	
  		
  // //   }
  // //   ,complete: function(){
  // //       var frame = document.getElementById("goodsDtExplImgIfr");
  // //       var gocoderFrameGo = frame.contentWindow || frame.contentDocument ;

  // //       gocoderFrameGo.changeSacle();
  // //   }
  // //   ,error: function () {
  // //     alert("상품설명 조회에 실패하였습니다."); 
  // //   }
  // });
}

function dtExplImgIfrResize() {
 	
  setTimeout(function() {
 	  var ifrHeight = $("#goodsDtExplImgIfr").contents().find("html body").height();
 	  
    
 	  if(ifrHeight < 0) {
 	   ifrHeight = 210000 + (210000-(ifrHeight * -1));
 	  }
 	  
  	$("#goodsDtExplImgIfr").height(ifrHeight + 30);
  	
  	if( $(".detail-inner .cms").height() < 500 ){
  		$(".detail-inner .btn-area").removeClass("on");
  	}else{
  		$(".detail-inner .btn-area").addClass("on");
  	};
  }, 1000);
  
  
  for(var i=1; i<=5; i++) {
   	setTimeout(function() {
   	  var ifrHeight = $("#goodsDtExplImgIfr").contents().find("html body").height();
   	  
  		if(ifrHeight > $("#goodsDtExplImgIfr").height()-30) {
      	$("#goodsDtExplImgIfr").height(ifrHeight + 30);
  		}
    }, 2000*i);
  }
  
  //딜상품상세에서는 더보기 미노출
 	if($("#dealGoodsDeailPop").css("display") == "flex"){
 		$(".detail-inner .btn-more").click();
 		$(".detail-inner .btn-more").hide();
 	}
}



function htmlDecode(input) {
  var e = document.createElement('textarea');
  e.innerHTML = input;
  // handle case of empty input
  return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
}
</script>
      
      
      
      











 





 
   
 
 
 


    



  
              
  
  









    
    <div class="tab-cont-item">
      <section class="type-line pb0">
        <div class="info-wrap">
          <div class="deal-form-wrap pg0">
             
          
            <div class="gray-box mb24">
              
              <div class="deal-item">
                <p class="txt">상품번호</p>
                <p class="num" id="purInfoGoodsCd">24760392</p>
              </div>
            </div>
          
          </div> 
        </div> 
        
        
        
        
        <temp id="goodsPurInfo">
        </temp>
        
      </section>
<script type="text/javascript">
$(document).ready(function() {
  
  
  
  //getGoodsInfoPbld("24760392");
}); 

function getGoodsInfoPbld(goodsCd) {
  // $.ajax({
  //   url: '/goods/detail/goods-purinfo-list'
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  // 	}        
  //   ,data: {
  //       goodsCd : goodsCd
  //   }
  //   ,success: function (data) {
  //     $("#goodsPurInfo").html(data);
  //     $("#purInfoGoodsCd").text(goodsCd);
      
      
  //   	$(".acco-wrap:not(.over) .acco-item .acco-btn").off("click").on("click", function(e){
  //   		e.preventDefault();
  //   		acco.accoClick(this);
  //   	});
  //   }
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
	// });
}
</script> 
    </div> 
    

      
      
      
      
      
      











 





 
   
 
 
 


    



  
              
  
  








<div class="tab-cont-item full-minus-mg" style="display: block;">
  <div class="review-wrap">
    
      
      
        <input type="hidden" class="hidden" id="gdasGoodsMastImg_24760392" value="/goods/392/24760392_h.jpg">
        
        <temp id="goodsReviewInfo">













 





 
   
 
 
 


    



  
              
  
  











  
    <div class="type-line">
      <!-- s : 상품 별점 영역 -->
      <div class="review-rating-info">
        <div class="star-rating-box">
          <div class="rating-val">
            <span class="hidden">평점</span>
            <em class="val">4.3</em><em class="slash">/</em><span class="total">5</span>
          </div>
          <div class="star-area">
            <span class="star" style="width:80%"></span>
          </div>
        </div>
      </div>
      <!-- e : 상품 별점 영역 -->
      
      
      
        <dl class="ai-sum2">
          <dt>리뷰 간추려 보기</dt>
          
            
            
              <dd class="no">정확한 리뷰 요약을 제공하기 위해 데이터를 수집하고 있습니다. AI분석이 완료되는 대로 안내해 드리도록 하겠습니다.</dd>
            
          
        </dl>
      
      
      
      
      <!-- S : 포토 모아보기 -->
      
        
          <p class="sub-tit">포토모아보기</p>
          <div class="photo-review-slider-wrap swiper-initialized swiper-horizontal swiper-backface-hidden">
            <ul class="swiper-wrapper" id="swiper-wrapper-feba7ce10d1056891f" aria-live="polite" style="cursor: grab; transition-duration: 0ms; transition-delay: 0ms; transform: translate3d(0px, 0px, 0px);">
              
                <li class="swiper-slide swiper-slide-active" role="group" aria-label="1 / 7" style="margin-right: 4px;">
                  <div class="goods-detail" data-gtm-vis-first-on-screen9229141_485="3840" data-gtm-vis-total-visible-time9229141_485="1100">
                    <button type="button" class="thum-area" onclick="openImgListInfoPop(1, 0);">
                      
                      <img through="m2ps" src="https://img.shoppingntmall.com/comment/2025/12/24/08/20251224085027430.jpg/dims/resize/!108x108" alt="/comment/2025/12/24/08/20251224085027430" onerror="$.eshopfront.cmm.emptyImg(this);"> 
                    </button>
                  </div>
                </li>
              
                <li class="swiper-slide swiper-slide-next" role="group" aria-label="2 / 7" style="margin-right: 4px;">
                  <div class="goods-detail" data-gtm-vis-first-on-screen9229141_485="3840" data-gtm-vis-total-visible-time9229141_485="1100">
                    <button type="button" class="thum-area" onclick="openImgListInfoPop(1, 1);">
                      
                      <img through="m2ps" src="https://img.shoppingntmall.com/comment/2025/12/19/12/20251219120456191.jpg/dims/resize/!108x108" alt="/comment/2025/12/19/12/20251219120456191" onerror="$.eshopfront.cmm.emptyImg(this);"> 
                    </button>
                  </div>
                </li>
              
                <li class="swiper-slide" role="group" aria-label="3 / 7" style="margin-right: 4px;">
                  <div class="goods-detail" data-gtm-vis-first-on-screen9229141_485="3840" data-gtm-vis-total-visible-time9229141_485="1100">
                    <button type="button" class="thum-area" onclick="openImgListInfoPop(1, 2);">
                      
                      <img through="m2ps" src="https://img.shoppingntmall.com/comment/2025/12/12/09/20251212091645000.jpg/dims/resize/!108x108" alt="/comment/2025/12/12/09/20251212091645000" onerror="$.eshopfront.cmm.emptyImg(this);"> 
                    </button>
                  </div>
                </li>
              
                <li class="swiper-slide" role="group" aria-label="4 / 7" style="margin-right: 4px;">
                  <div class="goods-detail">
                    <button type="button" class="thum-area" onclick="openImgListInfoPop(1, 3);">
                      
                      <img through="m2ps" src="https://img.shoppingntmall.com/comment/2025/12/11/05/20251211052310023.jpg/dims/resize/!108x108" alt="/comment/2025/12/11/05/20251211052310023" onerror="$.eshopfront.cmm.emptyImg(this);"> 
                    </button>
                  </div>
                </li>
              
                <li class="swiper-slide" role="group" aria-label="5 / 7" style="margin-right: 4px;">
                  <div class="goods-detail">
                    <button type="button" class="thum-area" onclick="openImgListInfoPop(1, 4);">
                      
                        <span class="bage-num">2</span>
                      
                      <img through="m2ps" src="https://img.shoppingntmall.com/comment/2025/12/05/20/20251205202843164.jpeg/dims/resize/!108x108" alt="/comment/2025/12/05/20/20251205202843164" onerror="$.eshopfront.cmm.emptyImg(this);"> 
                    </button>
                  </div>
                </li>
              
                <li class="swiper-slide" role="group" aria-label="6 / 7" style="margin-right: 4px;">
                  <div class="goods-detail">
                    <button type="button" class="thum-area" onclick="openImgListInfoPop(1, 5);">
                      
                      <img through="m2ps" src="https://img.shoppingntmall.com/comment/2025/12/05/09/20251205090349907.jpg/dims/resize/!108x108" alt="/comment/2025/12/05/09/20251205090349907" onerror="$.eshopfront.cmm.emptyImg(this);"> 
                    </button>
                  </div>
                </li>
              
              
                <li class="swiper-slide" role="group" aria-label="7 / 7" style="margin-right: 4px;">
                  <div class="goods-detail">
                    <button type="button" class="thum-area" onclick="openImgListPop(1);">
                      <strong>17 +</strong>
                      <span class="txt">전체보기</span>
                    </button>
                  </div>
                </li>
              
            </ul>
          <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
        
      
      <!-- E : 포토 모아보기 -->
    </div>
    
    
    
    
    <div class="type-line" id="reviewDiv">
      













 





 
   
 
 
 


    



  
              
  
  






    <div class="review-sticky">
        
        <div class="ai-reviw-top">
          <div class="ai-reviw">
            <p class="sub-tit">리뷰 
              <span class="num">
                
                40
              </span>
            </p>
            <button type="button" class="btn-que">설명 보기</button>
            <div class="que-pop">
              <p>신규 등록된 리뷰가 총 리뷰수에 집계되기까지 시간이 소요될 수 있습니다.</p>
              <button type="button" class="btn-que-close">닫기</button>
            </div>
          </div>
          <div class="my-info-right">
            <div class="my-dropdown">
                
                  
                    <button type="button" class="my-dropdown-btn" value="4">추천순</button>
                  
                  
                
                <ul class="my-dropdown-list">
                    <li>
                        <input type="radio" class="ipt" name="gdasSort" id="rdo_02_01" value="4" onclick="getGoodsReviewList(1, 'N', 'Y', 'Y');" checked="">
                        <label for="rdo_02_01">추천순</label>
                        <button type="button" class="btn-que">설명 보기</button>
                        <div class="que-pop">
                            <p>리뷰의 텍스트, 포토 등 작성한 리뷰를&nbsp; AI가 분석하여 추천합니다.</p>
                           <button type="button" class="btn-que-close">닫기</button>
                        </div>
                    </li>
                    <li>
                        <input type="radio" class="ipt" name="gdasSort" id="rdo_02_02" value="1" onclick="getGoodsReviewList(1, 'N', 'Y', 'Y');">
                        <label for="rdo_02_02">최신순</label>
                    </li>
                </ul>
            </div>
          </div>
        </div>

        <div class="ai-reviw-body">
          
            <input type="hidden" id="reviewsOptionYn" value="Y">
            <button type="button" class="ai-reviw-check option " onclick="openGoodsOptionPop();">
              상품옵션 <span class="option-num" id="optionSelectCnt"></span>
            </button>
          

          
            <button type="button" id="ai-photo" class="ai-reviw-check " onclick="$(this).toggleClass('on'); getGoodsReviewList(1, 'Y', 'Y', 'N');">
              포토리뷰
            </button>
          

          
            <div class="my-info-left">
              <button class="btn-toggle-switch " onclick="toggleMyInfo();">
                <span></span><p>내 정보 맞춤</p>
              </button>
            </div>
          <input type="hidden" id="curationInfoYn" value="Y">
          
        </div>

        
          <ul class="ai-reviw-tab" id="aiReviewTab">
            
              <li>
                <button type="button" class="opinion " data-opinion-attribute="가격">
                  가격 <span>4</span>
                </button>
              </li>
            
              <li>
                <button type="button" class="opinion " data-opinion-attribute="무게">
                  무게 <span>4</span>
                </button>
              </li>
            
              <li>
                <button type="button" class="opinion " data-opinion-attribute="사용성">
                  사용성 <span>4</span>
                </button>
              </li>
            
              <li>
                <button type="button" class="opinion " data-opinion-attribute="품질">
                  품질 <span>3</span>
                </button>
              </li>
            
              <li>
                <button type="button" class="opinion " data-opinion-attribute="구성">
                  구성 <span>1</span>
                </button>
              </li>
            
              <li>
                <button type="button" class="opinion " data-opinion-attribute="따뜻함">
                  따뜻함 <span>1</span>
                </button>
              </li>
            
              <li>
                <button type="button" class="opinion " data-opinion-attribute="보온력">
                  보온력 <span>1</span>
                </button>
              </li>
            
              <li>
                <button type="button" class="opinion " data-opinion-attribute="보온성">
                  보온성 <span>1</span>
                </button>
              </li>
            
          </ul>
        

        <div class="my-info">
          
          <input type="hidden" id="curationInfo" value="">
          <input type="hidden" id="curationInfoVal" value="">
          <p class="my-info-bottom" id="curationInfoArea">
            <strong>내 정보</strong>
          </p>
          <button type="button" onclick="location.href='/mypage/curation'">정보설정</button>
        </div>

        
        <div class="popup bottom-sheet" id="pop-riview-option">
          
          <div class="popup-inner"> 
            <h2 class="option-h2">상품옵션</h2>
            <div class="prd-option-box option" style="padding-bottom: 120px;">
              <ul class="option-ul">
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option00" value="6" data-option-value="색상:블랙^사이즈:230mm">
                      <label for="option00"><span></span>블랙 / 230mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option01" value="2" data-option-value="색상:블랙^사이즈:230mm^기타:230~235mm">
                      <label for="option01"><span></span>블랙 / 230mm / 230~235mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option02" value="9" data-option-value="색상:블랙^사이즈:240mm">
                      <label for="option02"><span></span>블랙 / 240mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option03" value="3" data-option-value="색상:블랙^사이즈:240mm^기타:240~245mm">
                      <label for="option03"><span></span>블랙 / 240mm / 240~245mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option04" value="10" data-option-value="색상:블랙^사이즈:250mm">
                      <label for="option04"><span></span>블랙 / 250mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option05" value="2" data-option-value="색상:블랙^사이즈:250mm^기타:250~255mm">
                      <label for="option05"><span></span>블랙 / 250mm / 250~255mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option06" value="2" data-option-value="색상:화이트^사이즈:230mm">
                      <label for="option06"><span></span>화이트 / 230mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option07" value="1" data-option-value="색상:화이트^사이즈:230mm^기타:230~235mm">
                      <label for="option07"><span></span>화이트 / 230mm / 230~235mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option08" value="2" data-option-value="색상:화이트^사이즈:240mm^기타:240~245mm">
                      <label for="option08"><span></span>화이트 / 240mm / 240~245mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option09" value="2" data-option-value="색상:화이트^사이즈:250mm">
                      <label for="option09"><span></span>화이트 / 250mm</label>
                    </div>
                  </li>
                
                  <li>
                    <div class="form-wrap">
                      
                      
                      
                        
                      
                      <input type="checkbox" name="option" id="option010" value="1" data-option-value="색상:화이트^사이즈:250mm^기타:250~255mm">
                      <label for="option010"><span></span>화이트 / 250mm / 250~255mm</label>
                    </div>
                  </li>
                
              </ul>
              <div class="sticky-bottom-area">
                <div class="btn-area half">
                  <button type="button" class="btn m-l border-b w33" onclick="goodsOptionClear()">초기화</button>
                  <button type="button" class="btn m-l black w66" onclick="goodsOptionBtnClick();">리뷰보기</button>










                </div> 
              </div>
            </div>
            <button type="button" class="btn-popup-close" onclick="popup.close('#pop-riview-option');">팝업 닫기</button>
          </div>
          
        </div>
        
        <script>
            function toggleMyInfo() {
                
                
                    var goodsCd = "24760392";
                    // 고객맞춤정보 조회
                    $.ajax({
                        url: '/review/curation/cust-info/'+goodsCd,
                        type: 'GET',
                        headers: {
                            "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
                        },
                        success: function (data) {
                            if (data.resultData.custCurationInfo == null) {
                                // 맞춤정보 입력 조회
                                getCurationInfo(goodsCd);
                            } else {
                                // 큐레이션 정보
                                $('#curationInfoArea').empty();
                                var appendHtml = "";
                                appendHtml += "<strong>내 정보</strong>";
                                appendHtml += data.resultData.custCurationInfo;
                                $('#curationInfoArea').append(appendHtml);
                                // 내 맞춤정보
                                $('#curationInfo').val(data.resultData.custCurationInfo);
                                // 버즈니 파마리터(ex.속성1:값;속성2:값;속성3:값)
                                $('#curationInfoVal').val(data.resultData.custCurationInfoVal);

                                if ($('.btn-toggle-switch').hasClass('on')) {
                                    $('#curationInfoArea').hide();
                                    $('#curationInfo').val('');
                                    $('#curationInfoVal').val('');
                                    getGoodsReviewList(1, 'Y', 'Y', 'N');
                                } else {
                                    $('.btn-toggle-switch').toggleClass('on');
                                    // ### 상품평필터 API 호출 ###
                                    getGoodsReviewList(1, 'Y', 'Y', 'N');
                                }
                            }
                        },
                        error: function (jqXHR, textStatus, errorThrown) {
                            alert('시스템 오류가 발생했습니다.');
                            
                        }
                    });
                
                
                
            }

            function getCurationInfo(goodsCd) {
                $.ajax({
                    url: '/review/curation/info/' + goodsCd,
                    type: 'GET',
                    dataType: 'html',
                    headers: {
                        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
                    },
                    success: function (html) {
                        $('#pop-prd-curation').html(html);
                        popup.open("#pop-prd-curation");
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        alert('시스템 오류가 발생했습니다.');
                        
                    }
                });
            }

            function goodsOptionBtnClick() {
                // if ($('.opinion').hasClass('on')) {
                //     $('.opinion').removeClass('on');
                // }
                getGoodsReviewList(1, 'Y', 'Y', 'N');
                popup.close('#pop-riview-option');
            }

            function goodsOptionClear() {
                // 모든 체크박스 초기화
                $('input[name="option"]').prop('checked', false);

                // 하단 'X건의 리뷰보기' 버튼 숫자 갱신을 위해 change 이벤트 트리거
                if ($('input[name="option"]').length > 0) {
                    $('input[name="option"]').first().trigger('change');
                }
            }

            function openGoodsOptionPop() {
                // 모든 체크박스 초기화
                $('input[name="option"]').prop('checked', false);

                var checkedOptionList = "";

                // 저장된 옵션 목록이 있으면 다시 체크
                if (checkedOptionList) {
                    var options = checkedOptionList.split(';');
                    $('input[name="option"]').each(function () {
                        var id = $(this).attr('id');
                        // label 텍스트에서 옵션명 추출 (trim으로 공백 제거)
                        var name = $('label[for="' + id + '"]').text().trim();

                        for (var i = 0; i < options.length; i++) {
                            if (name === options[i].trim()) {
                                $(this).prop('checked', true);
                            }
                        }
                    });
                }

                // 하단 'X건의 리뷰보기' 버튼 숫자 갱신을 위해 change 이벤트 트리거
                if ($('input[name="option"]').length > 0) {
                    $('input[name="option"]').first().trigger('change');
                }
                popup.open("#pop-riview-option");
            }

            $(function () {
                //스크롤 시 플로팅 버튼 라인 생성
                const $content = $('#pop-riview-option .popup-inner');
                const $footer = $('#pop-riview-option .sticky-bottom-area');

                function checkScroll() {
                    if (!$content.length) return;
                    const el = $content[0];
                    const hasScroll = el.scrollHeight > el.clientHeight;
                    $footer.toggleClass('has-line', hasScroll);
                }

                setTimeout(checkScroll, 300);
                $content.off('scroll._scrollchk').on('scroll._scrollchk', checkScroll);
                $(window).off('resize._scrollchk').on('resize._scrollchk', checkScroll);

                if (window.ResizeObserver) {
                    const ro = new ResizeObserver(checkScroll);
                    ro.observe($content[0]);
                }

                const mo = new MutationObserver(checkScroll);
                mo.observe($content[0], {childList: true, subtree: true, characterData: true});

                const interval = setInterval(() => {
                    if ($('#pop-riview-option2:visible').length) checkScroll();
                    else clearInterval(interval);
                }, 800);
            });
        </script>

        <div class="dim" style="z-index:1000000"></div><div class="popup bottom-sheet open" id="pop-prd-curation" tabindex="0" style="z-index: 1000001; outline: none; display: flex;"><div class="focus-idx first" tabindex="0"></div>











 





 
   
 
 
 


    



  
              
  
  








    <div class="popup-inner">
        <h2 class="option-h2">맞춤정보 등록하고<br>비슷한 고객님의 리뷰를 빠르게 확인해보세요.</h2>
        <div class="prd-option-box option" style="padding-bottom: 120px;">

            
              
              
              
              

            <input type="hidden" id="curationType1" value="200001">
            <input type="hidden" id="curationType2" value="200005">
            <input type="hidden" id="curationType3" value="200006">
            <input type="hidden" id="curationType4" value="200004">

            
            

            
            

            
            

            
            
                
                    <div class="cinfo-dl">
                        <div class="dd">
                            <div class="select">
                                <input type="text" class="heightInput" data-curation-code="300010" placeholder="신발 사이즈 선택하기" autocomplete="off">
                                <button type="button" class="toggle" aria-label="목록 열기"></button>
                            </div>
                            <div class="options" role="listbox" aria-hidden="true">
                                
                                    
                                        
                                            <button type="button" class="option" data-value="200">200mm</button>
                                        
                                            <button type="button" class="option" data-value="205">205mm</button>
                                        
                                            <button type="button" class="option" data-value="210">210mm</button>
                                        
                                            <button type="button" class="option" data-value="215">215mm</button>
                                        
                                            <button type="button" class="option" data-value="220">220mm</button>
                                        
                                            <button type="button" class="option" data-value="225">225mm</button>
                                        
                                            <button type="button" class="option" data-value="230">230mm</button>
                                        
                                            <button type="button" class="option" data-value="235">235mm</button>
                                        
                                            <button type="button" class="option" data-value="240">240mm</button>
                                        
                                            <button type="button" class="option" data-value="245">245mm</button>
                                        
                                            <button type="button" class="option" data-value="250">250mm</button>
                                        
                                            <button type="button" class="option" data-value="255">255mm</button>
                                        
                                            <button type="button" class="option" data-value="260">260mm</button>
                                        
                                            <button type="button" class="option" data-value="265">265mm</button>
                                        
                                            <button type="button" class="option" data-value="270">270mm</button>
                                        
                                            <button type="button" class="option" data-value="275">275mm</button>
                                        
                                            <button type="button" class="option" data-value="280">280mm</button>
                                        
                                            <button type="button" class="option" data-value="285">285mm</button>
                                        
                                            <button type="button" class="option" data-value="290">290mm</button>
                                        
                                            <button type="button" class="option" data-value="295">295mm</button>
                                        
                                            <button type="button" class="option" data-value="300">300mm</button>
                                        
                                    
                                    
                                
                            </div>
                        </div>
                    </div>
                
            

            <ul class="term-agree-list mt24">
                <li>
                    <span class="point-c5 txt-s">맞춤정보 수집 · 이용 동의</span>
                    <button type="button" onclick="popup.open('#pop-agree2');">보기</button>
                </li>
            </ul>

            <div class="sticky-bottom-area">
                <div class="btn-area half">
                    <button type="button" class="btn m-l border-b w33" onclick="popup.close('#pop-prd-curation')">취소</button>
                    <button type="button" class="btn m-l black w66" disabled="" onclick="saveCurationInfo()">동의 후 저장</button>
                </div>
            </div>
        </div>

        <button type="button" class="btn-popup-close" onclick="popup.close('#pop-prd-curation');">팝업 닫기</button>
    </div>

<div class="popup bottom-sheet popup-bottom-agree" id="pop-agree2">
    <div class="popup-inner">
        <div class="popup-header">
            <h2>맞춤정보 수집&nbsp;·&nbsp;이용 동의</h2>
        </div>
        <div class="popup-content">

            <div class="terms-item">

                <p>'주식회사 티알엔’(이하 '회사')는 는 이용자의 개인정보를 중요시합니다.</p>

                <div class="tbl type-col">
                    <table style="min-width:640px;">
                        <caption>항목, 이용목적, 보유이용기간을 나타낸 표입니다.</caption>
                        <colgroup>
                            <col width="33.33%">
                            <col width="33.33%">
                            <col width="33.33%">
                        </colgroup>
                        <thead>
                        <tr>
                            <th scope="col">항목</th>
                            <th scope="col">이용목적</th>
                            <th scope="col">보유 · 이용 기간</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="vt">
                                <ul class="tbl-ul">
                                    <li>[필수]성별</li>
                                    <li><span class="ttit">사이즈 정보</span> [필수]키, 몸무게, 평소 상의 사이즈, 평소 하의 사이즈<br>[선택]상체 특징,
                                        하체 특징, 평소 신발 사이즈, 평소 모자 사이즈, 반지 사이즈
                                    </li>
                                    <li><span class="ttit">피부 정보</span> [필수]피부 타입, 피부톤<br>[선택]피부 관심사, 두피 타입, 모발/두피 관심사
                                    </li>
                                    <li><span class="ttit">식품 관련 정보</span> [선택]식습관, 선호 재료, 비선호 재료, 알레르기, 건강 관련 관심사, 맛취향,
                                        구매 습관
                                    </li>
                                </ul>
                            </td>
                            <td class="vt">
                                <ul class="tbl-ul">
                                    <li>구매 상품 리뷰 영역 내 노출</li>
                                    <li>맞춤형 상품 추천</li>
                                    <li>맞춤형 서비스의 개선 및 신규 서비스 개발</li>
                                </ul>
                            </td>
                            <td class="vt">
                                회원탈퇴/동의철회 시까지 또는 법정 의무 보유기간까지(5년)
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <p class="mt24 mb8"><strong>이용자의 동의 거부권 등에 대한 고지</strong></p>
                <p>이용자는 회사의 개인정보 수집 및 이용에 동의를 거부하실 수 있습니다. 다만, 동의 거부시 서비스 이용이 제한됩니다.</p>
            </div>
        </div>
        <button type="button" class="btn-popup-close" onclick="popup.close('#pop-agree2');">팝업 닫기</button>
    </div>
</div>
<script>
    $(function () {
        // 성별 변경 시 사이즈 옵션 필터링
        $('#pop-prd-curation').off('change', 'input[name="gender"]').on('change', 'input[name="gender"]', function () {
            var selectedGender = $(this).val();

            $('#pop-prd-curation .cinfo-dl .options .option[data-gender]').each(function () {
                var optionGender = $(this).data('gender').toString();
                if (optionGender === selectedGender || optionGender === '9') {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });

            $('#pop-prd-curation .cinfo-dl .heightInput').each(function () {
                var $dl = $(this).closest('.cinfo-dl');
                if ($dl.find('.option[data-gender]').length > 0) {
                    $(this).val('');
                }
            });

            checkSaveButtonState(); // 성별 변경 시 버튼 상태 체크
        });

        // 초기 로드 시 성별 필터 적용
        $('#pop-prd-curation input[name="gender"]:checked').trigger('change');

        // 셀렉트 옵션
        function syncSelected($dl, val) {
            const v = (val != null ? val : $dl.find('.heightInput').val()).trim();
            $dl.find('.options .option').each(function () {
                $(this).toggleClass('is-selected', $(this).text().trim() === v);
            });
        }

        function openOne($dl) {
            $(".cinfo-dl.open")
                .not($dl)
                .each(function () {
                    closeOne($(this));
                });
            const $options = $dl.find(".options");
            $dl.addClass("open");
            $dl.find(".select").attr("aria-expanded", "true");
            syncSelected($dl);
            $dl.find(".options").stop(true, true).slideDown(120, function () {
                $(this).attr('aria-hidden', 'false');
                const dltop = $dl[0].offsetTop;
                if ($dl.parents('.popup-inner').innerHeight() < dltop + 186) {
                    $dl.parents('.popup-inner').scrollTop(dltop - 30);
                }
            });
            const $sel = $dl.find(".options .option.is-selected");
            if ($sel.length) {
                $options.scrollTop($sel.position().top + $options.scrollTop());
            } else {
                let curationName = $dl.find('.dd .select input');

                if (curationName.data('curation-code') === "300001" || curationName.attr('placeholder') === '키') {
                    const $defaultHeight = $dl.find('.options .option[data-value="163"]');
                    if ($defaultHeight.length) {
                        $options.scrollTop($defaultHeight.position().top + $options.scrollTop());
                    }
                } else if (curationName.data('curation-code') === "300002" || curationName.attr('placeholder') === '몸무게 선택하기') {
                    const $defaultWeight = $dl.find('.options .option[data-value="63"]');
                    if ($defaultWeight.length) {
                        $options.scrollTop($defaultWeight.position().top + $options.scrollTop());
                    }
                }
            }
        }

        function closeOne($dl) {
            $dl.removeClass('open');
            $dl.find('.select').attr('aria-expanded', 'false');
            $dl.find('.options').stop(true, true).slideUp(120).attr('aria-hidden', 'true');
        }

        //스크롤 시 플로팅 버튼 라인 생성
        const $content = $('#pop-prd-curation .popup-inner');
        const $footer = $('#pop-prd-curation .sticky-bottom-area');

        function checkScroll() {
            if (!$content.length) return;
            const el = $content[0];
            const hasScroll = el.scrollHeight > el.clientHeight;
            $footer.toggleClass('has-line', hasScroll);
        }

        setTimeout(checkScroll, 300);
        $content.off('scroll._scrollchk').on('scroll._scrollchk', checkScroll);
        $(window).off('resize._scrollchk').on('resize._scrollchk', checkScroll);

        if (window.ResizeObserver) {
            const ro = new ResizeObserver(checkScroll);
            ro.observe($content[0]);
        }

        const mo = new MutationObserver(checkScroll);
        mo.observe($content[0], {childList: true, subtree: true, characterData: true});

        const interval = setInterval(() => {
            if ($('#pop-prd-curation:visible').length) checkScroll();
            else clearInterval(interval);
        }, 800);

        // 기존 이벤트 제거 후 새로 바인딩
        $('#pop-prd-curation')
            .off('click.curation')
            .on('click.curation', '.cinfo-dl .select, .cinfo-dl .toggle, .cinfo-dl .heightInput', function (e) {
                e.stopPropagation();
                const $dl = $(this).closest('.cinfo-dl');
                $dl.hasClass('open') ? closeOne($dl) : openOne($dl);
            })
            .on('click.curation', '.cinfo-dl .option', function (e) {
                e.stopPropagation();
                const $dl = $(this).closest('.cinfo-dl');
                const val = $(this).text().trim();
                $dl.find('.heightInput').val(val).trigger('change');
                syncSelected($dl, val);
                closeOne($dl);
            })
            .on('input.curation', '.cinfo-dl .heightInput', function () {
                const $dl = $(this).closest('.cinfo-dl');
                syncSelected($dl, $(this).val());
            });

        // document 클릭 시 셀렉트 닫기 (팝업 내부만)
        $(document).off('click.curationClose').on('click.curationClose', function (e) {
            // 팝업 외부 클릭 시에만 닫기
            if (!$(e.target).closest('#pop-prd-curation .cinfo-dl').length) {
                $('#pop-prd-curation .cinfo-dl.open').each(function () {
                    closeOne($(this));
                });
            }
        });

        // 저장 버튼 활성화 체크 함수
        function checkSaveButtonState() {
            var hasValue = false;
            var pCurationCode = '200004';
            var curationType1 = $('#curationType1').val(); // 성별, 키, 몸무게, 상의/하의 사이즈
            var curationType2 = $('#curationType2').val(); // 피부 타입, 피부 톤
            var curationType3 = $('#curationType3').val(); // 두피 타입
            var curationType4 = $('#curationType4').val(); // 신발 사이즈

            if (pCurationCode === curationType1) {
                // 성별, 키, 몸무게, 상의/하의 사이즈: 성별은 기본 체크되어 있으므로 select 입력값만 체크
                $('#pop-prd-curation .cinfo-dl .heightInput').each(function () {
                    if ($(this).val().trim() !== '') {
                        hasValue = true;
                        return false; // break
                    }
                });
            } else if (pCurationCode === curationType2 || pCurationCode === curationType3) {
                // 피부 타입/톤, 두피 타입: radio 선택 여부 체크
                hasValue = $('#pop-prd-curation .cinfo-sel input[type="radio"]:checked').length > 0;
            } else if (pCurationCode === curationType4) {
                // 신발 사이즈: select 입력값 체크
                $('#pop-prd-curation .cinfo-dl .heightInput').each(function () {
                    if ($(this).val().trim() !== '') {
                        hasValue = true;
                        return false; // break
                    }
                });
            }

            // 버튼 활성화/비활성화
            var $saveBtn = $('#pop-prd-curation .sticky-bottom-area .btn.black');
            if (hasValue) {
                $saveBtn.prop('disabled', false);
            } else {
                $saveBtn.prop('disabled', true);
            }
        }

        // 초기 상태 체크
        checkSaveButtonState();

        // 기존 이벤트 제거 후 새로 바인딩
        $('#pop-prd-curation')
            .off('click.curation')
            .on('click.curation', '.cinfo-dl .select, .cinfo-dl .toggle, .cinfo-dl .heightInput', function (e) {
                e.stopPropagation();
                const $dl = $(this).closest('.cinfo-dl');
                $dl.hasClass('open') ? closeOne($dl) : openOne($dl);
            })
            .on('click.curation', '.cinfo-dl .option', function (e) {
                e.stopPropagation();
                const $dl = $(this).closest('.cinfo-dl');
                const val = $(this).text().trim();
                $dl.find('.heightInput').val(val).trigger('change');
                syncSelected($dl, val);
                closeOne($dl);
                checkSaveButtonState(); // 값 선택 시 버튼 상태 체크
            })
            .on('input.curation', '.cinfo-dl .heightInput', function () {
                const $dl = $(this).closest('.cinfo-dl');
                syncSelected($dl, $(this).val());
                checkSaveButtonState(); // 입력 시 버튼 상태 체크
            })
            .on('change.curation', '.cinfo-sel input[type="radio"]', function () {
                checkSaveButtonState(); // radio 선택 시 버튼 상태 체크
            });
    });

    // 큐레이션 정보 저장
    function saveCurationInfo() {
        var pCurationCode = '200004';
        var curationType1 = $('#curationType1').val(); // 성별, 키, 몸무게, 상의/하의 사이즈
        var curationType2 = $('#curationType2').val(); // 피부 타입, 피부 톤
        var curationType3 = $('#curationType3').val(); // 두피 타입
        var curationType4 = $('#curationType4').val(); // 신발 사이즈
        var gender = null;
        var curationList = [];

        if (pCurationCode === curationType1) {
            // 성별
            gender = $('#pop-prd-curation input[name="gender"]:checked').val(); // 1: 남자, 2: 여자

            // 키, 몸무게, 상의/하의 사이즈
            $('#pop-prd-curation .cinfo-dl .heightInput').each(function () {
                var val = $(this).val().trim();
                if (val !== '') {
                    var curationCode = $(this).data('curation-code');
                    var numericValue = val.replace(/[^0-9]/g, '');
                    var $selectedOption = $(this).closest('.cinfo-dl').find('.options .option.is-selected');

                    // 옵션이 여러 개 선택된 경우(값이 같을 때), 성별로 필터링
                    if ($selectedOption.length > 1 && gender) {
                        $selectedOption = $selectedOption.filter(function () {
                            return String($(this).data('gender')) === String(gender);
                        });
                    }
                    var dataValue = $selectedOption.data('value');

                    curationList.push({
                        curationCode: curationCode,
                        curationValue: dataValue ? dataValue : numericValue
                    });
                }
            });
        } else if (pCurationCode === curationType2 || pCurationCode === curationType3) {
            // 피부 타입/톤, 두피 타입
            $('#pop-prd-curation .cinfo-sel input[type="radio"]:checked').each(function () {
                var name = $(this).attr('name');
                var curationCode = name.replace('cinfo-', '');
                var curationValue = $(this).data('curation-value');

                curationList.push({
                    curationCode: curationCode,
                    curationValue: curationValue
                });
            });
            gender = "0";  // 공통
        } else if (pCurationCode === curationType4) {
            // 신발 사이즈
            $('#pop-prd-curation .cinfo-dl .heightInput').each(function () {
                var val = $(this).val().trim();
                if (val !== '') {
                    var curationCode = $(this).data('curation-code');
                    var numericValue = val.replace(/[^0-9]/g, '');
                    var $selectedOption = $(this).closest('.cinfo-dl').find('.options .option.is-selected');
                    var dataValue = $selectedOption.data('value');

                    curationList.push({
                        curationCode: curationCode,
                        curationValue: dataValue ? dataValue : numericValue
                    });
                }
            });
            gender = "0";  // 공통
        }

        var param = {
            pCurationCode: pCurationCode,
            gender: gender,
            curationList: curationList
        };

        // 맞춤정보 저장
        $.ajax({
            url: '/review/curation/save',
            type: 'POST',
            contentType: "application/json;charset=UTF-8",
            data: JSON.stringify(param),
            headers: {
                "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
            },
            success: function (data) {
                if (data.isSuccess) {
                    popup.open("#push-curation-noti-popup");
                    popup.close("#pop-prd-curation");
                    $('.my-info-left input[type="checkbox"]').prop('checked', true);
                } else {
                    alert('저장에 실패하였습니다.');
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert('저장에 실패하였습니다.');
            }
        });
    }
</script><div class="focus-idx last" tabindex="0"></div></div>

        <div class="popup alert" id="push-curation-noti-popup">
          <div class="popup-inner">  
            <p class="alert-txt ac">
                맞춤정보가 등록되었습니다.
            </p>
            <div class="btn-area full">
                <button type="button" class="btn m-l black mr0 ml0" onclick="popup.close('#push-curation-noti-popup'); toggleMyInfo();">확인</button>
            </div>
          </div>
        </div>

        <script>
            $(function () {
                // [추가] 옵션 체크박스 선택 시 하단 버튼의 건수(optionTotalCnt) 업데이트 로직
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                

                //25-11-07 추천순/최신순
                const $dropdown = $('.my-dropdown');
                const $btn = $dropdown.find('.my-dropdown-btn');
                const $list = $dropdown.find('.my-dropdown-list');
                const $radios = $dropdown.find('input[type="radio"]');

                $btn.on('click', function (e) {
                    e.stopPropagation();
                    $dropdown.toggleClass('open');
                });

                $radios.on('click change', function () {
                    if ($(this).is(':checked')) {
                        const id = $(this).attr('id');
                        const txt = $('label[for="' + id + '"]').text();
                        $btn.html(txt);
                    }
                    $dropdown.removeClass('open');
                });

                $(document).on('click', function (e) {
                    if (!$(e.target).closest('.my-dropdown').length) {
                        $dropdown.removeClass('open');
                    }
                });

                //25-11-07 추천순/최신순
            });
        </script>
        
    </div>
    
      
        <div class="review-cont-wrap">
          <ul class="review-list" id="reviewList">
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt">신발이  너무 따뜻하고 편해요사무실용으로  잠깐 외출할때 신는 신발로도활용도가 좋아요<em class="positive">포근하고 발을 감싸 주니 기분도 좋네요</em>남편도 구입해 주려 합니다<em class="positive">가성비 최고입니다</em></p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/25/13/20251125132804159.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/25/13/20251125132804159.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2958119, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/25/13/20251125132803899.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/25/13/20251125132803899.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2958119, 2);"> 
                              </span>
                            </button>
                          </li>
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/25/13/20251125132804391.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/25/13/20251125132804391.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2958119, 3);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>jes****</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-25
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 230mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">너무 가볍고 너무 따뜻하고</em> <em class="positive">저렴하게 구입해서</em> 어머님께 한켤레 나누어 올겨울 함께 잘 신고 다닐께요. 고맙습니다. 또한 <em class="positive">강력 추천합니다</em>.</p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/22/11/20251122114712241.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/22/11/20251122114712241.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2954888, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/22/11/20251122114712472.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/22/11/20251122114712472.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2954888, 2);"> 
                              </span>
                            </button>
                          </li>
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/22/11/20251122114711978.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/22/11/20251122114711978.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2954888, 3);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>esa***</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-22
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:80.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">사이즈는 정사이즈</em>인데 앞부분이 엄청 둥그스레하니까 발이  커보이네요하지만 <em class="positive">따뜻해서 쓰레기 버리러갈때신으면 좋겠네요</em><em class="positive">올 겨울 발 따뜻해서 걱정 없을듯하네요</em></p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/12/12/09/20251212091645000.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/12/12/09/20251212091645000.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2974340, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>f79****</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-12
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:80.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 230mm / 230~235mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">사이즈는 정사이즈 나온거 같네요</em> <em class="negative">앞볼이 커서 발이투박해 보이긴한데</em> <em class="positive">편한한것 같네요</em> 하나는가게에서 하나는 집에서  잘신을것 같아요 </p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/12/24/08/20251224085027430.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/12/24/08/20251224085027430.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2985394, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>황*숙</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-23
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:20.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">신발이 굉장히 가볍습니다</em><em class="positive">올겨울 따뜻하게 신을거같습니다</em><em class="positive">신랑것두 재구매의사 잇습니다</em><em class="positive">사이즈도 정사이즈입니다</em></p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/10/09/20251110093639822.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/10/09/20251110093639822.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2943497, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>이*희</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-10
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:80.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt">블랙하고 화이트주문해서  딸들한테선물했는데 <em class="negative">신어보고 딸아이 발등이빨게졌어요</em><em class="negative">발등이 너무 아파 힘들었다고 하네요</em>딸아이는 발등살도 없는데  벌것게 부어서 이신발못신겠다고 하네요<em class="negative">착용한거라 교환도 안되고 속상하네요!</em></p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>강*주</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-14
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">화이트 / 240mm / 240~245mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt">아보크  클로그원터슈즈  <em class="positive">잘 쓰고있습니다</em>   따뜻하고  가볍고   가격도 저렴하게  잘  구매했습니다   <em class="positive">짱입니다</em> ~~~</p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/12/19/12/20251219120456191.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/12/19/12/20251219120456191.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2980846, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>서*숙</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-19
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 250mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt">신발이 편해보여서 주문했어요. 예상대로 <em class="positive">신는순간 따뜻함은 최고입니다</em>. 올 겨울 이 신발로 지낼것 같아요. <em class="positive">두 신발 모두 미끄럼 방지도 잘 되어 마음놓고 걸어다녀도 될것 같아요</em>. <em class="positive">가벼움은 이 신발 만의 장점인것 같아요</em>. 믿고 구매하셔도 될것 같아요.</p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/21/13/20251121134138189.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/21/13/20251121134138189.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2953836, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>pcn****</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-21
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">엄청 따뜻하네요</em>.. <em class="negative">새 것이라 미끈거려서 세척했는데 무지 안마르네요</em>..  깨끈한 타올로 물기 제거하고  가습기 찬스쓰고 해서 겨우 건조했어요<em class="positive">신발은 잘 맞네요</em></p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/23/18/20251123180351973.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/23/18/20251123180351973.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2956591, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>sam*********</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-23
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">화이트 / 230mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt">포장상태,  빠른배송 감사합니다<em class="negative">슬리퍼 치수가 한 단위 크게배송되었습니다</em>볼은 맞는데 <em class="negative">뒷꿈치가 많이 남네요</em> ㅎ</p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/20/02/20251120020636814.jpeg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/20/02/20251120020636814.jpeg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2952175, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>snt*************</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-19
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 250mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">구성도 좋고</em> 사이즈 교환 한번 했지만 <em class="positive">따뜻하고 편하네요</em><em class="positive">강추합니다</em></p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/22/11/20251122114438723.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/22/11/20251122114438723.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2954879, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>sok******</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-22
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:80.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="negative">유와 두개 모두 신발 사이즈가 옴청 크네요</em>. 털이 있어 큰거 했더니 음하하 선물드리고 칭찬받아야되는데 말이쥬~~</p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/12/05/20/20251205202843434.jpeg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/12/05/20/20251205202843434.jpeg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2968317, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/12/05/20/20251205202843164.jpeg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/12/05/20/20251205202843164.jpeg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2968317, 2);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>mis****</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-05
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:80.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">화이트 / 250mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="negative">신발 잘못선택한것같네요</em>딸아이한테 블랙 화이트 주문해서 선물했는데함신어보더니 <em class="negative">발등이 장난아니게 벌것게부었어요</em></p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>강*주</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-14
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 230mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">어머 너~~~무 편하고 따뜻해요</em>학교 교실이 추울텐데 실내화로  잘 신을께요<em class="positive">너무 좋아요</em> ~~</p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/10/06/20251110061943154.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/10/06/20251110061943154.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2943403, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>sog******</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-09
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail">
                    <span class="hidden">상품평</span>
                    <p class="review-txt">거실에서 사용하는데 보일러 켜지않아도 <em class="positive">발바닥이 땀이 날정도로 따뜻하고 가벼워서 오랜시간 신고있어도 발이 아프지않아요</em></p>
                    <button type="button" class="btn-links"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/25/07/20251125075810789.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/25/07/20251125075810789.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2957901, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>정*아</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-24
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 250mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">따시구 조아요</em> <em class="positive">겨울에 발이시려 구입했네요</em></p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/12/05/09/20251205090349907.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/12/05/09/20251205090349907.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2967843, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>권*경</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-05
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt">주방이ㅣ서 신기도 좋고 <em class="positive">동네 아실다닕때도 좋아요</em> 최고예요</p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/12/11/05/20251211052310023.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/12/11/05/20251211052310023.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2973323, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>김*자</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-10
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:80.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 230mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">가볍고 참 따뜻하네요</em> <em class="negative">모양이 날렵해 보이지는 않아요</em></p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                    <div class="review-photo-list">
                      <ul class="photo-list">
                        
                          <li>
                            <button type="button" class="btn-review">
                              <span class="photo-wrap">
                                <img through="m2ps" loading="lazy" src="https://img.shoppingntmall.com/comment/2025/11/19/18/20251119185026165.jpg/dims/resize/!146x146" alt="https://img.shoppingntmall.com/comment/2025/11/19/18/20251119185026165.jpg" onerror="$.eshopfront.cmm.emptyImg(this);" onclick="openImgDtlPop(2951819, 1);"> 
                              </span>
                            </button>
                          </li>
                        
                      </ul>
                    </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>mc8***</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-19
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 250mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">발이 매우 편하고 하루종일 신고 일하는데 발이 불편하지가 않아요</em> <em class="positive">발도 따뜻하게 보온력도 좋아요</em>.</p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>hee******</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-11-26
                      </span>
                  </div>
                </div>
              </li>
            
              <li>
                <div class="star-area">
                  <span class="star" style="width:100.0%"></span>
                </div>
                
                  <div class="option">
                    <span class="hidden">옵션</span>
                    <span class="val">블랙 / 240mm</span>
                  </div>
                
                
                  
                  <div class="review-detail on">
                    <span class="hidden">상품평</span>
                    <p class="review-txt"><em class="positive">따뜻하고 2종이라 좋아요</em> <em class="positive">사무실서 신고 마트갈때 신고</em></p>
                    <button type="button" class="btn-links" style="display: none;"><span>더보기</span></button>
                  </div>
                  
                
                <div class="review-info">
                  <div class="info">
                    <span class="id"><span class="hidden">아이디</span>bik*****</span>
                    <span class="date">
                      <span class="hidden">작성 날짜</span>
                        
                        2025-12-02
                      </span>
                  </div>
                </div>
              </li>
            
          </ul>
        </div>
        <button type="button" id="GdaslistMore" class="btn l-l more-btn" onclick="getGoodsReviewList('2', 'N', 'N', 'Y');" style="">
          <span class="more-btn-num">더보기(20/40)</span>
        </button>
      
    
    
    <script>
        $(document).ready(function () {
            //Ai 리뷰 핵심 키워드
            const $tab = $('.ai-reviw-tab');
            const $btns = $tab.find('li button');

            // 로드 시 활성화된 탭 중앙 정렬
            const $activeBtn = $tab.find('button.opinion.on');
            if ($activeBtn.length) {
                $tab.scrollLeft($tab.scrollLeft() + $activeBtn.offset().left - $tab.offset().left - ($tab.width() / 2) + ($activeBtn.outerWidth() / 2));
            }

            $btns.on('click', function () {
                const $this = $(this);
                const isOn = $this.hasClass('on'); // 지금 눌린 버튼이 on 상태인지 체크

                if (isOn) {
                    // 이미 선택된 상태면 해제만 하고 종료
                    $this.removeClass('on');
                } else {
                    // 새로 선택하는 경우
                    $this.addClass('on');
                    $btns.not($this).removeClass('on');
                    $tab.animate({
                        scrollLeft: $tab.scrollLeft() + $this.offset().left - $tab.offset().left - ($tab.width() / 2) + ($this.outerWidth() / 2)
                    }, 300);
                }
                getGoodsReviewList(1, 'N', 'Y', 'Y');
            });

            //리뷰 레이어 팝업
            $(".btn-que").on("click", function () {
                $(this).next(".que-pop").show();
            });
            $(".btn-que-close").on("click", function () {
                $(this).closest(".que-pop").hide();
            });
        });
    </script>
    
    <script>
        $(function () {
            const $header = $('#header');
            const $tab = $('.tab.detail');
            const $section = $tab.closest('section');
            const headerHeight = 8;
            if (!$tab.length || !$section.length) return;
            $header.css({
                transition: 'transform .3s ease',
                transform: 'translateY(0)',
                willChange: 'transform'
            });

            function updateHeaderVisibility() {
                const scrollTop = $(window).scrollTop();
                const tabOffsetTop = $tab.offset().top;
                const sectionRect = $section[0].getBoundingClientRect();
                //헤더 숨김
                if (tabOffsetTop <= headerHeight + scrollTop && sectionRect.top <= headerHeight && sectionRect.bottom > headerHeight) {
                    $header.css('transform', 'translateY(-100%)');
                }
                //헤더 표시
                else if (sectionRect.bottom <= headerHeight || sectionRect.top > headerHeight) {
                    $header.css('transform', 'translateY(0)');
                }
                //초기 헤더 표시
                else {
                    $header.css('transform', 'translateY(0)');
                }
            }

            $(window).on('scroll resize', updateHeaderVisibility);
            updateHeaderVisibility();
        });
    </script> 
    
    </div>
  
  


<!-- 팝업 -->
<temp id="goodsImgDtlPop"></temp>
<temp id="goodsGdasImgListPop"></temp>
<temp id="goodsGdasImgInfoDtlPop"></temp>

<script type="text/javascript">
$(document).ready(function() {
  var goodsGdasCnt = Number("40");
  if(goodsGdasCnt > 0) {
    if ('Goods' === 'Goods') {
      goodsGdasCnt = Math.min(goodsGdasCnt, 9999);
      //$("#goodsGdasCnt").text($.eshopfront.cmm.setComma(goodsGdasCnt) + (goodsGdasCnt === 9999 ? "+" : ""));
      // 쇼호스트 한줄 요약
      //if ($('#showhostReviewCnt').length) $('#showhostReviewCnt').text($.eshopfront.cmm.setComma(goodsGdasCnt) + (goodsGdasCnt === 9999 ? "+" : ""));
    }
    
    // 포토모아보기
    if ($('.photo-review-slider-wrap').length) {
      var recomProductRespect = new Swiper('.photo-review-slider-wrap', {
        slidesPerView: 'auto',
        spaceBetween: 4,
        grabCursor: true,
        watchOverflow : true
      });
    }
    
    //Ai 리뷰 핵심 키워드
    $('.ai-hack li button').on('click', function() {
      const $this = $(this);
      const index = $this.parent().index();
      const container = $('.ai-hack');
      const containerWidth = container.width();
      const buttonOffset = $this.offset().left - container.offset().left;
      const scrollLeft = container.scrollLeft();
      const newScrollLeft = scrollLeft + buttonOffset - (containerWidth / 2) + ($this.outerWidth() / 2);
      
      $('.ai-hack li button').removeClass('on');
      $this.addClass('on');
      
      container.animate({ scrollLeft: newScrollLeft }, 300);
      
      $('.ai-hack-con p').removeClass('active').eq(index).addClass('active');
    });
    $('.ai-hack li button').eq(0).click();
  }
});
function openImgDtlPop(etnum, itnum) {
  // $.ajax({
  //   url: '/goods/detail/goods-gdas-img-dtl-list'
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: {
  //     evalTunm : etnum
  //       ,imgTunm : itnum
  //   }
  //   ,success: function (json) {
  //     $("#goodsImgDtlPop").html(json);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}
function openImgListPop(page) {
  // var param;
  // param = {
  //   goodsCd:"24760392"
  //   ,goodsScn : "Goods"
  //   ,saleScn : "00"
  //   ,goodsNm : "25FW 아보크 클로그 윈터슈즈 2종 여성"
  //   ,tvExpYn : "Y" 
  //   ,goodsRsvmnExpYn : "N"
  //   ,goodsInfoRsvmnExpYn : ""
  //   ,gdasLinkCd : ""
  //   ,page:page
  //   ,addListYn: "N"
  // }
  
  // $.ajax({
  //   url: '/goods/detail/goods-gdas-img-list'
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: param
  //   ,success: function (json) {
  //     $("#goodsGdasImgListPop").html(json);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}


function addGdasImg(page){
  // var param;
  // param = {
  //   goodsCd:"24760392"
  //   ,goodsScn : "Goods"
  //   ,saleScn : "00"
  //   ,goodsNm : "25FW 아보크 클로그 윈터슈즈 2종 여성"
  //   ,tvExpYn : "Y" 
  //   ,goodsRsvmnExpYn : "N"
  //   ,goodsInfoRsvmnExpYn : ""
  //   ,gdasLinkCd : ""
  //   ,page:page
  //   ,addListYn : "Y"
  // }
  
  // $.ajax({
  //   url: '/goods/detail/goods-gdas-img-list'
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: param
  //   ,success: function (json) {
  //     $("#gdasImgMore").hide();
  //     $("#goodsGdasImgMore").append(json);
  //   } 
  //   ,error: function () {
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}

function openImgListInfoPop(page,idx) {
  // var param = {};
  // param.goodsCd = '24760392';
  // param.goodsScn = 'Goods';
  // param.saleScn = '00';
  // param.goodsNm = '25FW 아보크 클로그 윈터슈즈 2종 여성';
  // param.tvExpYn = 'Y';
  // param.goodsRsvmnExpYn = 'N';
  // param.goodsInfoRsvmnExpYn = '';
  // param.gdasLinkCd = '';
  // param.ImgIdx = idx;
  // param.page = page;
  // param.photoGdasYn = "Y";
  // if (page > 1) param.addListYn = "Y";
  // else param.addListYn = "N";
    
  // $.ajax({
  //   url: '/goods/detail/goods-gdas-img-Info-list'
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: param
  //   ,success: function (json) {
  //     $("#goodsGdasImgInfoDtlPop").html(json);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}

function getGoodsReviewList(page, initFilterYn, initReviewYn, addListYn) {
  // if ($('#reviewsTotal').length) $('#reviewsTotal').remove(); // 초기화
  // var param;

  // // 선택된 상품옵션 값
  // var options = "";     // 상품옵션명 (ex. 레드 / 55)
  // var optionsVal = "";  // 버즈니 파라미터 (ex. 색상:레드,사이즈:55)
  // $("input[name='option']:checked").each(function() {
  //     var labelText = $("label[for='" + $(this).attr('id') + "']").text();
  //     var optionValue = $(this).attr('data-option-value');
  //     if (options !== "") {
  //         options += ";";
  //     }
  //     options += labelText;
  //     if (optionsVal !== "") {
  //         optionsVal += ";";
  //     }
  //     optionsVal += optionValue;
  // });

  // var reviewsOptionYn = $('#reviewsOptionYn').val() || "";  // 리뷰옵션 여부
  // var curationInfoYn = $('#curationInfoYn').val() || "";    // 맞춤정보 여부
  // var curationInfo = $('#curationInfo').val() || "";        // 내 맞춤정보
  // var curationInfoVal = $('#curationInfoVal').val() || "";  // 버즈니 파마리터(ex.속성1:값;속성2:값;속성3:값)

  // param = {
  //   goodsCd : "24760392"
  //   ,lrcl : "47"
  //   ,gdasSort : $("input[name='gdasSort']:checked").val()
  //   ,page : page
  //   ,rowsPerPage : '20'
  //   ,initYn : 'N'
  //   ,addListYn : addListYn
  //   ,photoGdasYn : $('.ai-reviw-check:not(.option)').hasClass('on') ? 'Y' : 'N'
  //   ,opinionAttribute : initFilterYn === 'Y' ? '' : $('#aiReviewTab button.opinion.on').data('opinionAttribute')
  //   ,purchasedOptionStr : options
  //   ,purchasedOptionVal : optionsVal
  //   ,purchasedOptionCnt : $('#optionTotalCnt').text()
  //   ,curationInfo : curationInfo
  //   ,curationInfoVal : curationInfoVal
  //   ,curationInfoYn : curationInfoYn
  //   ,reviewsOptionYn : reviewsOptionYn
  // }
  
  // $.ajax({
  //   url: '/goods/detail/buzzni-goods-review-info'  
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: param
  //   ,success: function (html) {
  //     if (initReviewYn === 'Y') $('#reviewList').empty(); // 리뷰 목록 삭제
  //     if (initFilterYn === 'Y') {
  //       $('#reviewDiv').html(html); //goodsDetailReviewAjax append(포토만 CASE)
  //     } else {
  //       $("#reviewList").append(html); // goodsDetailReviewMore append
  //       var reviewsTotal = $('#reviewsTotal').val();
  //       // 버튼
  //       if (page >= reviewsTotal / rowsPerPage) {
  //         $("#GdaslistMore").hide();
  //       } else {
  //         $('#GdaslistMore').show();
  //         var btnHtml = "<button type='button' id='GdaslistMore' class='btn l-l more-btn' onclick='getGoodsReviewList("+(Number(page)+1)+", \"N\", \"N\", \"Y\");'>더보기<span class='more-btn-num'> ("+(Number(page)*rowsPerPage)+"/"+reviewsTotal+")</span></button>";
  //         $("#GdaslistMore").replaceWith(btnHtml);
  //       }
  //     }
  //     gdasEvent(page);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}
</script>
</temp>
        
      
    
  </div>
  <!-- 상품 QnA 등록/수정 팝업 -->
  













 





 
   
 
 
 


    



  
              
  
  









<!-- 팝업 (중) -->
<div class="popup full scroll" id="goodsDetailGdasPop">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>상품평 작성하기</h2>
    </div>
    <div class="popup-content review" style="padding-bottom: 120px;">
      <div class="type-card">
        <div class="goods-detail mt24">
          <div class="thum-area" id="goodsImg">
            <img src="/moassets/images/_temp/thum01.png" alt="[ODV] 20FW 오디브 시그니처 폭스퍼 롱" through="m2ps" loading="lazy">
          </div>
          <div class="info-txt-area" id="goodsNmTxt">
            <p class="txt type-line2"><span>TV쇼핑</span> SS 골프웨어 여성 상의 5종 세트 (바람막이 1종+티셔츠+무늬 모양)</p>
            <p class="option-quantity" id="goodsOptiln"></p>
            <!-- <p class="option-quantity">1개</p> -->
          </div>
        </div>
      </div>
      <section>                        
        <div class="noti-box">
            <p class="point-c3" id="savePtTxt">일반상품평 200원 / 포토상품평 1,000원 추가 적립</p>
        </div>
      </section>
      <section class="star-rating-wrap">
        <div class="ipt-rating-star">
          <span class="bg-star"></span>
          <span class="bg-star-on"></span>
          <input type="range" name="" id="" value="1" step="1" min="1" max="5" oninput="dragStar(this)">
        </div>
        <div class="rating-val">
          <span class="hidden">평점</span>
          <em class="val" id="evalScr">0</em><em class="slash">/</em><span class="total">5</span>
        </div>
        <script>
          var dragStar = (target) => {
            //console.log(target.value);
            $('.bg-star-on').css({
              width : target.value * 20+'%'
            });
            $('.rating-val .val').text(target.value);
          }
        </script>
        
      </section>
      <section class="type-line full-minus-mg pb0" id="reviewReg">
        <div class="box-gray" id="medicalTxt" style="display: none;">
            <span class="icon"></span>
            <p class="txt">본 상품은 식품 및 의료기기 관련<br>법규에 의거하여 별점만 제공됩니다.</p>
          </div>
         <span id="fileUpload">
          <strong class="file-tit">
            파일첨부
            <span class="desc">(최대 3개/총 10MB/PNG,JPG,JPEG 첨부가능)</span>
          </strong>
          
          
          <ul class="file-list ml16 mr16"><li>  <div class="file-item">    <span class="btn-box">      <input type="file" id="file_1766988202352" accept=".jpg,.jpeg,.png" onchange="$.eshopfront.file.addFile(this)">      <label for="file_1766988202352">        <span class="hidden">첨부파일 추가</span>      </label>      <span class="attach-box">        <span class="attach-img"></span>        <span class="attach-info">          <span class="attach-txt">이미지.jpg</span>          <span class="attach-volume">0MB</span>        </span>        <button type="button" class="btn-close bet" onclick="$.eshopfront.file.delFile(this)">          <span class="hidden">첨부파일 삭제</span>        </button>      </span>    </span>  </div></li></ul>
          <div class="textarea-wrap">
            <textarea name="" id="goodsReview" placeholder="최소 10자 이상 입력해주세요." maxlength="300"></textarea>
            <div class="t-byte mt8 mb24" id="goodsReviewCounter"><span>0</span> / 300</div>
          </div>
        </span>
      </section>
      <!--  ITSR 9634 [문구 추가]상품평 작성 유의사항 내 문구 추가 -->
      <!-- [ITSR-11171] [운영 개선]상품평 작성 유의 사항 문구 변경 -->
      <section class="review_txt">
        <h3>상품평 작성 유의사항</h3>
        
          <ul class="dot-list">
          <li>상품과 무관한 포토, 화면 캡쳐, 이미 등록된 사진 등 무성의한 리뷰는 등록이 제한될 수 있습니다. 또한, 상품과 관련없는 개인정보, 욕설, 비방, 저작권 침해, 광고 및 홍보 등의 상품평도 관리자가 임의로 삭제할 수 있습니다.</li>
          <li>포토상품평은 사진 첨부 및 50자 이상 상품평을 작성하셔야 적립됩니다. (50자 미만일 경우 사진 첨부해도 추가 적립 불가)</li>
          <li>일반 상품평과 포토 상품평 혜택은 중복 지급되지 않으며, 포토 상품평 적립금은 최초 작성 시 포토를 첨부할 경우에만 적립됩니다.</li>
          <li>상품과 관련없는 리뷰, 동일 문자 반복, 욕설/비방 등의 악의적인 내용을 포함하는 리뷰와 부정거래 기반하여 작성된 상품평은 통보 없이 삭제될 수 있습니다.</li>
          <li>작성하신 상품평은 쇼핑엔티에 귀속되어 홍보, 마케팅 등의 목적으로 사용될 수 있습니다.</li>
          <li>상품평 작성 후 수정 및 삭제가 불가능합니다.</li>
        </ul>
        
      </section>
      <div class="btn-area sticky sticky-bottom-area">
        <button type="button" class="btn m-l black btn-shipping-change mt40" onclick="javascript:fileupload();">등록하기</button>
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick="javascript:popClose();">팝업 닫기</button>
  </div>
  <div class="focus-idx last" tabindex="0"></div>
  
    
      <input type="hidden" id="imgurl" value="/viewer/medias/bps/20251208/1900006580/transcoding/hls/master.m3u8">
    
  
    
  
    
  
  <input type="hidden" id="goodsCd" name="goodsCd" value="24760392">
  <input type="hidden" id="ordNo" name="ordNo" value="">
  <input type="hidden" id="ordGoodsTunm" name="ordGoodsTunm" value="">
  <input type="hidden" id="lgroup" name="lgroup" value="">
  <input type="hidden" id="gdasGoodsdtCode" name="goodsdtCode" value="">
  <input type="hidden" id="gdasGoodsdtinfo" name="goodsdtinfo" value="">
  <input type="hidden" id="goodsNm" name="goodsNm" value="">
  <input type="hidden" id="mdclNm" name="mdclNm" value="">
  <input type="hidden" id="rsaleAmt" name="rsaleAmt" value="">
</div>
<!-- // 팝업 (중) -->
<script type="text/javascript">
var doubleClickFlag = false;
$(function(){
	//팝업 호출
	//글자수 카운터
  $("#goodsReview").on("keyup focusout", function(){
    var content = $(this).val();
    $("#goodsReviewCounter span").text(content.length);
    
    if(content.length > 300){
      alert("상품평은 300자 이내로 작성해 주세요.");
      $(this).val(content.substring(0,300));
      $("#goodsReviewCounter span").text("300");
    }
  });
});

//파일업로드
$.eshopfront.file.init({fileMaxCnt: 3, fileSize: 10, accept: ".jpg,.jpeg,.png", trgtElmt: "#goodsDetailGdasPop"});
function fileupload() {
  $.eshopfront.file.uploadFile('comment', goodsGdasUploadSuccess, goodsGdasUploadError, goodsGdasUploadComplete);
}

//상품평 작성 버튼 로직
function openGoodsGdasPop(goodsCd){
  regValidationChk(goodsCd);
}

function regValidationChk(goodsCd) {
  // 로그인 체크
  if(ISLOGIN !== 'Y' || ISMEMBER !== 'Y') {
    
    //if(confirm("로그인 후 이용 가능합니다.\n로그인페이지로 이동하시겠습니까?")) {
      execLogin(location.href.replace(location.origin, ""));
    //}
  } else {
    // 마이페이지 상품평 목록 이동
    // 구매한 상품이 없는 경우 (로그인한 사용자가 해당 상품을 구매하지 않읅경우,.)
    // 구매한 상품 중 작성 가능한 상품평이 없는경우
      // 배송완료 이전의 주문상태
      // 배송완료 이후 90일 초과
      // 해당 상품평을 이미 작성한 경우
    
    $.ajax({
      url: '/mypage/goodsgdas/selectInsertChk',
      type: "GET",
      datatype: "json",
      contentType : "application/json;charset=UTF-8",
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      },
      data: {
        goodsCode: goodsCd
      },
      success: function(response) {
        // 구매한상품이 없는경우
        // 구매한 상품중 작성가능한 상품이 없는경우 (로그인한 사용자가 구매했을경우.)
        
        // 구매이력
        var orderYn = response.resultData.orderYn;
        if(orderYn == '0') {
          //주문한 상품만 상품평을 남길 수 있습니다.
          alert("주문한 상품만 상품평을 남길 수 있습니다.");
          return false;
        }
        
        // 작성가능 갯수
        var purCnt = response.resultData.preTotalCount;
        
        if(purCnt == 0) {
          
          alert("작성 가능한 상품평이 없습니다.");
          return false;
        }
        
        // 마이페이지 상품평로 이동
        window.location.replace('/mypage/goodsgdas/list');
      },
      error: function() {
        alert("시스템 오류가 발생하였습니다.");
      }
    });
  }
}

//파일 업로드 success 콜백 함수
function goodsGdasUploadSuccess(data){
  	console.info("이미지 업로드 콜백 데이터", data);
  	if(data.resultCode == '0000'){
  	  var result = data.resultData;
			var params = new Object();
			var lgroup = $("#lgroup").val();

	 		// 이미지 param 세팅
  	  if(result != null){
  	    params['goodsGdasImage'] = new Array();
  	    params['fileNameList'] = new Array();
    	  $.each(result, function(idx, model){
    	    params.goodsGdasImage.push({'imgUrl' : model.previewPath, 'imgExtsnNm' : model.originalFileName});
    	    if(model.previewPath !== '') {
    	      params.fileNameList.push(model.previewPath.split("\\").join("/"));
    	    }
    	  });
  	  }
  	  
	 		// 나머지 param 세팅
  	  goodsGdasSetParam(params);
  	}else{
  	  alert("이미지 업로드 오류가 발생하였습니다.");
  	  return false;
  	}
}

//파일 업로드 error 콜백 함수
function goodsGdasUploadError(data){
  if(chk403(data)) return;
  alert("이미지 업로드 오류가 발생하였습니다.");
}

//파일 업로드 complete 콜백 함수
function goodsGdasUploadComplete(){}


/** 등록 파라미터 설정 */
function goodsGdasSetParam(params){
  var goodsSn =  '';
  
  params['evalSbc'] = scriptReplace($("#goodsReview").val()); // 평가 내용
  params['evalScr'] = $("#evalScr").text(); // 평가점수
  
  if($("#goodsCd").val() != '' || $("#goodsCd").val() != null){
    params['goodsCd'] = $("#goodsCd").val(); // 상품코드
  }
  params['ordNo'] = $("#ordNo").val(); // 주문번호
  params['ordGoodsTunm'] = $("#ordGoodsTunm").val(); // 주문순번
  params['goodsdtCode'] = $("#gdasGoodsdtCode").val(); // 단품코드
  params['goodsdtinfo'] = $("#gdasGoodsdtinfo").val(); // 단품상세
  
  ////////////////테스트 임시 세팅////////////////////
  //////////////////////////////////////////////////
  console.info("상품평등록 데이터", params);
  
  // 저장
  insertGoodsGdas(params);
}

/** 파라미터 재설정 */
function scriptReplace(str){
  if (str == undefined || str == null){
         return "";
  }
  str = str.replace(/\</g,"&lt;");
  str = str.replace(/\>/g,"&gt;");
  str = str.replace(/\"/g,"&quot;");
  return str;
}



function insertGoodsGdas(params) {

  var evalScr =  $("#evalScr").text();
  
  if(evalScr <= 0){
    alert("별점을 선택해주세요."); 
    return false;
  }
  
  var lgroup = $("#lgroup").val();
  
  
  if(lgroup !== '12' && lgroup !== '17' && lgroup !== '60') {
    var goodsReview = $("#goodsReview").val();
    
    if(goodsReview.length < 1){
      alert("상품평을 입력해주세요."); 
      $("#goodsReview").focus();
      return false; 
    }
    
    if(goodsReview.length < 10){
      alert("상품평은 10자 이상 입력해주세요."); 
      $("#goodsReview").focus();
      return false; 
    }
    
    if(goodsReview.length > 300){
      alert("상품평은 300자 이내로 작성해 주세요."); 
      $("#goodsReview").focus();
  	  return false; 
    }
    
    var _condition_same = false; // 동일한 문자
    var _condition_incr = false; // 연속된 문자열(증가)
    var _condition_decr = false; // 연속된 문자열(감소)
    var _condition_word = false; // 연속된 미완성문자열
    
    for(var i=0; i < goodsReview.length-4; i++) {
      var _char0 = goodsReview.charAt(i);
      var _char1 = goodsReview.charAt(i+1);
      var _char2 = goodsReview.charAt(i+2);
      var _char3 = goodsReview.charAt(i+3);
      var _char4 = goodsReview.charAt(i+4);

      // 연속된 문자열(증가)
      if( _char0.charCodeAt(0) - _char1.charCodeAt(0) == -1 && 
          _char1.charCodeAt(0) - _char2.charCodeAt(0) == -1 && 
          _char2.charCodeAt(0) - _char3.charCodeAt(0) == -1 && 
          _char3.charCodeAt(0) - _char4.charCodeAt(0) == -1 
      ) {
          _condition_incr = true;
          break;
      }
      // 연속된 문자열(감소)
      if( _char0.charCodeAt(0) - _char1.charCodeAt(0) == 1 && 
          _char1.charCodeAt(0) - _char2.charCodeAt(0) == 1 && 
          _char2.charCodeAt(0) - _char3.charCodeAt(0) == 1 && 
          _char3.charCodeAt(0) - _char4.charCodeAt(0) == 1
      ) {
          _condition_decr = true;
          break;
      }
  	}
    
  	//연속된 문자열(동일 4자 이상 반복)
    if(/(.)\1{3,}/.test(goodsReview)) _condition_same = true;
    
  	//4자 이상 연속된 자음 + 모음 조합
    if(/([ㄱ-ㅎ|ㅏ-ㅣ]){4}/.test(goodsReview)) _condition_word = true;
  	
    if( _condition_same ) {
      doubleClickFlag = false;
      alert("4자 이상 반복 문구가 포함되어 상품평 등록이 불가합니다.");	//4자 이상 반복 문구가 포함되어 상품평 등록이 불가합니다.
      return false;
    }else if( _condition_incr ) {
      doubleClickFlag = false;
      alert("5자 이상 연속 문구가 포함되어 상품평 등록이 불가합니다.");	//5자 이상 연속 문구가 포함되어 상품평 등록이 불가합니다.
      return false;
    }else if( _condition_decr ) {
      doubleClickFlag = false;
      alert("5자 이상 연속 문구가 포함되어 상품평 등록이 불가합니다.");	//5자 이상 연속 문구가 포함되어 상품평 등록이 불가합니다.
      return false;         
    }else if( _condition_word ) {
      doubleClickFlag = false;
      alert("미완성 문구가 포함되어 상품평 등록이 불가합니다.");	//미완성 문구가 포함되어 상품평 등록이 불가합니다.
      return false;         
    }

    //금칙어 체크
    if(!filterChk(params)){
      alert("비속어가 포함되어 상품평 등록이 불가합니다.");	//비속어가 포함되어 상품평 등록이 불가합니다.
			return false;
    }
    
  }
  
  if(doubleClickFlag){ alert("상품평 등록 처리중입니다."); return false;}
  if(!confirm("작성하신 상품평을 등록하시겠습니까?")) return false;
  doubleClickFlag = true;
  console.log(params);
  $.ajax({
    url: '/goods/detail/goods-review-insert',
    type: "POST",
    datatype: "json",
    data:  JSON.stringify(params),
    contentType : "application/json;charset=UTF-8",
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
    success: function(response) {
      console.info("상품평 등록 Ajax Success", response)
      var result = response.resultData;
      
      if (result.status == 200) {
        // 얼럿 종료 및 팝업 닫힘 상품평 등록 및 목록 리로딩
        alert("감사합니다 고객님! 상품평 작성이 완료되었습니다!"); //감사합니다 고객님! 상품평 작성이 완료되었습니다!
        $("#goodsDetailGdasPop").hide();
        window.location.replace('/mypage/goodsgdas/list');
        //getGoodsReview(1);
      }else {
        alert("저장에 실패하였습니다.");
        doubleClickFlag = false;
				return false;
      }
      
      doubleClickFlag = false;
    },
    error: function(request) {
      if(chk403(request)) return;
      alert("시스템 오류가 발생하였습니다.");
      doubleClickFlag = false;
    }
	});
}
//function openGdasForm() {
function openCommentPop(goodsCode,goodsName,lgroup,imageUrl,imageT,tvYn,goodsdtinfo, ordNo, ordSeq, orderQty, goodsdtCode, modifier, rsaleAmt, mgroupName) {

  $("#evalScr").text("0");
  $(".bg-star-on").css('width', '0%')
  $(".file-list").children('li').remove();
  $("ul.file-list").append($.eshopfront.file.appendEl());
  $("#goodsReview").val("");
  $("#goodsReviewCounter span").text("0");
  
  // 건강식품/건강용품/일반식품 상품일경우
  if(lgroup === '12' || lgroup === '17' || lgroup === '60') {
    $("#medicalTxt").show();
    $("#fileUpload").hide();
    $("#goodsReview").hide();
    $("#savePtTxt").text("일반상품평 200원");
    $('#reviewReg').addClass('pd16');
  } else {
    $("#medicalTxt").hide();
    $("#fileUpload").show();
    $("#goodsReview").show();
    $("#savePtTxt").text("일반상품평 200원 / 포토상품평 1,000원 추가 적립");
    $('#reviewReg').removeClass('pd16');
  }

/*
          <div class="info-txt-area" id="goodsNmTxt">
            <p class="txt type-line2"><span>TV쇼핑</span> SS 골프웨어 여성 상의 5종 세트 (바람막이 1종+티셔츠+무늬 모양)</p>
            <p class="option-quantity" id="goodsOptiln"></p>
            <!-- <p class="option-quantity">1개</p> -->
          </div>
 */
  
 
   var goodsStr = "";
   goodsStr += "<p class='txt type-line2'>";
   goodsStr += (tvYn == '1') ? "<span>TV쇼핑</span>" : "";
   goodsStr += (modifier != null) ? "<strong>"+modifier+"</strong>" : "";
   goodsStr +=  goodsName+"</p>";
   if(goodsdtinfo !== "" || goodsdtinfo !== "없음") {
     	goodsStr += "<p class='option-quantity'>"+goodsdtinfo+"</p>"
   }
   /* 
  var goodsStr = "<span class='hidden'>상품명</span>";
  goodsStr += (tvYn == '1') ? "<span class='point-c1'>TV쇼핑</span>" : "";
  goodsStr += (modifier != null) ? "<strong>"+modifier+"</strong>" : "";
  goodsStr +=  '        <span class="name">'+ goodsName + '</span>';
   */
  $("#goodsNmTxt").html(goodsStr);
  $("#goodsImg").html('<img src="' + "https://img.shoppingntmall.com" + imageUrl +imageT+'" alt="'+ goodsCode +'_상품대표이미지" onerror="$.eshopfront.cmm.emptyImg(this);">');
  $("#goodsCd").val(goodsCode);
  $("#ordNo").val(ordNo);
  $("#ordGoodsTunm").val(ordSeq);
  $("#lgroup").val(lgroup);
  $("#gdasGoodsdtCode").val(goodsdtCode);
  $("#gdasGoodsdtinfo").val(goodsdtinfo);
  $("#goodsNm").val(goodsName);
  $("#rsaleAmt").val(rsaleAmt);
  $("#mdclNm").val(mgroupName);
  
  popup.open("#goodsDetailGdasPop");
  }
    
  function filterChk(params){
    
    var chk = true;
    $.ajax({
      url: '/goods/detail/goods-review-filter',
      type: "POST",
      async: false,
      datatype: "json",
      data:  JSON.stringify(params),
      contentType : "application/json;charset=UTF-8",
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(response) {
        var result = response.resultData;
        if (result.status == 999) {
          chk = false;
        }
      },
      error: function(request) {
    	  if(chk403(request)) return;
    	  alert("시스템 오류가 발생하였습니다.");
      }
  	});
    
    return chk;
  }
    
  function popClose(){
    if(!confirm("상품평 미등록 시 적립금 혜택을 받으실 수 없습니다.\n다음에 등록하시겠습니까?")) return false;
    popup.close('#goodsDetailGdasPop');
  }
  
</script>
  
<script type="text/javascript">
var dealGoodsCd = "";
var dealGoodsTvExpYn = "";
var dealGoodsRsvmnExpYn = "";
var dealGoodsSaleScn = "";
var dealGoodsNm = "";
var dealGoodsLrcl = "";
var allGoods = "all";
var dealGoodsSn = "";
var rowsPerPage = '20';
$(document).ready(function() {
  if ('Goods' === 'Goods') { 
    getGoodsReviewInfo(1);
  } else if ('Goods' === 'Deal') { // 딜상품은 선택시 호출
    var dealGoodsCommentTotalCnt = Number('');
    if(dealGoodsCommentTotalCnt > 0) {
      dealGoodsCommentTotalCnt = Math.min(dealGoodsCommentTotalCnt, 9999);
      $("#goodsGdasCnt").text($.eshopfront.cmm.setComma(dealGoodsCommentTotalCnt) + (dealGoodsCommentTotalCnt === 9999 ? "+" : ""));
    }
    clickEventBindGdas();
  }
}); 
    
function getGoodsReviewInfo(page) {
  // var param;
  
  // if("Goods" === 'Goods') {
  //   param = {
  //     goodsScn : "Goods"
  //     ,goodsCd : "24760392"
  //     ,saleScn : "00"
  //     ,goodsNm : "25FW 아보크 클로그 윈터슈즈 2종 여성"
  //     ,tvExpYn : "Y"
  //     ,goodsRsvmnExpYn : "N"
  //     ,goodsInfoRsvmnExpYn : ""
  //     ,lrcl:"47" 
  //     ,gdasLinkCd : ""
  //     ,gdasSort : '4' // 기본-추천순
  //     ,page : page
  //     ,photoGdasYn : 'N'
  //     ,rowsPerPage : rowsPerPage
  //     ,initYn : 'Y'
  //     ,addListYn : 'N'
  //   }
  // } else if("Goods" === 'Deal') {
  //   param = {
  //     goodsScn : "Goods"
  //     ,goodsCd : dealGoodsCd
  //     // ,goodsCdListVal: goodsCdList
  //     ,dealSn: ""
  //     ,saleScn : dealGoodsSaleScn
  //     ,goodsNm : dealGoodsNm
  //     ,tvExpYn : dealGoodsTvExpYn
  //     ,goodsRsvmnExpYn : dealGoodsRsvmnExpYn
  //     ,goodsInfoRsvmnExpYn : ""
  //     ,lrcl:dealGoodsLrcl
  //     ,gdasSort : '4' // 기본-추천순
  //     ,gdasLinkCd : ""
  //     ,page : page
  //     ,photoGdasYn : 'N'
  //     ,rowsPerPage : rowsPerPage
  //     ,initYn : 'Y'
  //     ,addListYn : 'N'
  //   }
  // }
  
  // $.ajax({
  //   url: '/goods/detail/buzzni-goods-review-info'
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: param
  //   ,success: function (html) {
  //     $("#goodsReviewInfo").html(html);
  //     // gdasEvent(page);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}

function clickEventBindGdas() {
  var prdSelData = ""; 
  $(".prd-sel-list.goods-gdas-sel-list .sel-list").off("click").bind("click", function(e){
    e.preventDefault();
    
    $('.prd-sellist-group').css('max-height', '322px');
    // $('.custom-slt').removeClass('on');
    $('.review-wrap-all').show(0);
    
    if($(this).closest("li").hasClass("select") == false){
      $(this).closest(".prd-sel-list.goods-gdas-sel-list").find(".sel-list").removeAttr('title');
      $(this).attr("title", "선택됨");
      $(this).closest(".prd-sel-list.goods-gdas-sel-list").find("> li").removeClass("select");
      $(this).closest("li").addClass("select");
    };

    $(this).closest(".prd-sellist-group").stop().slideUp({
      duration: 300,
      complete: function(){
        $(this).closest(".custom-slt").removeClass("on");
      }
    });

    prdSelData = $(this).closest(".custom-slt").find(".select .sel-list .tit").html();
    $(this).closest(".custom-slt").find(".prd-sel").html(prdSelData);
    
    allGoods =  $(this).closest(".custom-slt").find(".select .sel-list .tit .allGoods").val();
    dealGoodsCd =  $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsCd").val();
    dealGoodsTvExpYn =  $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsTvExpYn").val();
    dealGoodsRsvmnExpYn =  $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsRsvmnExpYn").val();
    dealGoodsSaleScn =  $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsSaleScn").val();
    dealGoodsNm = $(this).closest(".custom-slt").find(".select .sel-list .tit .name").text();
    dealGoodsSn = $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsSn").val();
    dealGoodsLrcl = $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsLrcl").val();
    $("input[name='tabValue']").val("1"); //딜상품 조회 변경 시, 전체상품평으로 이동
    getGoodsReviewInfo(1);
    $('button.goodsGdas').click(); // 화면 이동
  }); 
}

function gdasEvent(page){
  for( var i=(page-1)*20; i<$(".review-cont-wrap .review-detail .review-txt").length; i++ ){
    if( $(".review-cont-wrap .review-detail .review-txt").eq(i).height() <= 42 ){
      $(".review-cont-wrap .review-detail .btn-links").eq(i).hide();
    }else{
      $(".review-cont-wrap .review-detail").eq(i).removeClass("on");
      $(".review-cont-wrap .review-detail .btn-links").eq(i).show();
    }
  };
	// 상품평 더보기/접기 기능
  $(".review-cont-wrap .review-detail .btn-links").unbind("click").bind("click", function(e){
    e.preventDefault();
    expand.reviewMoreClick(this);
  });

  var expand = {
    reviewMoreClick : function(target){
      if($(target).closest(".review-detail").hasClass("on") == true){
        $(target).closest(".review-detail").removeClass("on");
        $(target).closest(".review-detail").find(".btn-links").text("더보기");
      }else{
        $(target).closest(".review-detail").addClass("on");
        $(target).closest(".review-detail").find(".btn-links").text("닫기");
      };
    }
  };
}
</script>
</div>
  <!-- 상품 QnA 등록/수정 팝업 -->
  













 





 
   
 
 
 


    



  
              
  
  









<!-- 팝업 (중) -->
<div class="popup full scroll" id="goodsDetailGdasPop">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>상품평 작성하기</h2>
    </div>
    <div class="popup-content review">
      <div class="type-card">
        <div class="goods-detail mt24">
          <div class="thum-area" id="goodsImg">
            <img src="https://m.shoppingntmall.com/moassets/images/_temp/thum01.png" alt="[ODV] 20FW 오디브 시그니처 폭스퍼 롱" through="m2ps" loading="lazy">
          </div>
          <div class="info-txt-area" id="goodsNmTxt">
            <p class="txt type-line2"><span>TV쇼핑</span> SS 골프웨어 여성 상의 5종 세트 (바람막이 1종+티셔츠+무늬 모양)</p>
            <p class="option-quantity" id="goodsOptiln"></p>
            <!-- <p class="option-quantity">1개</p> -->
          </div>
        </div>
      </div>
      <section>                        
        <div class="noti-box">
            <p class="point-c3" id="savePtTxt">일반상품평 200원 / 포토상품평 1,000원 추가 적립</p>
        </div>
      </section>
      <section class="star-rating-wrap">
        <div class="ipt-rating-star">
          <span class="bg-star"></span>
          <span class="bg-star-on"></span>
          <input type="range" name="" id="" value="1" step="1" min="1" max="5" onInput="dragStar(this)">
        </div>
        <div class="rating-val">
          <span class="hidden">평점</span>
          <em class="val" id="evalScr">0</em><em class="slash">/</em><span class="total">5</span>
        </div>
        <script>
          var dragStar = (target) => {
            //console.log(target.value);
            $('.bg-star-on').css({
              width : target.value * 20+'%'
            });
            $('.rating-val .val').text(target.value);
          }
        </script>
        
      </section>
      <section class="type-line full-minus-mg pb0" id="reviewReg">
        <div class="box-gray" id="medicalTxt" style="display: none;">
            <span class="icon"></span>
            <p class="txt">본 상품은 식품 및 의료기기 관련<br>법규에 의거하여 별점만 제공됩니다.</p>
          </div>
         <span id="fileUpload">
          <strong class="file-tit">
            파일첨부
            <span class="desc">(최대 3개/총 10MB/PNG,JPG,JPEG 첨부가능)</span>
          </strong>
          
          
          <ul class="file-list ml16 mr16"></ul>
          <div class="textarea-wrap">
            <textarea name="" id="goodsReview" placeholder="최소 10자 이상 입력해주세요." maxlength="300"></textarea>
            <div class="t-byte mt8 mb24" id="goodsReviewCounter"><span>0</span> / 300</div>
          </div>
        </span>
      </section>
      <!--  ITSR 9634 [문구 추가]상품평 작성 유의사항 내 문구 추가 -->
      <!-- [ITSR-11171] [운영 개선]상품평 작성 유의 사항 문구 변경 -->
      <section class="review_txt">
        <h3>상품평 작성 유의사항</h3>
        
          <ul class="dot-list">
          <li>상품과 무관한 포토, 화면 캡쳐, 이미 등록된 사진 등 무성의한 리뷰는 등록이 제한될 수 있습니다. 또한, 상품과 관련없는 개인정보, 욕설, 비방, 저작권 침해, 광고 및 홍보 등의 상품평도 관리자가 임의로 삭제할 수 있습니다.</li>
          <li>포토상품평은 사진 첨부 및 50자 이상 상품평을 작성하셔야 적립됩니다. (50자 미만일 경우 사진 첨부해도 추가 적립 불가)</li>
          <li>일반 상품평과 포토 상품평 혜택은 중복 지급되지 않으며, 포토 상품평 적립금은 최초 작성 시 포토를 첨부할 경우에만 적립됩니다.</li>
          <li>상품과 관련없는 리뷰, 동일 문자 반복, 욕설/비방 등의 악의적인 내용을 포함하는 리뷰와 부정거래 기반하여 작성된 상품평은 통보 없이 삭제될 수 있습니다.</li>
          <li>작성하신 상품평은 쇼핑엔티에 귀속되어 홍보, 마케팅 등의 목적으로 사용될 수 있습니다.</li>
          <li>상품평 작성 후 수정 및 삭제가 불가능합니다.</li>
        </ul>
        
      </section>
      <div class="btn-area sticky sticky-bottom-area">
        <button type="button" class="btn m-l black btn-shipping-change mt40" onclick="javascript:fileupload();">등록하기</button>
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick='javascript:popClose();'>팝업 닫기</button>
  </div>
  <div class="focus-idx last" tabindex="0"></div>
  
    
      <input type="hidden" id="imgurl"  value="/viewer/medias/bps/20251208/1900006580/transcoding/hls/master.m3u8" />
    
  
    
  
    
  
  <input type="hidden" id="goodsCd" name="goodsCd" value="24760392" />
  <input type="hidden" id="ordNo" name="ordNo" value="" />
  <input type="hidden" id="ordGoodsTunm" name="ordGoodsTunm" value="" />
  <input type="hidden" id="lgroup" name="lgroup" value="" />
  <input type="hidden" id="gdasGoodsdtCode" name="goodsdtCode" value="">
  <input type="hidden" id="gdasGoodsdtinfo" name="goodsdtinfo" value="">
  <input type="hidden" id="goodsNm" name="goodsNm" value="">
  <input type="hidden" id="mdclNm" name="mdclNm" value="">
  <input type="hidden" id="rsaleAmt" name="rsaleAmt" value="">
</div>
<!-- // 팝업 (중) -->
<script type="text/javascript">
var doubleClickFlag = false;
$(function(){
	//팝업 호출
	//글자수 카운터
  $("#goodsReview").on("keyup focusout", function(){
    var content = $(this).val();
    $("#goodsReviewCounter span").text(content.length);
    
    if(content.length > 300){
      alert("상품평은 300자 이내로 작성해 주세요.");
      $(this).val(content.substring(0,300));
      $("#goodsReviewCounter span").text("300");
    }
  });
});

//파일업로드
$.eshopfront.file.init({fileMaxCnt: 3, fileSize: 10, accept: ".jpg,.jpeg,.png", trgtElmt: "#goodsDetailGdasPop"});
function fileupload() {
  $.eshopfront.file.uploadFile('comment', goodsGdasUploadSuccess, goodsGdasUploadError, goodsGdasUploadComplete);
}

//상품평 작성 버튼 로직
function openGoodsGdasPop(goodsCd){
  regValidationChk(goodsCd);
}

function regValidationChk(goodsCd) {
  // 로그인 체크
  if(ISLOGIN !== 'Y' || ISMEMBER !== 'Y') {
    
    //if(confirm("로그인 후 이용 가능합니다.\n로그인페이지로 이동하시겠습니까?")) {
      execLogin(location.href.replace(location.origin, ""));
    //}
  } else {
    // 마이페이지 상품평 목록 이동
    // 구매한 상품이 없는 경우 (로그인한 사용자가 해당 상품을 구매하지 않읅경우,.)
    // 구매한 상품 중 작성 가능한 상품평이 없는경우
      // 배송완료 이전의 주문상태
      // 배송완료 이후 90일 초과
      // 해당 상품평을 이미 작성한 경우
    
    $.ajax({
      url: '/mypage/goodsgdas/selectInsertChk',
      type: "GET",
      datatype: "json",
      contentType : "application/json;charset=UTF-8",
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      },
      data: {
        goodsCode: goodsCd
      },
      success: function(response) {
        // 구매한상품이 없는경우
        // 구매한 상품중 작성가능한 상품이 없는경우 (로그인한 사용자가 구매했을경우.)
        
        // 구매이력
        var orderYn = response.resultData.orderYn;
        if(orderYn == '0') {
          //주문한 상품만 상품평을 남길 수 있습니다.
          alert("주문한 상품만 상품평을 남길 수 있습니다.");
          return false;
        }
        
        // 작성가능 갯수
        var purCnt = response.resultData.preTotalCount;
        
        if(purCnt == 0) {
          
          alert("작성 가능한 상품평이 없습니다.");
          return false;
        }
        
        // 마이페이지 상품평로 이동
        window.location.replace('/mypage/goodsgdas/list');
      },
      error: function() {
        alert("시스템 오류가 발생하였습니다.");
      }
    });
  }
}

//파일 업로드 success 콜백 함수
function goodsGdasUploadSuccess(data){
  	console.info("이미지 업로드 콜백 데이터", data);
  	if(data.resultCode == '0000'){
  	  var result = data.resultData;
			var params = new Object();
			var lgroup = $("#lgroup").val();

	 		// 이미지 param 세팅
  	  if(result != null){
  	    params['goodsGdasImage'] = new Array();
  	    params['fileNameList'] = new Array();
    	  $.each(result, function(idx, model){
    	    params.goodsGdasImage.push({'imgUrl' : model.previewPath, 'imgExtsnNm' : model.originalFileName});
    	    if(model.previewPath !== '') {
    	      params.fileNameList.push(model.previewPath.split("\\").join("/"));
    	    }
    	  });
  	  }
  	  
	 		// 나머지 param 세팅
  	  goodsGdasSetParam(params);
  	}else{
  	  alert("이미지 업로드 오류가 발생하였습니다.");
  	  return false;
  	}
}

//파일 업로드 error 콜백 함수
function goodsGdasUploadError(data){
  if(chk403(data)) return;
  alert("이미지 업로드 오류가 발생하였습니다.");
}

//파일 업로드 complete 콜백 함수
function goodsGdasUploadComplete(){}


/** 등록 파라미터 설정 */
function goodsGdasSetParam(params){
  var goodsSn =  '';
  
  params['evalSbc'] = scriptReplace($("#goodsReview").val()); // 평가 내용
  params['evalScr'] = $("#evalScr").text(); // 평가점수
  
  if($("#goodsCd").val() != '' || $("#goodsCd").val() != null){
    params['goodsCd'] = $("#goodsCd").val(); // 상품코드
  }
  params['ordNo'] = $("#ordNo").val(); // 주문번호
  params['ordGoodsTunm'] = $("#ordGoodsTunm").val(); // 주문순번
  params['goodsdtCode'] = $("#gdasGoodsdtCode").val(); // 단품코드
  params['goodsdtinfo'] = $("#gdasGoodsdtinfo").val(); // 단품상세
  
  ////////////////테스트 임시 세팅////////////////////
  //////////////////////////////////////////////////
  console.info("상품평등록 데이터", params);
  
  // 저장
  insertGoodsGdas(params);
}

/** 파라미터 재설정 */
function scriptReplace(str){
  if (str == undefined || str == null){
         return "";
  }
  str = str.replace(/\</g,"&lt;");
  str = str.replace(/\>/g,"&gt;");
  str = str.replace(/\"/g,"&quot;");
  return str;
}



function insertGoodsGdas(params) {

  var evalScr =  $("#evalScr").text();
  
  if(evalScr <= 0){
    alert("별점을 선택해주세요."); 
    return false;
  }
  
  var lgroup = $("#lgroup").val();
  
  
  if(lgroup !== '12' && lgroup !== '17' && lgroup !== '60') {
    var goodsReview = $("#goodsReview").val();
    
    if(goodsReview.length < 1){
      alert("상품평을 입력해주세요."); 
      $("#goodsReview").focus();
      return false; 
    }
    
    if(goodsReview.length < 10){
      alert("상품평은 10자 이상 입력해주세요."); 
      $("#goodsReview").focus();
      return false; 
    }
    
    if(goodsReview.length > 300){
      alert("상품평은 300자 이내로 작성해 주세요."); 
      $("#goodsReview").focus();
  	  return false; 
    }
    
    var _condition_same = false; // 동일한 문자
    var _condition_incr = false; // 연속된 문자열(증가)
    var _condition_decr = false; // 연속된 문자열(감소)
    var _condition_word = false; // 연속된 미완성문자열
    
    for(var i=0; i < goodsReview.length-4; i++) {
      var _char0 = goodsReview.charAt(i);
      var _char1 = goodsReview.charAt(i+1);
      var _char2 = goodsReview.charAt(i+2);
      var _char3 = goodsReview.charAt(i+3);
      var _char4 = goodsReview.charAt(i+4);

      // 연속된 문자열(증가)
      if( _char0.charCodeAt(0) - _char1.charCodeAt(0) == -1 && 
          _char1.charCodeAt(0) - _char2.charCodeAt(0) == -1 && 
          _char2.charCodeAt(0) - _char3.charCodeAt(0) == -1 && 
          _char3.charCodeAt(0) - _char4.charCodeAt(0) == -1 
      ) {
          _condition_incr = true;
          break;
      }
      // 연속된 문자열(감소)
      if( _char0.charCodeAt(0) - _char1.charCodeAt(0) == 1 && 
          _char1.charCodeAt(0) - _char2.charCodeAt(0) == 1 && 
          _char2.charCodeAt(0) - _char3.charCodeAt(0) == 1 && 
          _char3.charCodeAt(0) - _char4.charCodeAt(0) == 1
      ) {
          _condition_decr = true;
          break;
      }
  	}
    
  	//연속된 문자열(동일 4자 이상 반복)
    if(/(.)\1{3,}/.test(goodsReview)) _condition_same = true;
    
  	//4자 이상 연속된 자음 + 모음 조합
    if(/([ㄱ-ㅎ|ㅏ-ㅣ]){4}/.test(goodsReview)) _condition_word = true;
  	
    if( _condition_same ) {
      doubleClickFlag = false;
      alert("4자 이상 반복 문구가 포함되어 상품평 등록이 불가합니다.");	//4자 이상 반복 문구가 포함되어 상품평 등록이 불가합니다.
      return false;
    }else if( _condition_incr ) {
      doubleClickFlag = false;
      alert("5자 이상 연속 문구가 포함되어 상품평 등록이 불가합니다.");	//5자 이상 연속 문구가 포함되어 상품평 등록이 불가합니다.
      return false;
    }else if( _condition_decr ) {
      doubleClickFlag = false;
      alert("5자 이상 연속 문구가 포함되어 상품평 등록이 불가합니다.");	//5자 이상 연속 문구가 포함되어 상품평 등록이 불가합니다.
      return false;         
    }else if( _condition_word ) {
      doubleClickFlag = false;
      alert("미완성 문구가 포함되어 상품평 등록이 불가합니다.");	//미완성 문구가 포함되어 상품평 등록이 불가합니다.
      return false;         
    }

    //금칙어 체크
    if(!filterChk(params)){
      alert("비속어가 포함되어 상품평 등록이 불가합니다.");	//비속어가 포함되어 상품평 등록이 불가합니다.
			return false;
    }
    
  }
  
  if(doubleClickFlag){ alert("상품평 등록 처리중입니다."); return false;}
  if(!confirm("작성하신 상품평을 등록하시겠습니까?")) return false;
  doubleClickFlag = true;
  console.log(params);
  $.ajax({
    url: '/goods/detail/goods-review-insert',
    type: "POST",
    datatype: "json",
    data:  JSON.stringify(params),
    contentType : "application/json;charset=UTF-8",
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
    success: function(response) {
      console.info("상품평 등록 Ajax Success", response)
      var result = response.resultData;
      
      if (result.status == 200) {
        // 얼럿 종료 및 팝업 닫힘 상품평 등록 및 목록 리로딩
        alert("감사합니다 고객님! 상품평 작성이 완료되었습니다!"); //감사합니다 고객님! 상품평 작성이 완료되었습니다!
        $("#goodsDetailGdasPop").hide();
        window.location.replace('/mypage/goodsgdas/list');
        //getGoodsReview(1);
      }else {
        alert("저장에 실패하였습니다.");
        doubleClickFlag = false;
				return false;
      }
      
      doubleClickFlag = false;
    },
    error: function(request) {
      if(chk403(request)) return;
      alert("시스템 오류가 발생하였습니다.");
      doubleClickFlag = false;
    }
	});
}
//function openGdasForm() {
function openCommentPop(goodsCode,goodsName,lgroup,imageUrl,imageT,tvYn,goodsdtinfo, ordNo, ordSeq, orderQty, goodsdtCode, modifier, rsaleAmt, mgroupName) {

  $("#evalScr").text("0");
  $(".bg-star-on").css('width', '0%')
  $(".file-list").children('li').remove();
  $("ul.file-list").append($.eshopfront.file.appendEl());
  $("#goodsReview").val("");
  $("#goodsReviewCounter span").text("0");
  
  // 건강식품/건강용품/일반식품 상품일경우
  if(lgroup === '12' || lgroup === '17' || lgroup === '60') {
    $("#medicalTxt").show();
    $("#fileUpload").hide();
    $("#goodsReview").hide();
    $("#savePtTxt").text("일반상품평 200원");
    $('#reviewReg').addClass('pd16');
  } else {
    $("#medicalTxt").hide();
    $("#fileUpload").show();
    $("#goodsReview").show();
    $("#savePtTxt").text("일반상품평 200원 / 포토상품평 1,000원 추가 적립");
    $('#reviewReg').removeClass('pd16');
  }

/*
          <div class="info-txt-area" id="goodsNmTxt">
            <p class="txt type-line2"><span>TV쇼핑</span> SS 골프웨어 여성 상의 5종 세트 (바람막이 1종+티셔츠+무늬 모양)</p>
            <p class="option-quantity" id="goodsOptiln"></p>
            <!-- <p class="option-quantity">1개</p> -->
          </div>
 */
  
 
   var goodsStr = "";
   goodsStr += "<p class='txt type-line2'>";
   goodsStr += (tvYn == '1') ? "<span>TV쇼핑</span>" : "";
   goodsStr += (modifier != null) ? "<strong>"+modifier+"</strong>" : "";
   goodsStr +=  goodsName+"</p>";
   if(goodsdtinfo !== "" || goodsdtinfo !== "없음") {
     	goodsStr += "<p class='option-quantity'>"+goodsdtinfo+"</p>"
   }
   /* 
  var goodsStr = "<span class='hidden'>상품명</span>";
  goodsStr += (tvYn == '1') ? "<span class='point-c1'>TV쇼핑</span>" : "";
  goodsStr += (modifier != null) ? "<strong>"+modifier+"</strong>" : "";
  goodsStr +=  '        <span class="name">'+ goodsName + '</span>';
   */
  $("#goodsNmTxt").html(goodsStr);
  $("#goodsImg").html('<img src="' + "https://img.shoppingntmall.com" + imageUrl +imageT+'" alt="'+ goodsCode +'_상품대표이미지" onerror="$.eshopfront.cmm.emptyImg(this);">');
  $("#goodsCd").val(goodsCode);
  $("#ordNo").val(ordNo);
  $("#ordGoodsTunm").val(ordSeq);
  $("#lgroup").val(lgroup);
  $("#gdasGoodsdtCode").val(goodsdtCode);
  $("#gdasGoodsdtinfo").val(goodsdtinfo);
  $("#goodsNm").val(goodsName);
  $("#rsaleAmt").val(rsaleAmt);
  $("#mdclNm").val(mgroupName);
  
  popup.open("#goodsDetailGdasPop");
  }
    
  function filterChk(params){
    
    var chk = true;
    $.ajax({
      url: '/goods/detail/goods-review-filter',
      type: "POST",
      async: false,
      datatype: "json",
      data:  JSON.stringify(params),
      contentType : "application/json;charset=UTF-8",
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(response) {
        var result = response.resultData;
        if (result.status == 999) {
          chk = false;
        }
      },
      error: function(request) {
    	  if(chk403(request)) return;
    	  alert("시스템 오류가 발생하였습니다.");
      }
  	});
    
    return chk;
  }
    
  function popClose(){
    if(!confirm("상품평 미등록 시 적립금 혜택을 받으실 수 없습니다.\n다음에 등록하시겠습니까?")) return false;
    popup.close('#goodsDetailGdasPop');
  }
  
</script>
  
<script type="text/javascript">
var dealGoodsCd = "";
var dealGoodsTvExpYn = "";
var dealGoodsRsvmnExpYn = "";
var dealGoodsSaleScn = "";
var dealGoodsNm = "";
var dealGoodsLrcl = "";
var allGoods = "all";
var dealGoodsSn = "";
var rowsPerPage = '20';
$(document).ready(function() {
  // if ('Goods' === 'Goods') { 
  //   getGoodsReviewInfo(1);
  // } else if ('Goods' === 'Deal') { // 딜상품은 선택시 호출
  //   var dealGoodsCommentTotalCnt = Number('');
  //   if(dealGoodsCommentTotalCnt > 0) {
  //     dealGoodsCommentTotalCnt = Math.min(dealGoodsCommentTotalCnt, 9999);
  //     $("#goodsGdasCnt").text($.eshopfront.cmm.setComma(dealGoodsCommentTotalCnt) + (dealGoodsCommentTotalCnt === 9999 ? "+" : ""));
  //   }
  //   clickEventBindGdas();
  // }
}); 
    
function getGoodsReviewInfo(page) {
  // var param;
  
  // if("Goods" === 'Goods') {
  //   param = {
  //     goodsScn : "Goods"
  //     ,goodsCd : "24760392"
  //     ,saleScn : "00"
  //     ,goodsNm : "25FW 아보크 클로그 윈터슈즈 2종 여성"
  //     ,tvExpYn : "Y"
  //     ,goodsRsvmnExpYn : "N"
  //     ,goodsInfoRsvmnExpYn : ""
  //     ,lrcl:"47" 
  //     ,gdasLinkCd : ""
  //     ,gdasSort : '4' // 기본-추천순
  //     ,page : page
  //     ,photoGdasYn : 'N'
  //     ,rowsPerPage : rowsPerPage
  //     ,initYn : 'Y'
  //     ,addListYn : 'N'
  //   }
  // } else if("Goods" === 'Deal') {
  //   param = {
  //     goodsScn : "Goods"
  //     ,goodsCd : dealGoodsCd
  //     // ,goodsCdListVal: goodsCdList
  //     ,dealSn: ""
  //     ,saleScn : dealGoodsSaleScn
  //     ,goodsNm : dealGoodsNm
  //     ,tvExpYn : dealGoodsTvExpYn
  //     ,goodsRsvmnExpYn : dealGoodsRsvmnExpYn
  //     ,goodsInfoRsvmnExpYn : ""
  //     ,lrcl:dealGoodsLrcl
  //     ,gdasSort : '4' // 기본-추천순
  //     ,gdasLinkCd : ""
  //     ,page : page
  //     ,photoGdasYn : 'N'
  //     ,rowsPerPage : rowsPerPage
  //     ,initYn : 'Y'
  //     ,addListYn : 'N'
  //   }
  // }
  
  // $.ajax({
  //   url: '/goods/detail/buzzni-goods-review-info'
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: param
  //   ,success: function (html) {
  //     $("#goodsReviewInfo").html(html);
  //     // gdasEvent(page);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}

function clickEventBindGdas() {
  var prdSelData = ""; 
  $(".prd-sel-list.goods-gdas-sel-list .sel-list").off("click").bind("click", function(e){
    e.preventDefault();
    
    $('.prd-sellist-group').css('max-height', '322px');
    // $('.custom-slt').removeClass('on');
    $('.review-wrap-all').show(0);
    
    if($(this).closest("li").hasClass("select") == false){
      $(this).closest(".prd-sel-list.goods-gdas-sel-list").find(".sel-list").removeAttr('title');
      $(this).attr("title", "선택됨");
      $(this).closest(".prd-sel-list.goods-gdas-sel-list").find("> li").removeClass("select");
      $(this).closest("li").addClass("select");
    };

    $(this).closest(".prd-sellist-group").stop().slideUp({
      duration: 300,
      complete: function(){
        $(this).closest(".custom-slt").removeClass("on");
      }
    });

    prdSelData = $(this).closest(".custom-slt").find(".select .sel-list .tit").html();
    $(this).closest(".custom-slt").find(".prd-sel").html(prdSelData);
    
    allGoods =  $(this).closest(".custom-slt").find(".select .sel-list .tit .allGoods").val();
    dealGoodsCd =  $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsCd").val();
    dealGoodsTvExpYn =  $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsTvExpYn").val();
    dealGoodsRsvmnExpYn =  $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsRsvmnExpYn").val();
    dealGoodsSaleScn =  $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsSaleScn").val();
    dealGoodsNm = $(this).closest(".custom-slt").find(".select .sel-list .tit .name").text();
    dealGoodsSn = $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsSn").val();
    dealGoodsLrcl = $(this).closest(".custom-slt").find(".select .sel-list .tit .dealGoodsLrcl").val();
    $("input[name='tabValue']").val("1"); //딜상품 조회 변경 시, 전체상품평으로 이동
    getGoodsReviewInfo(1);
    $('button.goodsGdas').click(); // 화면 이동
  }); 
}

function gdasEvent(page){
  for( var i=(page-1)*20; i<$(".review-cont-wrap .review-detail .review-txt").length; i++ ){
    if( $(".review-cont-wrap .review-detail .review-txt").eq(i).height() <= 42 ){
      $(".review-cont-wrap .review-detail .btn-links").eq(i).hide();
    }else{
      $(".review-cont-wrap .review-detail").eq(i).removeClass("on");
      $(".review-cont-wrap .review-detail .btn-links").eq(i).show();
    }
  };
	// 상품평 더보기/접기 기능
  $(".review-cont-wrap .review-detail .btn-links").unbind("click").bind("click", function(e){
    e.preventDefault();
    expand.reviewMoreClick(this);
  });

  var expand = {
    reviewMoreClick : function(target){
      if($(target).closest(".review-detail").hasClass("on") == true){
        $(target).closest(".review-detail").removeClass("on");
        $(target).closest(".review-detail").find(".btn-links").text("더보기");
      }else{
        $(target).closest(".review-detail").addClass("on");
        $(target).closest(".review-detail").find(".btn-links").text("닫기");
      };
    }
  };
}
</script>
</div> 

      
      
      
       











 





 
   
 
 
 


    



  
              
  
  









  
  <div class="tab-cont-item">
        
      
      <temp id="goodsQna">
      </temp>
      
   
    <!-- 상품 QnA 등록/수정 팝업 -->
    











 





 
   
 
 
 


    



  
              
  
  








<div class="popup full" id="editQnaPop">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>상품 문의하기</h2>
    </div>
    <div class="popup-content">
      <section class="full pt24">
        <div class="type-card">
          <div class="goods-detail" id="goodsQnaList">
          </div>
        </div>

        <div class="hr">
          <textarea name="replaceQnA" id="replaceQnA" placeholder="문의 내용을 입력해주세요." class="mt8 m"></textarea>
          <div class="t-byte mt8 mb10" id="replaceQnACounter"><strong>0</strong>/300</div>
        </div>

        <ul class="form-list vertical line full-minus-mg">
          <li class="form-wrap">
            <input type="checkbox" name="qnaSmsYn" id="qnaSmsYn">
            <label for="qnaSmsYn"><span></span>SMS로 답변받기 <em class="point-c10 txt-xs" id="memId">(010-**20-55**)</em></label>
          </li>
          <li class="form-wrap">
            <input type="checkbox" name="displayYn" id="displayYn">
            <label for="displayYn"><span></span>비밀글 <em class="point-c10 txt-xs">(체크시 판매자와 본인만 확인가능합니다)</em></label>
          </li>
        </ul>
      </section>
      
      <section class="review_txt">
        <h3>상품 문의 작성 시 유의사항</h3>
        <ul class="dot-list">
                        <li>비밀글로 작성 시 판매자와 본인만 확인 가능합니다.</li>
                        <li>상품과 관련 없는 개인정보, 욕설, 비방, 저작권 침해, 광고 및 홍보 등의 글은 관리자가 임의로 삭제할 수 있습니다.</li>
                    </ul>
      </section>
      <div class="btn-area sticky sticky-bottom-area">
        <button type="button" class="btn l-l black" onclick="javascript:saveGoodsQna();">등록하기</button>
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick='popup.close("#editQnaPop")'>팝업 닫기</button>
  </div>
</div>

<input type="hidden" id="action" name="action" value="INSERT"/>
<input type="hidden" id="counselSeq" name="counselSeq"/>
<input type="hidden" id="orderNo" name="orderNo"/>
<input type="hidden" id="goodsCode" name="goodsCode"/>
<input type="hidden" id="goodsdtCode" name="goodsdtCode"/>
<input type="hidden" id="codeLgroup" name="codeLgroup"/>
<input type="hidden" id="codeMgroup" name="codeMgroup"/>
<input type="hidden" id="mobileHp1" name="mobileHp1"/>
<input type="hidden" id="mobileHp2" name="mobileHp2"/>
<input type="hidden" id="mobileHp3" name="mobileHp3"/>
<input type="hidden" id="email" name="email" value=""/>
<input type="hidden" id="hp" name="hp" value=""/>
<input type="hidden" id="goodsDetailYn" name="goodsDetailYn"/>
<input type="hidden" id="page" name="page"/>

<!-- 딜 상품 선택 팝업 -->












 





 
   
 
 
 


    



  
              
  
  







<!-- 팝업 (중) -->
<div class="popup dialog" id="selectGoodsPop">
  <div class="popup-inner">
    <h2 class="tit">상품선택</h2>
    <ul class="prd-sel-list">
      
    </ul>
      <button type="button" class="btn-popup-close" onclick='popup.close("#selectGoodsPop")'>팝업 닫기</button>
    </div>
  </div>            
<!-- // 팝업 (중) -->
<!-- // 팝업 (중) -->
<script>

var goodsScn = 'Goods';

if(goodsScn == 'Deal'){
  var goodsCd = '24760392';
  var dealSn = '';
}else{
  var goodsCd = '24760392';
}

$(function(){
	
  $("#replaceQnA").on("keyup", function(){
    var content = $(this).val();
    $("#replaceQnACounter").html("<strong>"+ content.length + "</strong>/300");
    
    if(content.length > 300){
      alert("최대 300자까지 입력 가능합니다.");
      $(this).val(content.substring(0,300));
      $("#replaceQnACounter").html("<strong>300" + "</strong>/300");
    }
  });
});


function openGoodsQnaPop(action, counselSeq, orderNo, goodsCode, goodsDetailYn, tvExpYn, goodsNm, dealGoodsYn, goodsImg, page, saleScn){
  //공통 로그인 체크 로직 실행 시, Q&A 팝업이 먼저 뜨고 로그인 페이지로 넘어가서 따로 중간에 컨펌창 처리하였음
  if(ISLOGIN == "Y" && ISMEMBER == "N") {
    var msg = "해당 서비스는 회원만 이용가능합니다.\n로그인하시겠습니까?"
    var check = confirm(msg);
    if(check) {
      $('#logoutForm #returnUrl').val("/member/login?returnUrl=" + location.href.replace(location.origin, ""));
      $('#logoutForm')[0].submit();
    }
  } else if(ISLOGIN == "N") {
    if(confirm("로그인 후 이용 가능합니다.\n로그인페이지로 이동하시겠습니까?")){
      location.href="/member/login?returnUrl="+location.href.replace(location.origin, "");
    }
    return;
  }
  
  if(action != null){
    $("#action").val(action);
  }
  if(goodsDetailYn == 'Y'){
    $("#goodsDetailYn").val('Y');
  }
  
  
  if(goodsScn == 'Deal' && dealGoodsYn != 'Y'){
    $("#dealHp").val(hp);	// 타이틀
    popup.open("#selectGoodsPop");
    return;
  }else{ 
    if(action == "UPDATE"){ 
      var param = {'counselSeq' : counselSeq}
      var page = page;
      
  		$.ajax({
        url: "/mypage/qna/detail",
        type: "GET",
        datatype: "json",
        data: param,
        contentType : "application/json;charset=UTF-8",
    	  headers: {
    			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    		},
        success: function(result) {
          var data = result.resultData.custCounsel;
          data.tvExpYn = tvExpYn;
          
          $("#replaceTitle").val(data.title);	// 타이틀
          $("#replaceQnA").val(data.procNote);	// 문의 내용
          $("#replaceQnACounter").html($("#replaceQnA").val().length + "<span> / 300</span>") // 글자수
          $("#counselSeq").val(counselSeq); // 고객상담 순번
       		$("#qnaSmsYn").val(data.smsYn);// SMS 수신 체크
          if(data.smsYn == '0'){ 
            $("#qnaSmsYn").prop("checked", false); // SMS 수신 체크 속성
          }else{
            $("#qnaSmsYn").prop("checked", true);
          }
          if(data.displayYn == '0'){ 
            $("#displayYn").prop("checked", true); // 비밀글 여부
          }else{
            $("#displayYn").prop("checked", false);
          }
          $("#orderNo").val(data.refNo1);	// 주문번호
          $("#goodsCode").val(data.goodsCode);	// 상품코드
          $("#goodsdtCode").val(data.goodsdtCode); // 단품코드
          $("#codeLgroup").val(data.outLgroupCode);	// 상담 대분류 코드
          $("#codeMgroup").val(data.outMgroupCode);	// 상담 중분류 코드
          $("#mobileHp1").val(data.Ddd);	// 전화번호 국번
          $("#mobileHp2").val(data.tel1);	// 전화번호 앞자리 
          $("#mobileHp3").val(data.tel2);	// 전화번호 뒷자리
          $("#email").val(data.fromEmailAddr);	// 메일 주소
          $("#tvExpYn").val(data.tvExpYn);
          $("#page").val(page);
          $("#goodsQnaList").html(makeGoodsQnaList(data));
          
        }, error : function(){
          alert('시스템 오류가 발생했습니다.');	
        }
      });
    }else{ // 등록
      // TODO
      var data = {
        tvExpYn : tvExpYn,
        goodsNm : goodsNm,
        goodsImg : goodsImg
    	};
      if(saleScn != null){
    	  data.saleScn = saleScn;
    	}
      $("#replaceTitle").val("");	// 타이틀
      $("#replaceQnA").val("");	// 문의 내용
      $("#replaceQnACounter").html("<span>0 / 300</span>") // 글자수
      $("#counselSeq").val(""); // 고객상담 순번
   		$("#qnaSmsYn").val("");// SMS 수신 체크
      $("#qnaSmsYn").prop("checked", false); // SMS 수신 체크 속성
      $("#displayYn").val("1");// SMS 수신 체크
      $("#displayYn").prop("checked", false); // SMS 수신 체크 속성
      $("#orderNo").val("");	// 주문번호
      $("#goodsdtCode").val(""); // 단품코드
      $("#email").val("");	// 메일 주소
      $("#goodsCode").val(goodsCode);	// 상품코드
      $("#goodsQnaList").html(makeGoodsQnaList(data));
    }
    popup.open("#editQnaPop");
  }
}
  

// 등록하기 버튼 클릭시
function saveGoodsQna(){
  if(scriptReplace($("#replaceQnA").val()) == null || scriptReplace($("#replaceQnA").val()) == ''){
   alert("상품문의 내용을 입력해주세요");
   return false;
  }
	var action = $("#action").val();
	
	// API Param 세팅
	var params = new Object;
	
  params['counselSeq'] = $("#counselSeq").val();
  params['boardTitle'] = scriptReplace($("#replaceTitle").val());
  params['questionContent'] = scriptReplace($("#replaceQnA").val());
  params['codeLgroup'] = $("#codeLgroup").val();
  params['codeMgroup'] = $("#codeMgroup").val();
  params['smsYn'] = $("#qnaSmsYn").is(":checked") ? "1":"0";
  params['displayYn'] = $("#displayYn").is(":checked") ? "0":"1";
  params['orderNo'] = $("#orderNo").val();
  params['goodsCode'] = $("#goodsCode").val();
  params['goodsdtCode'] = $("#goodsdtCode").val();
  params['mobileHp1'] = $("#mobileHp1").val();
  params['mobileHp2'] = $("#mobileHp2").val();
  params['mobileHp3'] = $("#mobileHp3").val();
  params['goodsNm'] = $("span[name='goodsNmChk']").text();
  
  var email = $("#email").val();
  var emailArray = email.split("@");
  
  params['emailId'] = emailArray[0];
  params['emailDomain'] = emailArray[1];  
	
	if(action == "UPDATE"){ // 수정
	  $.ajax({
      url: "/mypage/qna/update", 
      type: "post",
      datatype: "json",
      data: JSON.stringify(params),
      contentType : "application/json;charset=UTF-8",
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(response) {
				var result = response.resultData;
        
        if (result.status == 200) {
          alert("상품문의가 수정되었습니다.");
        } else if(result.status == 442){
          alert("수정할 상품문의가 없습니다.");
        } else if( result.error == 'Y'){
      		alert("해킹 공격이 가능한 코드가 포함되어 있습니다.\n \"" + result.message +"\" 코드가 있다면 제거해주세요.");
          return false;
   			} else if( result.message != undefined ){
        	alert(result.message + "[" + result.code + "]");
        } else {
          alert("시스템 오류가 발생하였습니다.");
          return false;
        }
        
        
        if($("#goodsDetailYn").val() == 'Y' && goodsScn != 'Deal'){
          $('#'+params.counselSeq+'').find(".question-txt").text($("#replaceQnA").val());
          popup.close('#editQnaPop');
        
        }else if($("#goodsDetailYn").val() == 'Y' && goodsScn == 'Deal'){
          $('#'+params.counselSeq+'').find(".question-txt").text($("#replaceQnA").val());
          popup.close('#editQnaPop');
        }else{
   			  window.location.replace('/mypage/qna/list');
        }
      }, error: function(){
        alert("시스템 오류가 발생하였습니다.");
      }
    });
  }else{ // 등록
		// TODO Ajax
		$.ajax({
      url: "/goods/detail/goods-qna-insert", 
      type: "post",
      datatype: "json",
      data: JSON.stringify(params),
      contentType : "application/json;charset=UTF-8",
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(response) {
				var result = response.resultData;
        
        if (result.status == 200) {
          alert("상품문의가 등록되었습니다.");
        } else if(result.status == 442){
          alert("등록할 상품문의가 없습니다.");
   			} else if( result.message != undefined ){
        	alert(result.message + "[" + result.code + "]");
        } else {
          alert("시스템 오류가 발생하였습니다.");
          return false;
        }
        
        
        if($("#goodsDetailYn").val() == 'Y' && goodsScn != 'Deal'){
          var totalCnt = Number($("#goodsQnACnt").text());
          var currentCnt = totalCnt+1;
          $("#goodsQnACnt").text(currentCnt);
          popup.close('#editQnaPop');
          getGoodsQna(1);
        
        }else if($("#goodsDetailYn").val() == 'Y' && goodsScn == 'Deal'){
          var totalCnt = Number($("#goodsQnACnt").text());
          var currentCnt = totalCnt+1;
          $("#goodsQnACnt").text(currentCnt);
          popup.close('#editQnaPop');
          getDealGoodsQna(1,params.goodsCode,params.goodsNm,$("#tvExpYn").val(),$("#saleScn").val());
          $(".prd-sel-list.goods-qna-sel-list").find(".sel-list").removeAttr('title');
          $(".prd-sel-list.goods-qna-sel-list").find("> li").removeClass("select");
          $(".dealGoodsInfo").each(function(i, obj) {
            if(params.goodsCode == obj.attributes.value.value){
              $(this).parent().closest("li").addClass("select");
              $(this).parent().closest(".sel-list").attr("title","선택됨");
              
          		var prdSelData = $(this).closest(".custom-slt").find(".select .sel-list .tit").html();
          		$(this).closest(".custom-slt").find(".prd-sel").html(prdSelData);
            }
          });
        }else{
   			  window.location.replace('/mypage/qna/list');
        }
      }, error: function(){
        alert("시스템 오류가 발생하였습니다.");
      }
    });
  }
}

//QnA 삭제
function deleteGoodsQna(counselSeq){
  if(confirm('삭제하시겠습니까?')){  
    var param = new Object;
    param['counselSeq'] = counselSeq;
    
    $.ajax({
     url: "/mypage/qna/delete",  
     type: "post",
     datatype: "json",
     data: JSON.stringify(param),
     contentType : "application/json;charset=UTF-8",
     headers: {
    		"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    	},
     success: function(response) {
       var result = response.resultData;
       
       if (result.status == 200) {
         alert('정상적으로 삭제되었습니다.'); 
       } else if(result.status == 442){
         alert('삭제할 상품문의가 없습니다.');  
       } else if( result.message != undefined ){
       	alert(result.message + "[" + result.code + "]");
       } else {
         alert('시스템 오류가 발생했습니다.');	
         return false;
       }
       
       
       if(goodsScn != '' && goodsScn != 'Deal'){
         $('#'+counselSeq+'').remove();
         var totalCnt = $("#goodsQnACnt").text();
         var currentCnt = totalCnt-1;
         $("#goodsQnACnt").text(currentCnt);
       
       }else if(goodsScn != '' && goodsScn == 'Deal'){
         $('#'+counselSeq+'').remove();
         var totalCnt = $("#goodsQnACnt").text();
         var currentCnt = totalCnt-1;
         $("#goodsQnACnt").text(currentCnt);
       }else{
  			  window.location.replace('/mypage/qna/list');
       }
     },
     error: function() {
       alert('시스템 오류가 발생했습니다.');	
     }
    });
  }
}

//상품정보 리스트 생성
function makeGoodsQnaList(data){
  var action = $("#action").val();
  var htmlStr = "";
  var domainImage = "https://img.shoppingntmall.com";
  
  if(action == "UPDATE"){ // 수정
 		// 상품정보 리스트 생성
    htmlStr += '<a href="#" class="thum-area">';
    htmlStr += '			<img src="' + domainImage + data.imageUrl + data.imageS +'" alt="'+ data.goodsName +'" onerror="$.eshopfront.cmm.emptyImg(this);">';
    htmlStr += '</a>';
  	htmlStr += '<div class="info-txt-area">';
  	htmlStr += '  <a href="#" class="txt type-line2">';
  	if(data.tvExpYn === 'Y' || data.tvExpYn === '1'){
      htmlStr += '				<strong>TV쇼핑 </strong>';
    }
  	htmlStr += data.goodsName + "</a>";
  	htmlStr += '</div>';
  	
    return htmlStr;
  }else{
 		// 상품정보 리스트 생성
    htmlStr += '<a href="#" class="thum-area">';
    if('Goods' == 'Deal'){ // 딜상품일 경우
      htmlStr += '			<img src="'+domainImage+data.goodsImg+'" alt="'+data.goodsNm+'" onerror="$.eshopfront.cmm.emptyImg(this);">';
    }else{ // 일반 상품일 경우
      htmlStr += '			<img src="'+domainImage+'/goods/392/24760392_l.jpg'+'" alt="'+data.goodsNm+'" onerror="$.eshopfront.cmm.emptyImg(this);">';
    }
    htmlStr += '</a>';
  	htmlStr += '<div class="info-txt-area">';
  	htmlStr += '  <a href="#" class="txt type-line2">';
  	htmlStr += '	   <span class="hidden" id="tvExpYn" value="'+data.tvExpYn+'">'+data.tvExpYn+'</span>';
  	if(data.tvExpYn === 'Y' || data.tvExpYn === '1'){
      htmlStr += '<strong>TV쇼핑 </strong>';
    }
  	if(data.saleScn != null){
      htmlStr += '<span class="hidden" id="saleScn" value="'+data.saleScn+'">'+data.saleScn+'</span>';
    }
  	htmlStr += '<span class="hidden" id="goodsNm" name="goodsNmChk" value="'+data.goodsNm+'">'+data.goodsNm+'</span>';
  	htmlStr += data.goodsNm + "</a>";
  	htmlStr += '</div>';
  	
    return htmlStr;
  }
}

//딜상품 qna팝업
function openDealGoodsQnaPop(goodsCd,tvExpYn,goodsNm,goodsImg,saleScn) {
  var hp = $("#hp").val(); 
  popup.close('#selectGoodsPop');
  openGoodsQnaPop('INSERT','','',goodsCd,'Y',tvExpYn,goodsNm,'Y',goodsImg,'',saleScn);
}

//파라미터 재설정
function scriptReplace(str){
  if (str == undefined || str == null){
         return "";
  }
  str = str.replace(/\</g,"&lt;");
  str = str.replace(/\>/g,"&gt;");
  str = str.replace(/\"/g,"&quot;");
  return str;
}
</script>

    
    











 





 
   
 
 
 


    



  
              
  
  







<div class="popup full" id="editCounselPop">
  
	<div class="popup-inner">
		<div class="popup-header">
			<h2>1:1문의</h2>
		</div>
		<div class="popup-content pb106">
      <form name="counselForm" onsubmit="return false;">
  			<section class="type-line">
          <input type="hidden" id="boardTitle" name="boardTitle" value="" />
          <input type="hidden" id="questionContent" name="questionContent" value= "" />
  				<div class="form-select mt16 blk">
  					<select title="문의유형" id="webCodeGroup" name="webCodeGroup">
  						<option value="" seleted>문의유형을 선택해주세요</option>
              
                <option value="5001">교환/반품문의</option>
              
                <option value="5002">결제/주문 취소</option>
              
                <option value="5003">배송문의</option>
              
                <option value="5004">회원/기타</option>
              
                <option value="5006">이벤트/적립</option>
              
  					</select>
  				</div>
          <div id="orderListDiv" style="display:none;">
            <div class="btn-area full mt12">
              <button type="button" class="btn l-m white border-b" id="viewMyOrderList">주문상품변경</button>
            </div>
            
            <div id="orderlist-list">
              <!-- 주문상품 리스트 -->
            </div>
          </div>
          <div class="ipt-wrap mt8">
            <input type="text" class="ipt delete" placeholder="제목을 30자 이내로 작성해주세요" title="제목 입력" id="replaceTitle" name="replaceTitle"  autocapitalize="off">
          </div>
  				<textarea name="replaceQuestion" id="replaceQuestion" placeholder="문의하실 내용을 입력해주세요" class="mt8 m"></textarea>
  				<div class="t-byte mt8 mb10" id="replaceQuestionCounter"><strong>0</strong>/300</div>
  
  				<div class="form-wrap">
  					<input type="checkbox"  id="alimSms" name="alimSms" value="">
  					<label for="alimSms" id="counselTel"><span></span>SMS로 답변받기 <em class="point-c10 txt-xs">(010-**20-55**)</em></label>
            <input type="hidden" id="alimEmail" value=""/>
  				</div>
  			</section>
        <input type="hidden" id="action" name="action" value="INSERT"                         />
        <input type="hidden" id="counselSeq" name="counselSeq"                                  />
        <input type="hidden" id="refNo1" name="refNo1"                                                />
        <input type="hidden" id="goodsCode" name="goodsCode"                                    />
        <input type="hidden" id="goodsdtCode" name="goodsdtCode"                               />
        <input type="hidden" id="codeLgroup" name="codeLgroup"                                  />
        <input type="hidden" id="codeMgroup" name="codeMgroup"                                  />
        <input type="hidden" id="emailYn" name="emailYn"                                            />
        <input type="hidden" id="smsYn" name="smsYn"                                                />
        <input type="hidden" id="images" name="images"                                              />
        <input type="hidden" id="mobileHp1" name="mobileHp1" value="010"   />
        <input type="hidden" id="mobileHp2" name="mobileHp2" value="6720"   />
        <input type="hidden" id="mobileHp3" name="mobileHp3" value="5528"   />
        <input type="hidden" id="email" name="email" value=""                    />
        <input type="hidden" id="fileTagId" name="fileTagId" value=""                             />
      </form>
			<section class="review_txt">
				<h3>1:1 문의 작성 유의사항</h3>
				<ul class="dot-list">
            <li>상품과 관련 없는 개인정보, 욕설, 비방, 저작권 침해, 광고 및 홍보 등의 글은 관리자가 임의로 삭제할 수 있습니다.</li>
        </ul>
			</section>
			<div class="btn-area sticky sticky-bottom-area">
				<button type="button" class="btn l-l black btn-shipping-change" id="counselInsertBtn" onclick="javascript:saveCounsel();">등록하기</button>
			</div>
		</div>
		<button type="button" class="btn-popup-close"  onclick="javascript:closeCounselPop();">팝업 닫기</button>
	</div>
</div>

<script>
$(document).ready(function(){
  // 문의유형 변경시
  $("#webCodeGroup").on("change", function(){
    var codeMgroup = $(this).val().substr(2,4);
    
    if(codeMgroup == '01' || codeMgroup == '02' || codeMgroup == '03'){
      setOrderList($('#refNo1').val(), $("#goodsCode").val(), $("#goodsdtCode").val());
      $("#orderListDiv").show();
    }else{
      $('input[name=refNo1]').val(""); 
      $('input[name=goodsCode]').val("");
      $('input[name=goodsdtCode]').val("");
      $('#orderListDiv').hide();
    }
  });
  
  // 글자수 카운터
  $("#replaceQuestion").on("keyup", function(){
    var content = $(this).val();
    $("#replaceQuestionCounter").html("<strong>" + content.length + "</strong>/300")
    
    if(content.length > 300){
      alert("최대 300자까지 입력 가능합니다.");
      $(this).val(content.substring(0,300));
      $("#replaceQuestionCounter").html("<strong>300<strong>/300")
    }
  });
});

// 2022.05.10 회의 내용 반영(BO API 이슈로 파일 업로드 주석처리)  
/* 
//파일업로드
$.eshopfront.file.init({fileMaxCnt: 3, fileSize: 10, accept: ".jpg,.jpeg,.png", trgtElmt: "#editCounselPop"});
function fileupload() {
  $.eshopfront.file.uploadFile('comment', counselUploadSuccess, counselUploadError, counselUploadComplete);
}

//파일 업로드 success 콜백 함수
function counselUploadSuccess(data){
  	// TODO Insert Param
}

//파일 업로드 error 콜백 함수
function counselUploadError(data){}

//파일 업로드 complete 콜백 함수
function counselUploadComplete(){}
 */
 
// 상품 필수 유형 01:교환/반품문의, 02:결제/주문 취소, 03:배송문의
var needsGoodsCodes = ['01','02','03'];
var totalCount = 0;
var form = document.counselForm;

// 1:1 문의 팝업 호출 / param = 문의일련번호, 주문번호, 상품코드, 단품코드 , 문의유형
function openCounselPop(counselSeq, orderNo, goodsCode, goodsdtCode, counselCd){
    if (ISLOGIN != 'Y' || ISMEMBER != 'Y') {
      if(confirm("로그인 후 이용 가능합니다.\n로그인 페이지로 이동하시겠습니까?")){
        location.href="/member/login?returnUrl="+location.href.replace(location.origin, "");
      }
      return false;
    }
    
  	if(counselSeq != '' && counselSeq != null){ // 수정
		  var param = {'counselSeq' : counselSeq}
			
			// 1:1 문의 상세조회 ajax
			$.ajax({
        url: "/mypage/counsel/detail",
        type: "GET",
        datatype: "json",
        data: param,
        contentType : "application/json;charset=UTF-8",
    	  headers: {
    			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    		},
        success: function(result) {
          var data = result.resultData.custCounsel;
          $("#webCodeGroup").val(data.outLgroupCode+data.outMgroupCode).prop("selected", true);	// 문의유형

          if(data.outMgroupCode != '01' && data.outMgroupCode != '02' && data.outMgroupCode != '03'){
            $("#orderListDiv").hide();
            $('#orderlist-list').children().remove();
        	}else{
        	  $("#orderListDiv").show();
        	}
          
          $("#replaceTitle").val(data.title);	// 타이틀
          $("#replaceQuestion").val(data.procNote);	// 문의 내용
          $("#replaceQuestionCounter").html($("#replaceQuestion").val().length + "<span> / 300</span>") // 글자수
          $("#counselSeq").val(data.counselSeq); // 고객상담 순번
       		$("#alimSms").val(data.smsYn);// SMS 수신 체크
          
          if(data.smsYn == '1'){ 
            $("#alimSms").prop("checked", true); // SMS 수신 체크 속성
          }
          
          $("#alimEmail").val(data.emailYn); // email 수신 체크
          $("#action").val("UPDATE"); // action
          $("#refNo1").val(data.refNo1);	// 주문번호
          $("#goodsCode").val(data.goodsCode);	// 상품코드
          $("#goodsdtCode").val(data.goodsdtCode); // 단품코드
          $("#mobileHp1").val(data.ddd);	// 전화번호 국번
          $("#mobileHp2").val(data.tel1);	// 전화번호 앞자리 
          $("#mobileHp3").val(data.tel2);	// 전화번호 뒷자리
          $("#email").val(data.fromEmailAddr);	// 메일 주소
          
       		// 주문상품 리스트 세팅
        	setOrderList(orderNo, goodsCode, goodsdtCode);
        }, error : function(request){
          console.error("AJAX 요청 실패:", request);
    			if (chk403(request, null, '장시간 미이용에 따라 로그인 후 다시 불러옵니다.', "/member/login?returnUrl="+location.href.replace(location.origin, ""))) return;
				  alert("시스템 에러가 발생했습니다.\n잠시 후 다시 시도해 주세요.");
				  return;
        }
      });
		  return;
		}else{	// 등록
      $("#replaceQuestionCounter").html("<strong>0</strong><span> / 300</span>")
		  $("#orderListDiv").hide();
		
   		// 문의유형
      if(counselCd == "01" || counselCd == "02" || counselCd == "03"){
        $("#webCodeGroup").val("50" + counselCd);
        $("#orderListDiv").show();
      }else if(counselCd != null && counselCd != ''){
        $("#webCodeGroup").val("50" + counselCd);
        $("#orderListDiv").hide();
      }else{
        $("#webCodeGroup").val("");
        $("#orderListDiv").hide();
      }
   		
      $("#replaceTitle").val("");	// 타이틀
      $("#replaceQuestion").val("");	// 문의 내용
      $("#counselSeq").val(""); // 고객상담 순번
      $("#mobileHp1").val("010");	// 전화번호 국번
      $("#mobileHp2").val("6720");	// 전화번호 앞자리 
      $("#mobileHp3").val("5528");	// 전화번호 뒷자리
      $("#email").val($("#custEmail").val()); // email 주소
   		// SMS 수신 체크
      $("#alimSms").val("0");
      $("#alimSms").prop("checked", false);
      $("#alimEmail").val("0"); // email 수신 체크
      $("#action").val("INSERT"); // action
      
      if(orderNo != null && orderNo != ''){
        $("#orderListDiv").show();
      }
    }
  	
  	// 주문상품 리스트 세팅
  	setOrderList(orderNo, goodsCode, goodsdtCode); 
}

// 주문상품 초기화
function setOrderList(orderNo, goodsCode, goodsdtCode){
  if(orderNo == null || orderNo == ''){
    $("#viewMyOrderList").text("주문상품선택");
  	$('#orderlist-list').children().remove();
  	
  	if(!$("#editCounselPop").hasClass('open')){
  	  popup.open('#editCounselPop');
  	}
  }else{
    $("#viewMyOrderList").text("주문상품변경"); 
    $("#refNo1").val(orderNo);
    $("#goodsCode").val(goodsCode);
    $("#goodsdtCode").val(goodsdtCode);
    var domainImage = "https://img.shoppingntmall.com";
    var param = {
        orderNo : orderNo
    };
    
    // 주문 API
    $.ajax({
      url: "/mypage/counsel/orderDetailList",
      type: "GET",
      datatype: "json",
      data: param,
      contentType : "application/json;charset=UTF-8",
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(result) {
     		var data = result.resultData;
     		var ordHtml = "";
     		var ssAdultYn = isNotEmpty("N") ? "N" : "N";
     		ordHtml += '<div class="order-info-list q-order-form">';
     		ordHtml += '		<div class="box-order-good">';
     		
     		if(data.status == 200){
     		 $.each(data.orderGoods, function(idx, obj){
      		  if($("#goodsCode").val() == obj.goodsCode && $("#refNo1").val() == obj.orderNo && $("#goodsdtCode").val() == obj.goodsdtCode){
      		   ordHtml += '		<p>주문번호 ' + obj.orderNo + '</p>';
      		   ordHtml += '		<div class="goods-detail">';
      		   ordHtml += '			<div class="thum-area">';
      		   
      		   if(obj.adultYn == '1' && ssAdultYn != 'Y'){
      		     ordHtml += '				<img src="https://m.shoppingntmall.com/moassets/images/common/img_list_19.png" alt="성인인증">';
      		   }else{
      		     ordHtml += '				<img src="' + domainImage + obj.imageUrl + obj.imageH + '"  data-path="' + obj.imageUrl + obj.imageH + '" alt="'+ obj.goodsName +'" onerror="$.eshopfront.cmm.emptyImg(this);" />';
      		   }
             
             ordHtml += '			</div>';
             ordHtml += '			<div class="info-txt-area">';
             ordHtml += '					<span class="txt type-line2">';
             
             if(obj.tvIconYn == "1"){
               ordHtml += '					<strong>TV쇼핑</strong>;';
             }
             ordHtml += obj.goodsName + '</span>';
             
             if(obj.inviGoodsType == "10"){
               ordHtml += '					<p class="desc">상담 전용 상품입니다.</p>';
             }else{
               if(isNotEmpty(obj.goodsdtInfo) && obj.goodsdtInfo != '없음'){
                 ordHtml += '					<p class="option-quantity">' + obj.goodsdtInfo + '</p>';
               }
               /* ordHtml += '					<p class="unit">' + obj.orderQty + '개</p>'; */
               
               if(obj.giftCnt > 1){
             	  ordHtml += '					<p class="option-quantity">사은품</p>';
               }
             }
             
             ordHtml += '				</div>';
             ordHtml += '			</div>';
             
             
             return false; // each 종료
      		  }
      		});
     			ordHtml += '		</div>';
     			ordHtml += '		<button type="buttom" class="btn-list-del" onclick="javascript:delOrderList();">닫기</button>';
     			ordHtml += '</div>';
      		
         $("#orderlist-list").html(ordHtml);
         if(!$("#editCounselPop").hasClass('open')){
           popup.open('#editCounselPop');
         }
        }else{
     		  $("#refNo1").val('');
      		$("#goodsCode").val('');
      		$("#goodsdtCode").val('');
      		
    			alert(data.message);
     		}
     	}, error : function(){
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    });
  }
  
}

// 주문상품버튼 클릭시
$("#viewMyOrderList").on("click", function(e) {
  	var orderNo = $("#refNo1").val();
  	var goodsCode = $("#goodsCode").val();
  	var goodsdtCode = $("#goodsdtCode").val();
  	
  	if($('#viewMyOrderList').html() == '주문상품변경'){
  	  openMypageOrderListPop(orderNo, goodsCode, goodsdtCode);
  	}else{ // 주문상품선택
  	  openMypageOrderListPop();
  	}
});
 
// 등록 버튼 클릭시
 var isEditCounselPopLoading = false;
function saveCounsel(){
  var webCodeGroup = form.webCodeGroup.value;
  var codeMgroup =  webCodeGroup.substring(2,4);
  var action = $("#action").val(); 
  
  if(isEditCounselPopLoading) return;
  
  if (form.replaceTitle.value.length < 1) {
    alert("제목을 입력해 주세요.");  
    return false; 
  }
  if( form.replaceTitle.value.length > 30 ) {
    alert("제목을 30자 이내로 작성해 주세요."); 
    return false; 
  }
  if (webCodeGroup.length < 1 || webCodeGroup == "0") {
    alert("문의유형을 선택해 주세요."); 
    return false; 
  }
  if (form.replaceQuestion.value.length < 1) {
    alert("문의하실 내용을 입력해 주세요.");
    return false; 
  }
  if( form.replaceQuestion.value.length < 2 ) {
    alert("문의내용은 2자 이상 작성해주세요."); 
    return false; 
  }
	if( form.replaceQuestion.value.length > 300 ) {
	  alert("문의내용은 300자 이내로 작성해 주세요."); 
	  return false; 
	}
  if (needsGoodsCodes.indexOf(codeMgroup) > -1 ) {
    if(form.refNo1.value == ""){
      	alert("주문상품을 선택해 주세요.");
        return false;
    }
  }
  
	var params = new Object();
	
	params['boardTitle'] = scriptReplace(form.replaceTitle.value);
  params['questionContent'] = scriptReplace(form.replaceQuestion.value);
  params['codeLgroup'] = webCodeGroup.substring(0,2);
  params['codeMgroup'] = webCodeGroup.substring(2,4);
  params['smsYn'] = (form.alimSms.checked)?"1":"0";
  params['orderNo'] = form.refNo1.value;
  params['goodsCode'] = form.goodsCode.value;
  params['goodsdtCode'] = form.goodsdtCode.value;
  params['mobileHp1'] = form.mobileHp1.value;
  params['mobileHp2'] = form.mobileHp2.value;
  params['mobileHp3'] = form.mobileHp3.value;
  
  var email = form.email.value;
  var emailArray = email.split("@");
  
  params['emailId'] = emailArray[0];
  params['emailDomain'] = emailArray[1];
  params['emailYn'] = form.alimEmail.value;
  
  if(action == "INSERT"){ // 등록시
    isEditCounselPopLoading = true;
    $.ajax({
      url: "/mypage/counsel/insert",
      type: "POST",
      datatype: "json",
      data: JSON.stringify(params),
      contentType : "application/json;charset=UTF-8",
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(response) {
        isEditCounselPopLoading = false;
        var result = response.resultData;
        
        if (result.status == 200) {
          alert("상담문의가 접수되었습니다. \n빠른 시간 내에 답변드리겠습니다");
          closeCounselPop();
        }else if(result.status == 401){
          window.location.replace('/member/login?forwardUrl='+window.location.replace(document.location.href));
          return false;
        } else if( result.error == 'Y'){
      		alert("해킹 공격이 가능한 코드가 포함되어 있습니다.\n \"" + result.message +"\" 코드가 있다면 제거해주세요.");
          return false;
  	   	} else if( result.message != undefined ){
	        alert(result.message + "[" + result.code + "]");
        } else {
          alert("저장에 실패하였습니다.");
					
          return false;
        }
  	   	//2022/06/03 김지유(상품상세에서도 사용)
				window.location.replace(document.location.href);
      },
      error: function(request) {
        isEditCounselPopLoading = false;
        console.error("AJAX 요청 실패:", request);
  		  if (chk403(request, 'R')) return;
			  alert("시스템 에러가 발생했습니다.\n잠시 후 다시 시도해 주세요.");
      }
  	});
  }else if(action == "UPDATE"){ // 수정시
    isEditCounselPopLoading = true;
    params['counselSeq'] = form.counselSeq.value;
  
    $.ajax({
      url: "/mypage/counsel/update",
      type: "post",
      datatype: "json",
      data: JSON.stringify(params),
      contentType : "application/json;charset=UTF-8",
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(response) {
        isEditCounselPopLoading = false;
        var result = response.resultData;
        
        if (result.status == 200) {
          alert("상담문의가 수정되었습니다.");
          closeCounselPop();
        } else if( result.error == 'Y'){
      		alert("해킹 공격이 가능한 코드가 포함되어 있습니다.\n \"" + result.message +"\" 코드가 있다면 제거해주세요.");
          return false;
        } else if(result.status == 442){
          alert("수정할 상품문의가 없습니다.");
   			} else if( result.message != undefined ){
        	alert(result.message + "[" + result.code + "]");
        } else {
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
          return false;
        }
        
   			window.location.replace('/mypage/counsel/list');
      },
      error: function(request) {
        isEditCounselPopLoading = false;
        console.error("AJAX 요청 실패:", request);
  		  if (chk403(request, 'R')) return;
			  alert("시스템 에러가 발생했습니다.\n잠시 후 다시 시도해 주세요.");
      }
  	});
  }
}

// 문자 길이 구하는 함수
function byteNum(val){
  var byteLength = 0;

  for(inx = 0; inx < val.length; inx++){
      var oneChar = escape(val.charAt(inx));
      if(oneChar.length == 1)
          byteLength ++;
      else if(oneChar.indexOf("%u") != -1)
          byteLength += 2;
      else if(oneChar.indexOf("%") != -1)
          byteLength += oneChar.length/3;
  }

  return byteLength;
}

// 파라미터 재설정
function scriptReplace(str){
  if (str == undefined || str == null){
         return "";
  }
  str = str.replace(/\</g,"&lt;");
  str = str.replace(/\>/g,"&gt;");
  str = str.replace(/\"/g,"&quot;");
  return str;
}

// 1:1문의 팝업 닫기
function closeCounselPop(){
  $("#refNo1").val('');
	$("#goodsCode").val('');
	$("#goodsdtCode").val('');
	popup.close("#editCounselPop");
}
</script>
    
    











 





 
   
 
 
 


    



  
              
  
  








<div class="popup full" id="mypageOrderListPop">
  <div class="popup-inner" id="mypageOrdListPopScroll">
    <div class="popup-header">
      <h2>주문상품조회</h2>
    </div>
    <div class="popup-content type-mg0">
      <div class="data-srch-box">
        <ul class="ipt-filt">
          <li>
            <input type="radio" class="ipt" name="ordPopDateFlag" id="ordPopDateFlag_1" value="4" checked>
            <label for="ordPopDateFlag_1">3개월</label>
          </li>
          <li>
            <input type="radio" class="ipt" name="ordPopDateFlag" id="ordPopDateFlag_2" value="5">
            <label for="ordPopDateFlag_2">6개월</label>
          </li>
          <li>
            <input type="radio" class="ipt" name="ordPopDateFlag" id="ordPopDateFlag_3" value="6">
            <label for="ordPopDateFlag_3">1년</label>
          </li>
          <li>
            <input type="radio" class="ipt" name="ordPopDateFlag" id="ordPopDateFlag_4" value="0">
            <label for="ordPopDateFlag_4">기간조회</label>
          </li>
        </ul>
        <div class="time-check" id="ordPopSearchDiv"><!-- 기간조회 선택 시 class on -->
          <div class="ipt-half date">
            <div class="date-wrap">
              <input type="date" class="ipt date" id="ordPopFromDate" data-placeholder="시작일" required aria-required="true">
            </div>
            <span class="sign">-</span>
            <div class="date-wrap">
              <input type="date" class="ipt date" id="ordPopToDate" data-placeholder="종료일" required aria-required="true">
            </div>
          </div>
          <button type="button" class="btn border-b m-l" id="orderListPopSearchBtn" onclick="javascript:makeMypageOrderList('1');">조회하기</button>
        </div>
      </div>
      
      <div id="orderListPop-list">
          <!-- 주문상품 리스트 -->
      </div>
      <!-- sticky 추가로 인한 scoll 이벤트로 대체 -->
      <!-- <button type="button" id="orderListPop_moreBtnArea" class="btn btn-append"  onclick="javascript:makeMypageOrderList('0')" style="display:none" ><span>더보기 (20/9,999+)</span></button> -->
      
      <div class="btn-area sticky sticky-bottom-area">
        <button type="button" class="btn l-l black" onclick="javascript:btnChoice();" id="ordPopChoiceBtn">선택하기</button>
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick='javascript:closeOrderListPop()'>팝업 닫기</button>
  </div>
  <input type="hidden" id="ordListPopCurrentPage" value="1">
  <input type="hidden" id="ordListPopRowsPerPage" value="10">
  <input type="hidden" id="ordListPopTotalCount" value="0">
</div>


<script>
var mypageOrdListScrollFlag = false; //중복 호출 방지용 플래그 값
$("#mypageOrdListPopScroll").scroll(function() {
  var scrollTop = Math.ceil($(this).scrollTop());
  var innerHeight = $(this).innerHeight();
  var scrollHeight = $(this).prop('scrollHeight');
  
  if (scrollTop + innerHeight >= scrollHeight) {

    var totalCount = $("#ordListPopTotalCount").val();
    var currentPage = $('#ordListPopCurrentPage').val();
    var rowsPerPage = $('#ordListPopRowsPerPage').val(); // 20개씩 노출
    
    if(mypageOrdListScrollFlag == false && totalCount > currentPage * rowsPerPage){
      makeMypageOrderList('0');
  	}
  }
  
});

$(document).ready(function(){
	//최근3개월, 최근 6개월, 최근1년, 기간조회
  $("input[name='ordPopDateFlag']").on('change',function(){
  //기간조회시 날짜입력 노출
    if($(this).attr("id") == 'ordPopDateFlag_4'){
      $("#ordPopSearchDiv").addClass('on');
    }else{
      $("#ordPopSearchDiv").removeClass('on');
    	if(this.value == '4') { // 최근 3개월
        $("#ordPopFromDate").val(addMonths(-3, '-'));
        $("#ordPopToDate").val(getDate2Str(new Date(), '-'));
      } else if(this.value == '5') { // 최근 6개월
        $("#ordPopFromDate").val(addMonths(-6, '-'));
        $("#ordPopToDate").val(getDate2Str(new Date(), '-'));
      } else if(this.value == '6') { // 최근 1년
        $("#ordPopFromDate").val(addYears(-1, '-'));
        $("#ordPopToDate").val(getDate2Str(new Date(), '-'));
      }
    	makeMypageOrderList("1");
    }
  });
});
function openMypageOrderListPop(orderNo, goodsCode, goodsdtCode){
	//최근 3개월
  $("#ordPopFromDate").val(addMonths(-3, '-'));
  $("#ordPopToDate").val(getDate2Str(new Date(), '-'));
  
  makeMypageOrderList('1', orderNo, goodsCode, goodsdtCode); // 리스트 생성

	//로드시 더보기버튼처리
	$("#orderListPop_moreBtnArea").hide();
  
	if(!$("#mypageOrderListPop").hasClass('open')){
    popup.open("#mypageOrderListPop");
	}
}

// 주문상품 리스트 생성
function makeMypageOrderList(moreYn, orderNo, goodsCode, goodsdtCode){
  mypageOrdListScrollFlag = true;	//더보기 스크롤 중복 방지 flag
  
  var dateFlag = $("input[name='ordPopDateFlag']:checked").val();
  var currentPage = "1";
  var rowsPerPage = $('#ordListPopRowsPerPage').val();
  var totalPages = $("#ordListPopTotalCount").val();
  var params = new Object;
  
  if(moreYn == "1"){
    $('#ordListPopCurrentPage').val(currentPage);
  }else{
    currentPage = $('#ordListPopCurrentPage').val();
  }
  
	//기간조회
  if(dateFlag == '0'){
    var date = ordLstPopDateSearchValid('ordPopFromDate', 'ordPopToDate');
    
    if(!date){
      return false;
    }
    
    params['fromDate'] = date.fromDate;
    params['toDate'] = date.toDate;
  }
  
  //더보기
  if(moreYn != '1' && totalPages > currentPage * rowsPerPage){
	  currentPage ++;
	  $('#ordListPopCurrentPage').val(currentPage);
	}
  
  params['dateFlag'] = dateFlag; // 디폴트 3개월
  params['currentPage'] = currentPage;
  params['rowsPerPage'] = rowsPerPage;
  
	//주문상품 조회 API
  $.ajax({
    url: "/mypage/counsel/orderList",
    type: "GET",
    datatype: "json",
    data: params,
    contentType : "application/json;charset=UTF-8",
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
    success: function(result) {
      mypageOrdListScrollFlag = false;	//더보기 스크롤 중복 방지 flag
      
      var data = result.resultData;
   		var ordPopHtml = "";
   	  var domainImage = "https://img.shoppingntmall.com";
   	 	var ssAdultYn = isNotEmpty("N") ? "N" : "N"; 
   	  
   	  if(moreYn == "1"){
        $("#orderListPop-list").empty();
      }
   	  
   	  if(data.status == 200){
   	    $("#ordListPopTotalCount").val(data.totalCount);
   	    
   	    if(data.orderList.length == 0){
   	    	ordPopHtml += '<div class="msg-box">';
   	    	ordPopHtml += '	<div class="img-area">'
 	     		ordPopHtml += '		<img src="https://m.shoppingntmall.com/moassets/images/common/ico-56-attention@2x.png" alt="">'
 	      	ordPopHtml += '	</div>'
 	       	ordPopHtml += '	<p>조회된 상품이 없습니다.</p>'
 	        ordPopHtml += '</div>'
   	      
          $("#ordPopChoiceBtn").hide();
          $("#orderListPop_moreBtnArea").hide();
        }else{
          $("#ordPopChoiceBtn").show();
          
       		$.each(data.orderList, function(ordIdx, ordData){
       		  var date = new Date(ordData.orderDate);

       		  ordPopHtml += '<div class="order-inq-detail">';
         		ordPopHtml += '		<dl>';
         		ordPopHtml += '			<dt>주문번호 '+ordData.orderNo+'</dt>';
         		ordPopHtml += '			<dd>'+getFormatDate(date)+'</dd>';
         		ordPopHtml += '		</dl>';
         		ordPopHtml += '		<ul>';
         		
       		 // 주문번호별 상품리스트
         		$.each(ordData.goodsList, function(goodsIdx, goodsData){
        		  var radioSeq = ordData.orderNo+ "_" + goodsData.goodsCode + "_" + goodsData.goodsdtCode + "_" + goodsData.orderGSeq;

           		ordPopHtml += '			<li>';
           		ordPopHtml += '				<div class="form-wrap">';

          		// 상품이 선택되어 있던 경우 해당 팝업 호출시 checked
          		// orderGSeq 컬럼 api res에 포함되지 않아 주석처리 
          		/* 
          		if(orderNo == ordData.orderNo 
          		   && goodsdtCode == goodsData.goodsdtCode 
          		   && goodsCode == goodsData.goodsCode){
          		  ordPopHtml += '				<input type="radio" id="'+radioSeq+'" name="goodsRadio" value="'+radioSeq+'" checked>';
          		}else{
          		  ordPopHtml += '				<input type="radio" id="'+radioSeq+'" name="goodsRadio" value="'+radioSeq+'" >';
          		}
          		 */
          		 ordPopHtml += '					<input type="radio" id="'+radioSeq+'" name="goodsRadio" value="'+radioSeq+'" >';
           		ordPopHtml += '					<label for="'+radioSeq+'"><span></span></label>';
           		ordPopHtml += '				</div>';
           		ordPopHtml += '				<div class="goods-detail">';
           		ordPopHtml += '					<div class="thum-area">';
           		
           		if(goodsData.adultYn == '1' && ssAdultYn != 'Y'){
           		 ordPopHtml += '				<img src="https://m.shoppingntmall.com/moassets/images/common/img_list_19.png" alt="성인인증">';
       		    }else{
       		     ordPopHtml += '					<img src="' + domainImage + goodsData.imageUrl + goodsData.imageH +'"  data-path="'+ goodsData.imageUrl + goodsData.imageH +'" alt="'+ goodsData.goodsName +'" onerror="$.eshopfront.cmm.emptyImg(this);" />';
       		    }
           		
           		ordPopHtml += '					</div>';
           		ordPopHtml += '					<div class="info-txt-area">';
           		ordPopHtml += '						<span class="txt type-line2">';
           		
           		if(goodsData.tvIconYn == 'Y'){
           		 ordPopHtml += '<strong>TV쇼핑</strong>';
           		}
           		ordPopHtml += goodsData.goodsName+'</span>';
           		
           		if(goodsData.inviGoodsType == "10"){
          		  ordPopHtml += '					<p class="option-quantity">상담 전용 상품입니다.</p>';
              }else{
             		if(goodsData.giftCnt > 1){
                  ordPopHtml += '				<p class="option-quantity">사은품</p>';
                }else{
                  if(isNotEmpty(goodsData.goodsdtInfo) && goodsData.goodsdtInfo != "없음"){
                    ordPopHtml += '				<p class="option-quantity">' + goodsData.goodsdtInfo + '</p>';
                  }
                  /* ordPopHtml += '				<p class="unit">'+goodsData.orderQty+'개</p>'; */
                }
              }
           		
           		ordPopHtml += '					</div>';
           		ordPopHtml += '				</div>';
           		ordPopHtml += '			</li>';
           	});
         		ordPopHtml += '		</ul>';
         		ordPopHtml += '</div>';
         	});
       		// 더보기 버튼
       		if($("#ordListPopTotalCount").val() > currentPage * rowsPerPage){
            $("#orderListPop_moreBtnArea").show();
            $("#orderListPop_moreBtnArea").html("<span>더보기("+ currentPage * rowsPerPage +"/"+ $("#ordListPopTotalCount").val() +")</span>");
          }else{
            $("#orderListPop_moreBtnArea").hide();
          }
       	}
     	}
      $("#orderListPop-list").append(ordPopHtml);
      
   		// 가장 최근 주문 상품 checked (default)
  		if(orderNo == null || orderNo == ''){ 
  		  $("#orderListPop-list").find("input[type='radio']").eq(0).attr("checked", true);
  		}
    }, error : function(){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
    }
  });
}

//상품 선택 
function btnChoice() {
 if(!$("#orderListPop-list input[type='radio']").is(":checked")){
   alert("주문상품을 선택해 주세요.");
   return false;
 }
 var $checkedTag = $("#orderListPop-list").find("input[type='radio']:checked");
 var $checkedValSplit = $checkedTag.val().split('_');
 var $checkedGoodsName = $checkedTag.parent().next().children('.info-txt-area').children('.type-line2');
 var $checkedGoodsImg = $checkedTag.parent().next().children('.thum-area').children('img');
 var $checkedGoodsType = $checkedTag.parent().next().children('.info-txt-area').children('.desc');
 var $checkedOption = $checkedTag.parent().next().children('.info-txt-area').children('.option-quantity');
 var $checkedUnit = $checkedTag.parent().next().children('.info-txt-area').children('.unit');
 var html = "";
 
 $('input[name=refNo1]').val($checkedValSplit[0]); 
 $('input[name=goodsCode]').val($checkedValSplit[1]);
 $('input[name=goodsdtCode]').val($checkedValSplit[2]);
 
 $('#viewMyOrderList').html('주문상품변경');
 html += '<div class="order-info-list q-order-form">';
 html += '	<div class="box-order-good">';
 html += '		<p>주문번호 ' + $checkedValSplit[0] + '</p>';
 
 html += '		<div class="goods-detail">';
 html += '			<div class="thum-area">';
 html += '				<img src="' + $checkedGoodsImg.attr("src") +'" alt="'+ $checkedGoodsImg.attr("alt") +'" onerror="$.eshopfront.cmm.emptyImg(this);" />';
 html += '			</div>';
 html += '			<div class="info-txt-area">';
 html += '				<span class="txt type-line2">' + $checkedGoodsName.text() + '</span>';
 html += '				<p class="option-quantity">' + $checkedOption.text() + '</p>';
 
 if(isNotEmpty($checkedUnit.text())){
   html += '				<p class="unit">' + $checkedUnit.text() + '</p>';
 }
 
 html += '			</div>';
 html += '		</div>';
 html += '	</div>';
 html += '	<button type="buttom" class="btn-list-del" onclick="javascript:delOrderList();">닫기</button>';
 html += '</div>';
 
 $('#orderlist-list').children().remove(); 
 $("#ordPopFromDate").val('');
 $("#ordPopToDate").val('');
 $('#orderlist-list').html(html);
 
	popup.close("#mypageOrderListPop");
	
	//기간조회 노출 숨김처리
	if($("#ordPopSearchDiv").hasClass("on")){
	  $("#ordPopSearchDiv").removeClass("on");
	}
	
	$("#ordPopDateFlag_1").prop('checked', true);
}

//date format
function getFormatDate(date){
  var year = date.getFullYear();
  var month = (1 + date.getMonth());
  month = month >= 10 ? month : '0' + month;
  var day = date.getDate();
  day = day >= 10 ? day : '0' + day;
  return year + '.' + month + '.' + day;
}

//선택주문상품 삭제
function delOrderList(){
  if(confirm("삭제하시겠습니까?")){
    $("#viewMyOrderList").text("주문상품선택");
    $('#orderlist-list').children().remove();
    $("#refNo1").val('');
  	$("#goodsCode").val('');
  	$("#goodsdtCode").val('');    
  }
}

//닫기 시 초기화
function closeOrderListPop(){
  $("#orderListPop-list").children().remove();
  $("#ordPopFromDate").val('');
  $("#ordPopToDate").val('');
  $("#ordPopDateFlag_1").prop('checked', true);
  $("#ordPopChoiceBtn").hide();
  
  // 기간조회 노출 숨김처리
  if($("#ordPopSearchDiv").hasClass("on")){
    $("#ordPopSearchDiv").removeClass("on");
  }
  
  popup.close('#mypageOrderListPop');
}

//기간조회 validation
function ordLstPopDateSearchValid(fromDateId, toDateId){
  var $elementFromDate = $("#"+fromDateId);
  var $elementToDate = $("#"+toDateId);
  var toStringFromDate = getDate2Str($elementFromDate.val(), ".");
  var toStringtoDate = getDate2Str($elementToDate.val(), ".");
  var returnDateObj = new Object();
  var regexDate = RegExp(/^\d{4}.(0[1-9]|1[012]).(0[1-9]|[12][0-9]|3[01])$/);
  
	//시작날짜, 마지막날짜 체크
  if(isEmpty($elementFromDate.val()) && isEmpty($elementFromDate.val())){
    alert("조회할 날짜를 입력해 주세요."); // 조회할 날짜를 입력해주세요.
    $elementFromDate.focus();
    return false;
  }
  
  //시작날짜 널체크
  if($elementFromDate.val() == null || $elementFromDate.val() == ''){
    alert("조회할 시작일을 입력해 주세요."); // 조회할 시작일을 입력해주세요.
    $elementFromDate.focus();
    return false;
  }
  //시작날짜 정규식체크
  if(!regexDate.test($elementFromDate.val())){
    alert("조회할 시작일이 잘못되었습니다.\n날짜를 다시 선택해 주세요."); // 조회할 시작일이 잘못되었습니다.\\n\다시 입력해주세요.
    $elementFromDate.focus();
    return false;
  }
  //마지막날짜 널체크
  if($elementToDate.val() == null || $elementToDate.val() == ''){
    alert("조회할 종료일을 입력해 주세요."); // 조회할 종료일을 입력해주세요.
    $elementToDate.focus();
    return false;
  }
  //마지막날짜 정규식체크
  if(!regexDate.test($elementToDate.val())){
    alert("조회할 종료일이 잘못되었습니다.\n날짜를 다시 선택해 주세요."); // 조회할 종료일이 잘못되었습니다.\\n\날짜를 다시 선택해 주세요.
    $elementToDate.focus();
    return false;
  }
  
  fromDateSplit = toStringFromDate.split('.');
  toDateSplit = toStringtoDate.split('.');
  
  var fromDate = new Date(fromDateSplit[0], fromDateSplit[1], fromDateSplit[2]);
  var toDate = new Date(toDateSplit[0], toDateSplit[1], toDateSplit[2]);
  
  //시작날짜 > 마지막날짜 체크
  if(fromDate > toDate){
    alert("시작일은 종료일 이전 날짜만 가능합니다."); // 시작일은 종료일 이전 날짜만 가능합니다.
    $elementFromDate.focus();
    return false;
  }

  var btMs = toDate.getTime() - fromDate.getTime();
  var btDay = btMs / (1000*60*60*24); // 일수 차이
  var year_day = 365;
  
  let to_day = new Date();
  let to_year = to_day.getFullYear();

  //윤년 366, 평년 365
  if(leapYear(to_year)){
    year_day = 366;
  }else{
    year_day = 365;
  }

  //조회기간 1년이상 체크
  if(btDay > year_day){
    alert("기간 조회는 최대 1년입니다.\n날짜를 다시 선택해 주세요."); // 기간 조회는 최대 1년입니다.\\n\날짜를 다시 선택해 주세요.
    $elementToDate.focus();
    return false;
  }

  returnDateObj['fromDate'] = fromDateSplit[0] + fromDateSplit[1] + fromDateSplit[2];
  returnDateObj['toDate'] = toDateSplit[0] + toDateSplit[1] + toDateSplit[2];
  
  return returnDateObj;
}
</script>
<script type="text/javascript">
var dealGoodsCd = '';
var dealGoodsTvExpYn = '';
var dealGoodsSaleScn = '';
var dealGoodsNm = '';

$(document).ready(function() {
  
  // if("Goods" == 'Deal'){
  //   clickQnaEventBind(); 
  //   var dealGoodsStr = '';
  //   dealGoodsStr = dealGoodsSetParam();
  //   $.ajax({
  //     url: '/goods/detail/dealGoods-qna-list'  
  //     ,dataType: "json"
  //     ,method: 'post'
  //     ,async:true
  //     ,data: {dealGoodsStr :dealGoodsStr}
  //     ,headers: {
  //       'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //     }        
  //     ,success: function (data) {
  //       var totalCnt = 0;
  //       for(var i=0; i < data.resultData.length; i++){
  //         var goodsQnaCnt = Number(data.resultData[i]);
          
  //         if(goodsQnaCnt > 9999){
  //         	goodsQnaCnt = 9999;
  //         	$("#comment_"+i).html($.eshopfront.cmm.setComma(goodsQnaCnt)+"+");
  //         } else {
  //           $("#comment_"+i).html($.eshopfront.cmm.setComma(goodsQnaCnt));
  //         }
  //         totalCnt += Number(data.resultData[i]);
  //       }
  //       $("#goodsQnACnt").text(totalCnt);
  //     } 
  //     ,error: function (request) {
  //   	if(chk403(request)) return;
  //       alert("조회에 실패하였습니다."); 
  //     }
  //   });
  // }
  // getGoodsQna("1");
}); 


function getGoodsQna(page) {
  // $.ajax({
  //   url: '/goods/detail/goods-qna-list'  
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: {
  //       goodsScn : "Goods"
  //       ,goodsCd : "24760392"
  //       ,saleScn : "00"
  //       ,goodsNm : "25FW 아보크 클로그 윈터슈즈 2종 여성"
  //       ,tvExpYn : "Y"
  //       ,modf : ""
  //       ,infoPbldCl : "02"
  //       ,startNum : 1
  //       ,page : page
  //   }
  //   ,success: function (json) {
  //     $("#goodsQna").html(json);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}


function addGoodsQna(page) {
  // var param;
  // if("Goods" === 'Goods'){
  //   param = {
  //       goodsScn : "Goods"
  //       ,goodsCd : "24760392"
  //       ,saleScn : "00"
  //       ,goodsNm : "25FW 아보크 클로그 윈터슈즈 2종 여성"
  //       ,tvExpYn : "Y"
  //       ,modf : ""
  //       ,page : page
  //       ,addListYn : "Y"  
  //   }
  // }else if("Goods" === 'Deal'){
  //   param = {
  //       goodsScn : "Goods"
  //       ,goodsCd : dealGoodsCd
  //       ,saleScn : dealGoodsSaleScn
  //       ,goodsNm : dealGoodsNm
  //       ,tvExpYn : dealGoodsTvExpYn
  //       ,page : page
  //       ,addListYn : "Y"
  //   }
  // }
  // $.ajax({
  //   url: '/goods/detail/goods-qna-list'  
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: param
  //   ,success: function (json) {
  //     $("#listMore").hide();
  //     $("#goodsQnaListMore").append(json);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}

//딜 상품 QnA 조회
function getDealGoodsQna(page,dealGoodsCd,dealGoodsNm,dealGoodsTvExpYn,dealGoodsSaleScn,dealGoodsInfoPbldCd){
  // $.ajax({
  //   url: '/goods/detail/goods-qna-list'  
  //   ,dataType: 'html'
  //   ,method: 'post'
  //   ,async:true
  //   ,headers: {
  //     'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
  //   }        
  //   ,data: {
  //     	goodsScn : "Goods"
  //       ,goodsCd : dealGoodsCd
  //       ,goodsNm : dealGoodsNm
  //       ,tvExpYn : dealGoodsTvExpYn
  //       ,saleScn : dealGoodsSaleScn
  //       ,infoPbldCl : dealGoodsInfoPbldCd
  //       ,startNum : 1
  //       ,page : page
  //   }
  //   ,success: function (json) {
  //     $("#goodsQna").html(json);
  //   } 
  //   ,error: function (request) {
  //     if(chk403(request)) return;    	
  //     alert("조회에 실패하였습니다."); 
  //   }
  // });
}

function clickQnaEventBind() {
  var prdSelData = ""; 
  $(".prd-sel-list.goods-qna-sel-list .sel-list").off("click").bind("click", function(e){
		e.preventDefault();
		if($(this).closest("li").hasClass("select") == false){
			$(this).closest(".prd-sel-list.goods-qna-sel-list").find(".sel-list").removeAttr('title');
			$(this).attr("title", "선택됨");
			$(this).closest(".prd-sel-list.goods-qna-sel-list").find("> li").removeClass("select");
			$(this).closest("li").addClass("select");
		};

		$(this).closest(".prd-sellist-group").stop().slideUp({
			duration: 300,
			complete: function(){
				$(this).closest(".custom-slt").removeClass("on");
			}
		});

		
		prdSelData = $(this).closest(".custom-slt").find(".select .sel-list .tit").html();
		$(this).closest(".custom-slt").find(".prd-sel").html(prdSelData);
		
	  dealGoodsCd = $(this).closest(".custom-slt").find(".select .sel-list .dealGoodsInfo").data("goodscd");
		dealGoodsTvExpYn = $(this).closest(".custom-slt").find(".select .sel-list .dealGoodsInfo").data("tvexpyn");
		dealGoodsSaleScn = $(this).closest(".custom-slt").find(".select .sel-list .dealGoodsInfo").data("salescn");
		dealGoodsNm = $(this).closest(".custom-slt").find(".select .sel-list .dealGoodsInfo").data("goodsnm");
		var dealGoodsInfoPbldCd = $(this).closest(".custom-slt").find(".select .sel-list .dealGoodsInfo").data("goodsinfopbldcd");
		
		getDealGoodsQna(1,dealGoodsCd,dealGoodsNm,dealGoodsTvExpYn,dealGoodsSaleScn,dealGoodsInfoPbldCd);
	});
}


function dealGoodsSetParam(){
  var arrSize = $("#dealGoodsListSize").val();
  var dealGoodsStr = '';
  for(var i=1; i <=arrSize; i++){
    dealGoodsStr += $("#dealGoodsInfo_"+i).data("goodscd")+",";
  }
  return dealGoodsStr;
}
</script>
  </div> 
  
    
  

      
      
      </div>
      <!-- 탭 컨텐츠 (e) -->
    </section>
    
    <script type="text/javascript">
      $(".tab button").on('click',function(){
        var offset = $('.tab-cont-wrap').offset();
        $('html,body').animate({scrollTop:offset.top - 130},100);
      })
      </script>
      
    
    <script type="text/javascript">
    $(function(){
      $('.exhibi-coupon-list .tit').each(function() {
        var text = $(this).text();
        $(this).text(text.replace(/\[\쿠폰\]|\[\장바구니\]|1월|2월|3월|4월|5월|6월|7월|8월|9월|10월|11월|12월/g, ''));
      });
    })
    </script>
       
    
    
    
      











 





 
   
 
 
 


    



  
              
  
  






<input type="hidden" id="shoppingntAmt" value="" /> 
<input type="hidden" id="goods1" value="" /> 
<input type="hidden" id="goodsName" value="" /> 

		
		<div class="popup full" id="onair-notice-popup">
			<div class="popup-inner">
				<div class="popup-header">
					<h2>방송 알림 신청</h2>
				</div>
				<div class="popup-content">
					<div class="type-card mt16">
						<div class="goods-detail">
							<a href="#" class="thum-area">
								<img src="https://m.shoppingntmall.com/moassets/images/_temp/thum01.png" alt="[ODV] 20FW 오디브 시그니처 폭스퍼 롱" through="m2ps" loading="lazy">
							</a>
							<div class="info-txt-area">
								<a href="#" class="txt type-line2"><strong>TV쇼핑</strong> [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴</a>
							</div>
						</div>
					</div>

					<div class="form-area">
						<strong class="label">기간</strong>
						<div class="form-list mb24">
							<div class="form-wrap">
								<input type="radio" name="chk_01" id="chk_01_01" value="1" checked="checked">
								<label for="chk_01_01"><span></span>1개월</label>
							</div>
							<div class="form-wrap">
								<input type="radio" name="chk_01" id="chk_01_02" value="2">
								<label for="chk_01_02"><span></span>2개월</label>
							</div>
							<div class="form-wrap">
								<input type="radio" name="chk_01" id="chk_01_03" value="3">
								<label for="chk_01_03"><span></span>3개월</label>
							</div>
						</div>

						<strong class="label">횟수</strong>
						<div class="form-list mb24">
							<div class="form-wrap">
								<input type="radio" name="chk_02" id="chk_02_01" value="0" checked="checked">
								<label for="chk_02_01"><span></span>1회</label>
							</div>
							<div class="form-wrap">
								<input type="radio" name="chk_02" id="chk_02_02" value="1">
								<label for="chk_02_02"><span></span>방송 시 마다</label>
							</div>
						</div>

						<strong class="label">수신 동의</strong>
						<div class="form-list mb24">
							<div class="form-wrap">
								<input type="checkbox" name="chk_03" id="chk_03_01" value="1" onclick="sbmOn();" checked="checked">
								<label for="chk_03_01"><span></span>[필수] 마케팅 정보 수신동의</label>
							</div>
						</div>

             <div class="box-gray radius">
							<ul class="dot-list">
								<li>방송 30분전에 알림톡 또는 SMS로 발송됩니다.</li>
								<li>오후 21:00~익일 오전 09:00 사이 방송의 경우 20:00에 안내 SMS/알림톡이 발송됩니다.</li>
                <li>방송알림은 최대 100개까지 등록 가능합니다.</li>
                <li>신청 후 최대 3개월까지 보관되며, 상품이 판매중단된 경우 자동으로 삭제됩니다.</li>
							</ul>
						</div>
					</div>
					<button type="button" class="btn m-l black mt24" id="btnSbm" onclick="alarmSubmit()">신청하기</button>
				</div>
				<button type="button" class="btn-popup-close" onclick='popup.close("#onair-notice-popup")'>팝업 닫기</button>
			</div>
		</div>
		
    











 





 
   
 
 
 


    



  
              
  
  






    
		
		<div class="popup full" id="onair-notice-c-popup">
			<div class="popup-inner">
				<div class="popup-header">
					<h2>방송 알림 신청 완료</h2>
				</div>
				<div class="popup-content">
					<div class="type-card mt16">
						<div class="goods-detail">
							<a href="#" class="thum-area">
								<img src="https://m.shoppingntmall.com/moassets/images/_temp/thum01.png" alt="[ODV] 20FW 오디브 시그니처 폭스퍼 롱" through="m2ps" loading="lazy">
							</a>
							<div class="info-txt-area">
								<a href="#" class="txt type-line2"><strong>TV쇼핑</strong> [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴</a>
							</div>
						</div>
					</div>

					<ul class="form-output">
						<li>
							<span class="item">기간</span>
							<span class="data">1개월</span>
						</li>
						<li>
							<span class="item">횟수</span>
							<span class="data">1</span>
						</li>
						<li>
							<span class="item">수신 동의</span>
							<span class="data">동의</span>
						</li>
					</ul>
					<button type="button" class="btn l-l white border-b end" id="alarmList">방송알림 내역 보기</button>
				</div>
				<button type="button" class="btn-popup-close" onclick='popup.close("#onair-notice-c-popup")'>팝업 닫기</button>
			</div>
		</div>
		
    <script>
    $(document).ready(function(){
      $("#alarmList").click(function(){
					window.location.href = "/mypage/broadAlarm/list";
					popup.close("#onair-notice-c-popup");
      });
    });
    </script>
    <script>
    
    var selAlarm;
    var mainYn;
    
    
    function alarmSubmit(){
      var now = new Date();
      var period = $("input[name='chk_01']:checked").val();
      if(period == '1'){
        now.setMonth(now.getMonth()+1);
      }else if(period == '2'){
        now.setMonth(now.getMonth()+2);
      }else{
        now.setMonth(now.getMonth()+3);
      }
      var endDate = now.toISOString().substring(0,10).split("-").join("/");
      var repeat = $("input[name='chk_02']:checked").val();
      var agreeFlag = $("input[name='chk_03']:checked").val();
      var goodsCode = $("#onair-notice-popup").find('.thum-area').children(':hidden').val();
      var data = {
          						custNo : "", 
      								goodsCode : goodsCode,
      								endDate : endDate,
      								period : period,
      								repeat : repeat,
      								agreeFlag : agreeFlag
      								};
      $.ajax({
    		url : "/broadcast/tvBroadcastAlarm",
    		type: 'POST',
    		data: data,
    		async : true,
    		dataType : 'json',
    		headers: {
    			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    		},
    		success: function(data){
    		  if(data.resultData.status == 200) {
    		    if(mainYn == 'ONAIRBUYBTN') {
    		      $(selAlarm).prev().addClass('is-active');
    		    } else if(mainYn != 'MAIN') {
    		      $(selAlarm).addClass('is-active');
    		    }
    		    
    		    console.log("productID : "+$('a.thum-area input').val());
    		    console.log("name : "+$('#goodsName').val());
    		    console.log("price : "+$('#shoppingntAmt').val());
    		    console.log("currency : "+$('#goods1').val());
    		    
    		    var item_type =$('#goods1').val().split('_')[0];
    		    var item_state = $('#goods1').val().split('_')[1];
    		    
    		    window.dataLayer.push({
    		      'event'  : 'click_broadCast_notifications',
    		      'prd_id' : $('a.thum-area input').val(),
    		      'prd_name' : $('#goodsName').val(),
    		      'prd_price' : $('#shoppingntAmt').val(),
    		      'item_type' : item_type,
    		      'item_state' : item_state,
    		      'opt_period' : period,
    		      'opt_number' : repeat 
    		    });
    		    
    		    
    		    
    		    alarmConfPopOpen(period,repeat,agreeFlag);
    		  } else if (data.resultData.errorCode == 101) { 
            
						alert("방송알림 설정은 최대 100개까지 가능합니다.");
    		    popup.close("#onair-notice-popup");
    		  } else {
    		    alert(data.resultData.message);
    		    window.location.href = "/mypage/broadAlarm/list";
    		  }
    		},
    		error:function(request,status,error){
          console.log("request",request);
          console.log("status",status);
          console.log("error",error);
      }
    	});
    }
    
    function alarmConfPopOpen(period,repeat,agreeFlag){
      var nperiod = $(".form-wrap").find('label[for=chk_01_0'+period+']').html().replace(/(<([^>]+)>)/gi,'');
      var idxrepeat = parseInt(repeat)+1;
      var nrepeat = $(".form-wrap").find('label[for=chk_02_0'+idxrepeat+']').html().replace(/(<([^>]+)>)/gi,'');
      if(agreeFlag == '0'){
        var idxagreeFlag = '2';
      }else{
      	var idxagreeFlag = agreeFlag;
      }
      var nagreeFlag = $(".form-wrap").find('label[for=chk_03_0'+idxagreeFlag+']').html();
      
      $("#onair-notice-c-popup").find('ul.form-output').children().first().find('.data').text(nperiod);	
      $("#onair-notice-c-popup").find('ul.form-output').children().eq(1).find('.data').text(nrepeat);	
      
      if(nagreeFlag == undefined) {
        $("#onair-notice-c-popup").find('ul.form-output').children().last().find('.data').text('비동의');
      } else {
        $("#onair-notice-c-popup").find('ul.form-output').children().last().find('.data').text('동의');
      }
      
      popup.open('#onair-notice-c-popup');
			popup.close('#onair-notice-popup');
    }
    
	  function alarmPopOpen(goodsName, goodsCode, imageUrl, shoppingntAmt, tvIconYn, goodsDetailYn, broadAlertYn, $this, broadOrderYn) {
      var isActive = $($this).hasClass('is-active');
      selAlarm = $this;
      mainYn = goodsDetailYn;
      $('input:checkbox[name="chk_03"]').prop('checked',true);
      sbmOn();
      
      
      var goods1 = "";
      
	    if(tvIconYn == "Y") {
	      goods1 = 'TV편성';
	    } else {
	      goods1 = '일반';
	    }
   
     if(broadOrderYn == "1") {
       $('#goods1').val(goods1+'_온에어');
     } else {
       $('#goods1').val(goods1+'_OSMU');
     }
      
      $('#shoppingntAmt').val(shoppingntAmt);
      $('#goodsName').val(goodsName);
      
      
      

      
      
      
	    if(goodsDetailYn == 'Y'){
        var url = "/display/goods/"+goodsCode;
      } else if(goodsDetailYn == 'MAIN') {
        var url = "";
      } else { 
        var url = "/broadcast/tvBroadcastMain";
      }
	    if (ISLOGIN != 'Y') {
	      if(confirm("로그인 후 이용 가능합니다.\n로그인페이지로 이동하시겠습니까?")){
	        window.location.href = "/member/login?returnUrl=" + url;
        } return
      } else {
        var params = new Object();
        params['goodsCode'] = goodsCode;
        
        $.ajax({
      		url : '/broadcast/broad-alarm-list',
      		data: params,
      		dataType : 'json',
      		headers: {
      			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      		},
      		success: function(data){
      		  if(data.resultData.broadAlarmList.length > 0) {  
              
							alert("이미 등록된 알림입니다. 마이페이지로 이동합니다.");
              window.location.href = "/mypage/broadAlarm/list";
      		  } else {
      		    openOnAirPop(goodsName, goodsCode, imageUrl, shoppingntAmt, tvIconYn, $this);          		    
      		  }
      		},
      		error:function(request,status,error){
            console.log("request",request);
            console.log("status",status);
            console.log("error",error);
        }
      	});
      }
    };
	  
	  function openOnAirPop(goodsName, goodsCode, imageUrl, shoppingntAmt, tvIconYn, $this) {
	    var url = location.href;
	    
	    if (url.indexOf("#onair-notice-popup") < 0) { 
	      window.history.pushState('forward', null, null);
	    }
	    
	    $('input[name="chk_01"]')[0].checked = true;
	    $('input[name="chk_02"]')[0].checked = true;
	    
	    if (tvIconYn != 'Y') {
		    $("#onair-notice-popup").find('.txt').text(goodsName);
		    $("#onair-notice-c-popup").find('.txt').text(goodsName);
	    } else {
	      $("#onair-notice-popup").find('.txt').html("<strong>TV쇼핑</strong> "+goodsName);
		    $("#onair-notice-c-popup").find('.txt').html("<strong>TV쇼핑</strong> "+goodsName);
	    }

	    //var dimResizeVal = "";
	    
	    
	    $("#onair-notice-popup").find('.thum-area').html("<input type=hidden value="+goodsCode+"><img src=https://img.shoppingntmall.com"+imageUrl+" data-width=80 data-height=80 alt="+goodsName+" onerror=$.eshopfront.cmm.emptyImg(this)>");
	    
	    
	    $("#onair-notice-c-popup").find('.thum-area').html("<input type=hidden value="+goodsCode+"><img src = https://img.shoppingntmall.com"+imageUrl+" data-width=80 data-height=80 alt="+goodsName+" onerror=$.eshopfront.cmm.emptyImg(this)>");

	    popup.open('#onair-notice-popup');
	  }
	  
    
    function sbmOn() {
      const checkbox = $('#chk_03_01').is(':checked');
      if(checkbox == true){
        $('#btnSbm').attr('disabled', false);
      } else {
        $('#btnSbm').attr('disabled', true);
      }
    };
    </script>

    
    
    
        
    
    
    
    











 





 
   
 
 
 


    



  
              
  
  










<div class="popup bottom-sheet" id="pop-prd-option">
  <div class="popup-inner">
    <h2><span class="hidden">상품 옵션선택</span></h2>
    <div class="prd-option-box">
      <div class="prd-opt-info">


   
   

          
             
              
            
              
              
              <div class="sold-out-chk">
                <span class="form-wrap">
                  
                  
                    <input type="checkbox" id="noInvExcd1">
                    <label for="noInvExcd1"><span></span>품절제외</label>
                  
                </span>
              </div>
              
              <div class="custom-slt goods-opt-sel-list">
              
               
                
                
                <a href="javascript:;" name="optGroup" class="prd-sel" role="button" tabindex="0" title="상품 선택" data-firstdepth="Y" data-depth="1">
                  <span>
                  
                    색상을 선택해주세요. 
                     
                     
                  
                  </span>
                </a>
                
                <div class="prd-sellist-group" tabindex="0">
                  <ul class="prd-sel-list goods-opt-sel-list">
                    
                    
                    
                    
                    
                    
                    <li class="">
                      <a href="javascript:;" class="sel-list" role="button" tabindex="0"
                                          data-goodsordminqty="1" data-goodsordmaxqty="9999999" data-goodsprc="29900.0"
                                          data-setgoodsyn="N" data-snglnsordyn="N" data-frmlsgoodsscn="00"
                                          data-brdcstsalegoodsyn="N"
                                          data-goodscd="24760392" data-optcd="004"
                                          data-goodsoptcnt="8"
                                          data-brcd="24760392004"  data-goodsnm="25FW 아보크 클로그 윈터슈즈 2종 여성" 
                                          data-optdtl="블랙/250mm/250~255mm" data-salescn="00"
                                          data-depth="1" data-lastdepth="2"
                                          data-clor="00053" data-size="00250"
                                          data-pttrn="00000" data-shp="00000"
                                          data-salepsblqty="2388" data-promtgftyn="N" data-promtgftcnt="0"
                                          data-goodscategory="운동화/스포츠화">
                        <div class="tit">
                          <span>
                          
                            블랙
                            
                            
                            
                            
                          
                          
                          </span>
                        </div>
                      </a>
                      
                    </li>
                    
                    
                    
                    
                    
                    
                    <li class="">
                      <a href="javascript:;" class="sel-list" role="button" tabindex="0"
                                          data-goodsordminqty="1" data-goodsordmaxqty="9999999" data-goodsprc="29900.0"
                                          data-setgoodsyn="N" data-snglnsordyn="N" data-frmlsgoodsscn="00"
                                          data-brdcstsalegoodsyn="N"
                                          data-goodscd="24760392" data-optcd="008"
                                          data-goodsoptcnt="8"
                                          data-brcd="24760392008"  data-goodsnm="25FW 아보크 클로그 윈터슈즈 2종 여성" 
                                          data-optdtl="화이트/250mm/250~255mm" data-salescn="00"
                                          data-depth="1" data-lastdepth="2"
                                          data-clor="00072" data-size="00250"
                                          data-pttrn="00000" data-shp="00000"
                                          data-salepsblqty="545" data-promtgftyn="N" data-promtgftcnt="0"
                                          data-goodscategory="운동화/스포츠화">
                        <div class="tit">
                          <span>
                          
                            화이트
                            
                            
                            
                            
                          
                          
                          </span>
                        </div>
                      </a>
                      
                    </li>
                    
                  </ul>
                </div>
              </div>
              
              
              <temp class="optGoodsAdd1" style="display: none;"></temp>
              <temp class="optGoodsAdd2" style="display: none;"></temp>
              <temp class="optGoodsAdd3" style="display: none;"></temp>
              <temp class="optGoodsAdd4" style="display: none;"></temp>
              <temp class="optGoodsAdd5" style="display: none;"></temp>
              <temp class="optGoodsAdd6" style="display: none;"></temp>
              
              
              <temp class="chocGoodsDsp">
              </temp>

             
            
  
    

 
      </div> 
    
      <div class="sticky-bottom-area"> <!-- 05-27 div.sticky-bottom-area 추가 -->
    
        
        <div class="total-price">
          <div class="num">
            총 <em class="point-c1 totGoodsQty">0</em>개
          </div>
          <div class="price">
            <em class="point-c1 totGoodsPrc">0</em>원
          </div>
        </div>
        
        
        
          
          
          <div class="btn-area" id="btnGoodsDtlBuy">
          
     	  	
     	  	
	            
	            <button type="button" class="btn m-l white border-p" data-mainbtn="Y" data-btnscn="addToCartBtn">장바구니</button>
	            
	            <!-- 조건에 따라 빠른결제 버튼 표시 -->
	            
	            <button type="button" class="btn m-l pink noti" data-mainbtn="Y" data-btnscn="buyFastBtn">빠른결제<span>앱카드 간편 결제</span></button>
	            
	            <!-- 바로구매 버튼은 항상 표시 -->
	            <button type="button" class="btn m-l pink" data-mainbtn="Y" data-btnscn="buyNowBtn">일반결제</button>     	  	
     	  	
     	  
          </div>
          <script>
              $(document).ready(function () {
                //버튼 갯수에 따라~
                  $(".total-price").next(".btn-area").each(function () {
                     let $btnArea = $(this);
                       let $buttons = $btnArea.find("button");
                       
                      if ($buttons.length === 3) {
                          $buttons.addClass("w33");
                      } else {
                          $buttons.removeClass("w33");
                      }
                      if ($buttons.length === 1) {
                          $btnArea.removeClass("half");
                      } else if ($buttons.length >= 2) {
                          $btnArea.addClass("half");
                      }
                  });

                //빠른결제 뱃지
                  let observer = new MutationObserver(() => { 
                      let $span = $(".btn.noti span");
                      if ($(".popup.bottom-sheet").hasClass("open")) {
                          $span.stop(true, true).css("opacity", 1).show();
                          setTimeout(() => $span.fadeOut(500), 3500);
                      }
                  }); 
                  observer.observe(document.querySelector(".popup.bottom-sheet"), { attributes: true, attributeFilter: ["class"] });
              });
            </script>
            
          <p class="gift-p" id="pGiftNoti" style="display: none;"> 
            <b class="point-c1 txt-s">제주도/도서산간 선물 불가 안내</b>
            <span> 제주도/도서산간 <b>배송불가</b> 또는 <b>배송비 발생</b> 상품은 선물하실 수 없습니다.</span> 
          </p>
          <div class="btn-area" id="btnGoodsDtlPresent" style="display: none;">
            <button type="button" class="btn m-l pink" data-mainbtn="Y" data-btnscn="toPresentBtn">선물하기</button>
          </div>
          
        
      </div>
    </div> 
  <button type="button" class="btn-popup-close" onclick="popup.close('#pop-prd-option');">팝업 닫기</button>
  </div> 
</div> 



    
    <div class="btn-area sticky">
      











 





 
   
 
 
 


    



  
              
  
  










  
    
    
    
        
    
    
     
     	
     	
	      <!--s: 장바구니/구매하기 -->
	      
	      
	        <button type="button" class="btn m-l border-p has-icon" data-mainbtn="Y" data-btnscn="presentBtn"><span class="ico-gift">선물하기</span></button>
	      
	      <button type="button" data-mainbtn="Y" data-btnscn="buyBtn" class="btn m-l pink">구매하기</button>
	      <!--e: 장바구니/구매하기 -->     	
     	
     
    
  





    </div>
    
    
    











 





 
   
 
 
 


    



  
              
  
  










  <section class="page-goods-detail">
    <div class="search-brand-name">
      <ul class="swiper-wrapper">
        <li class="swiper-slide">
          <a href="javascript:location.href='/display/brand/category/001239'" class="block">
            <strong>아보크</strong>
            <span>브랜드관</span>
          </a>
        </li>
      </ul>
    </div>
  </section>
  <script type="text/javascript">
    $(document).ready(function(){
      
      var brandNum = $('.search-brand-name ul > li').length;
      if (brandNum > 1) {
        brandList = new Swiper('.search-brand-name', {
          slidesPerView: 1.2,
          spaceBetween: 4,
          grabCursor: true,
          watchOverflow : true
        });
      }
    });
  </script>




    
    
    











 





 
   
 
 
 


    



  
              
  
  





















 





 
   
 
 
 


    



  
              
  
  









    
    
    
    
    
    
        
        
        
    













  
  
    
    
  


<section class="type-line full detailIgenList" data-enty-src-cd="AREA0001">
  <div class="sec-tit-area center-area">
    <h2>다른 고객님들이 눈여겨 보는 상품</h2>
  </div>
  <div class="recom-product-list goodsCust pl16 pr16">
    <ul class="swiper-wrapper" id="detailIgenList">
    </ul>
  </div>
</section>


  <section class="type-line full detailRecommentIgenList" data-enty-src-cd="AREA0001">
    <div class="sec-tit-area center-area">
      <h2>함께 보면 좋은 상품</h2>
    </div>
    <div class="recom-product-list goodsMore pl16 pr16">
      <ul class="swiper-wrapper" id="detailRecommentIgenList">
      </ul>
    </div>
  </section>
  <section class="type-line pg0">  
      
      <div class="respect-img-area" id="boardBnr">
      </div>
      
  </section>


<script type="text/javascript">
  $(document).ready(function(){
    
    
    
    
      //[ITSR-10682] 아이겐추천상품 Rec_type 변경 관련 상품상세 a003 -> a002
      
       
        
        
         
        
        
       
      
      //$.eshopfront.cmm.igenRecommendGoods('a003','24760392','','','detailIgenList','','mo_detail_1');
      //$.eshopfront.cmm.igenRecommendGoods('a002','24760392','90000353','','detailIgenList','','mo_detail_1');
    
		
    
    var recomGoodsCustProduct = new Swiper(".recom-product-list.goodsCust", {
      slidesPerView: 2.5, // 슬라이드에 보여줄 갯수
      spaceBetween: 16, // 간격(margin)
      grabCursor: true,
			watchOverflow : true
    });
    
    
    
    
    //[ITSR-10682] 아이겐추천상품 Rec_type 변경 관련 상품상세 a002 -> a015
    //$.eshopfront.cmm.igenRecommendGoods('a002','24760392','90000353','','detailRecommentIgenList','','mo_detail_2');
    $.eshopfront.cmm.igenRecommendGoods('a015','24760392','','','detailRecommentIgenList','','mo_detail_2');
    var recomGoodsMoreProduct = new Swiper(".recom-product-list.goodsMore", {
      slidesPerView: 2.5, // 슬라이드에 보여줄 갯수
      spaceBetween: 16, // 간격(margin)
      grabCursor: true,
			watchOverflow : true
    });
    
    
    $.ajax({
      url : "/goods/detail/getBoardBnr",
      type: 'POST',
      data: {
        catCds : "90000350,20000002,20000002"
      },
      async : true,
      timeout : 30000,
      dataType : 'html',
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      }
      , success: function(data){
        if(data != null && $.trim(data) != "") {
          $("#boardBnr").html(data);
        } else {
          $("#boardBnr").parent().remove();
        }
      }
      , error:function(request,status,error){
        console.log("/goods/detail/getBoardBnr Error", request);
        if(chk403(request)) return;
      }
    });
    
    /*Criteo 광고툴팁*/
    $('.criteo-toggle > button').on('click', function() {
        $(this).toggleClass('on');
    });
    $('.criteo-toggle-con > button').on('click', function() {
        $(this).parent('.criteo-toggle-con').prev('button').removeClass('on');
    });
  });
</script>
    
    
    
    











 





 
   
 
 
 


    



  
              
  
  






<!-- 배송지 관리 팝업 -->












 





 
   
 
 
 


    



  
              
  
  







<div class="popup full" id="receiverMypagePop">
  <div class="popup-inner" id="mypageReceiverPopScroll">
    <div class="popup-header">
      <h2>배송지 관리</h2>
    </div>
    <div class="popup-content type-mg0">
        <div class="btn-area mt16">
         <button type="button" id="btnMyReceiver" class="btn l-m white border-g btn-shipping-add" onclick="javascript:openUpdateMypageReceiverPop('');">신규 배송지 추가</button><!-- 07-07 클래스 변경 -->
       </div>  
       <input type="hidden" id="myPageMultiIdx" />
       <input type="hidden" id="mypageReceiverCurrentPage" value="1">
        
      <!-- ajax 조회 결과 세팅 -->
      <ul class="shipping-list mt24 mb20" id="mypageReceiverListArea">
      </ul>
        
      <div class="btn-area sticky">
        <button type="button" class="btn m-l black btn-shipping-change" onclick="fnClose();">닫기</button>
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick='fnClose();'>팝업 닫기</button>
  </div>
</div>

<script>

/***************************************
 * 더보기 설정 
 ***************************************/
var mypageRecScrollFlag = false; //중복 호출 방지용 플래그 값
var myReceiverIsNullFlag = false; // 기본배송지 유무 플래그 값

$("#mypageReceiverPopScroll").scroll(function() {
  var scrollTop = Math.ceil($(this).scrollTop());
  var innerHeight = $(this).innerHeight();
  var scrollHeight = $(this).prop('scrollHeight');
  
  if (scrollTop + innerHeight >= scrollHeight) {

    var totalCount = $("#mypageReceiverTotalCount").val();
    var currentPage = $('#mypageReceiverCurrentPage').val();
    var rowsPerPage = '20'; // 20개씩 노출
    
    if(mypageRecScrollFlag == false && totalCount > currentPage * rowsPerPage){
      selectReceveList('0');
  	}
  }
  
});

// 배송지 목록 조회
function selectReceveList(firstYn){

  mypageRecScrollFlag = true;	//더보기 스크롤 중복 방지 flag
  
  var currentPage = '0';
  var rowsPerPage = '20'; // 20개씩 노출 
  var totalCount = '0';
  
  if(firstYn=='1'){//배송지 목록 팝업인 경우
    $('#mypageReceiverListArea').html("");//목록 초기화
  } else {  //더보기인경우 현재페이지 설정
    currentPage = $('#mypageReceiverCurrentPage').val();
    totalCount = $('#mypageReceiverTotalCount').val();
  }
  
  if(firstYn=='1' || totalCount > currentPage * rowsPerPage){
    currentPage ++;
    $('#mypageReceiverCurrentPage').val(currentPage);
    
    var params = new Object();
    
    params['currentPage'] = currentPage;
    params['firstYn'] = firstYn;
    params['rowsPerPage'] = rowsPerPage;
    params['receiverFlag'] = '0'; //0: 기본/기타 배송지, 1: 기본배송지 2: 최근 주문 배송지
    
    $.ajax({
      url : '/mypage/receive/receiverListPop',
      type : 'POST',
      dataType : 'html',
      data : JSON.stringify(params),
      contentType : "application/json;charset=UTF-8",
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      },
      success: function(data, textStatus, jqXHR){
        
        mypageRecScrollFlag = false;	//더보기 스크롤 중복 방지 flag
        
        if(textStatus == 'success'){
          //$('#moreMypageReceiveBtn').remove();
          $('#mypageReceiverListArea').append(data);
          
					if($('#mypageReceiverTotalCountNew').val() > 0){
            $('#btnMyReceiver').text('신규 배송지 추가');
            myReceiverIsNullFlag = false;
          }else{
            $('#btnMyReceiver').text('기본 배송지 추가');
            myReceiverIsNullFlag = true;
          }
        } else {
          alert("일시적인 장애가 발생했습니다. 잠시후에 다시 요청 하시기 바랍니다.");
        }
      },
      error: function(jqXHR, textStatus, errorThrown){
        alert("일시적인 장애가 발생했습니다. 잠시후에 다시 요청 하시기 바랍니다.");
      }
    });
  }
}

// 배송지관리 팝업 오픈
function openReceivePop(firstYn){
  selectReceveList(firstYn);
  popup.open('#receiverMypagePop');
}

// 배송지 단건 조회
function selectMypageReceiverOne(flag, receiverSeq, idx){
  
  if (idx == '1'){
    idx = "";
  } else {
    idx = "_" + idx;
  }
  
  var functionResult = false;
  var params = new Object();
  
  params['receiverFlag'] = flag; //0: 기본/기타 배송지, 1: 기본배송지 2: 최근 주문 배송지
  params['receiverSeq'] = receiverSeq; //해당 seq의 배송지 조회
  
  $.ajax({
    url : '/mypage/receive/list',
    type : 'POST',
    dataType : 'json',
    async : false,
    data : JSON.stringify(params),
    contentType : "application/json;charset=UTF-8",
    headers: {
      "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    },
    success: function(result){
      if( result.resultData.status == 200 ){  //성공
        resetMypageReceiver('mypageEditPop',false); //기존 정보 초기화 
        
        if(result.resultData.receiverList != null || result.resultData.receiverList.length > 0){

          var data = result.resultData.receiverList[0];
          
          $('#receiverTitle_mypageEditPop').text('배송지 수정');
          
          $('#receiverSeq'+idx).val(data.receiverSeq);
          $('#defaultAddrYn'+idx).val(data.defaultYn);
          $('#receiverName'+idx).val(data.receiver);
          $('#sltPostNo'+idx).val(data.receiverPost);
          $('#sltBaseAddr'+idx).val(data.resultPostAddr);
          $('#sltDetailAddr'+idx).val(data.resultAddr);
          $('#receiverHp'+idx).val(data.receiverHp1+"-"+data.receiverHp2+"-"+data.receiverHp3);
          
          if(data.receiverDdd != null && data.receiverTel1 != null && data.receiverTel2 != null ){
            $('#receiverTel'+idx).val(data.receiverDdd+"-"+data.receiverTel1+"-"+data.receiverTel2);
          }
          
          // 기본 배송지 수정 : 기본 배송지로 설정 체크박스 미노출(기타 배송지로 수정할 수 없음), 이름 수정 불가능
          if("1" == data.defaultYn) {
              $('#receiverName_mypageEditPop').attr('disabled','disabled');
          } else {
              $('#receiverName_mypageEditPop').removeAttr('disabled');
          }
      
          $('#defaultAddrYn_mypageEditPop').prop('checked','');
          $('.completePostSearch_mypageEditPop').show();
          $('#defaultMypageReceiverCheckArea').css("display","block");
          $("#defaultMypageReceiverCheckArea").hide();
          
          popup.open('#editMyPageReceiverPop');
          
          functionResult = true;
        }else{
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
        }
      } else {
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    },
    error: function(jqXHR, textStatus, errorThrown){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
    }
  });
  return functionResult;
}

// 삭제
var isMypageReceiverPopLoading = false;
function deleteMypageReceiver(receiverSeq){
  if(isMypageReceiverPopLoading) return;
  
  if(confirm("삭제하시겠습니까?")){
    var param = new Object();
    param['receiverSeq'] = receiverSeq;
    
    isMypageReceiverPopLoading = true;
    $.ajax({
      url : '/mypage/receive/deleteReceiver',
      type : 'POST',
      dataType : 'json',
      data : JSON.stringify(param),
      contentType : "application/json;charset=UTF-8",
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      },
      success: function(result){
        isMypageReceiverPopLoading = false;
        //성공
        if( result.resultData.status == 200 ){
          alert("삭제되었습니다.");
          $('#mypage'+receiverSeq).remove();
        } else {
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
        }
      },
      error: function(jqXHR, textStatus, errorThrown){
        isMypageReceiverPopLoading = false;
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    });
  }
}

// 수정
function openUpdateMypageReceiverPop(receiverSeq){
  if(receiverSeq == null || receiverSeq == '') {  //배송지 신규 등록인 경우 그냥 팝업 호출 
    resetMypageReceiver('mypageEditPop', myReceiverIsNullFlag); //기존 정보 초기화 
    popup.open('#editMyPageReceiverPop');
  } else {// 배송지  수정인 경우 receiverSeq로 데이터 조회 후 세팅 
    selectMypageReceiverOne('0', receiverSeq, 'mypageEditPop');
  }
}

//배송지 데이터 리셋 
function resetMypageReceiver(idx, flag){
  //idx 0 : 배송지 변경 팝업, 1: 주문서 배송지 1 , 2이상 : 복수배송지 
  //flag false : 기본배송지 존재, true : 기본배송지 미존재
  var editPopYn = 'N';
  var custName = $('#mypageReceiverCustNameNew').val();
  var custHp = $('#mypageReceiverHp').val();

  if(idx == 'editPop' || idx == 'mypageEditPop'){
    editPopYn = 'Y';
  }
  
  if (idx == '1'){
    idx = "";
  } else {
    idx = "_" + idx;
  }
  
  $('#receiverSeq'+idx).val('');

  $('#receiverName'+idx).val('');
  
  //수정예정 (아직 해당 id 설정 X )
  /* 
  $('#editPop_post').val('');
  $('#editPop_baseAddr').val('');
  $('#editPop_detailAddr').val(''); 
  */
  
  $('#receiverHp'+idx).val('');
  $('#receiverTel'+idx).val('');
  
  $('#roadAddrNo'+idx).val('');
  $('#roadAddrYn'+idx).val('');
  
  //$('#editPopStdRoadNnmb').val('');
  //$('#editPopCustAreaGb').val('');
  $('#refineResultCode'+idx).val('');

  $('#sltRoadAddrYn'+idx).val('');
  
  $('#sltPostSeq'+idx).val('');
  $('#sltBaseAddr'+idx).val(''); 
  $('#sltDetailAddr'+idx).val(''); 

  $('#sltPostNo'+idx).val(''); 
  $('#sltRoadAddrNo'+idx).val(''); 

  $('#selectAddr'+idx).val(''); 
  
  //표준 지번 주소
  $('#stdPost'+idx).val(''); 
  $('#stdPostSeq'+idx).val(''); 
  $('#stdPostAddr1'+idx).val(''); 
  $('#stdPostAddr2'+idx).val(''); 
  $('#stdPostLngx'+idx).val(''); 
  $('#stdPostLaty'+idx).val('');

  //표준 도로명 주소
  $('#stdRoadPost'+idx).val(''); 
  $('#stdRoadPostSeq'+idx).val(''); 
  $('#stdRoadPostAddr1'+idx).val('');
  $('#stdRoadPostAddr2'+idx).val(''); 
  $('#stdRoadPostLngx'+idx).val(''); 
  $('#stdRoadPostLaty'+idx).val(''); 

  if(editPopYn == 'Y'){
    $('#defaultMypageReceiverCheckArea').css("display","block");
    $('.completePostSearch_mypageEditPop').css("display","none");
    
    if(flag == false){//이미 기존배송지가 있는 경우, 신규배송지 추가
      $('#receiverTitle_mypageEditPop').text('신규 배송지 추가');
    	$('#receiverName_mypageEditPop').removeAttr('disabled');
    	$('#receiverHp_mypageEditPop').removeAttr('disabled');

    	$('#defaultMypageReceiverCheckArea').hide();
    	$("#defaultAddrYn_mypageEditPop").prop("checked","");
      $('#editReceiver_save').text('저장하기');
  	}else{// 기존배송지가 없는 경우, 기본배송지 추가
  	  $('#receiverTitle_mypageEditPop').text('기본 배송지 추가');
  	  $('#receiverName_mypageEditPop').val(custName);
  	  $('#receiverName_mypageEditPop').attr('disabled','disabled'); //attr('readonly', 'readonly');
  	  $('#receiverHp_mypageEditPop').val(custHp);
  	  $('#receiverHp_mypageEditPop').attr('disabled','disabled');
  		// 배송지 첫 등록시 기본배송지 설정
    	//if($("#mypageReceiverTotalCount").val() == 0){
  	  $("#defaultMypageReceiverCheckArea").show();
  	  $("#defaultAddrYn_mypageEditPop").prop("checked", true);
  	  $("#defaultAddrYn_mypageEditPop").prop("disabled", true);
  	  $('#editReceiver_save').text('저장하기');
  	}
  }
  
}

//유효성검사 
function calculate_msglen(message){
   var nbytes = 0;
 
   for (i=0; i<message.length; i++) {
       var ch = message.charAt(i);
       if(escape(ch).length > 4) {
           nbytes += 2;
       } else if (ch == '\n') {
           if (message.charAt(i-1) != '\r') {
               nbytes += 1;
           }
       } else if (ch == '<' || ch == '>') {
           nbytes += 4;
       } else {
           nbytes += 1;
       }
   }
 
   return nbytes;
}

//유효성검사 
function isEmpty(_str){ //비어있으면 true
  var obj = String(_str);
  if(obj == null || obj == undefined || obj == 'null' || obj == 'undefined' || obj == '' || obj.trim() == '') {
    return true;
  } else {
    return false;
  }
}

//팝업 닫기
function fnClose(){
  if(typeof callbackReceiverPop == 'function'){
    callbackReceiverPop();
  }
  popup.close('#receiverMypagePop');
  /*if($("div .dim").length){
    $("div .dim").remove();
  }*/
}

</script>












 





 
   
 
 
 


    



  
              
  
  







<div class="popup full" id="editMyPageReceiverPop">
  <div class="popup-inner">
    <div class="popup-header">
      <h2 id="receiverTitle_mypageEditPop">신규 배송지 추가</h2>
    </div>
    <div class="popup-content">
      <div class="shipping-ipt-area">
        <dl class="delivery-common mt0">
          <dt>이름</dt>
          <dd>
            <div class="ipt-wrap">
              <input type="text" class="ipt delete" placeholder="이름 입력" title="이름 입력" id="receiverName_mypageEditPop" name="receiverName_mypageEditPop" value="">
            </div>
          </dd>
        </dl>
        <dl class="delivery-common">
          <dt>주소</dt>
          <dd>
            <div class="delivery-address">
              <div class="delivery-post">
                <div class="ipt-wrap">
                  <input type="text" class="ipt delete" placeholder="우편번호 입력" title="우편번호 입력" id="sltPostNo_mypageEditPop" disabled>
                </div>
                <button type="button" class="btn-find-address btn m-l white border-g" onclick="javascript:postPopOpen('mypageEditPop');">주소찾기</button>
              </div>
              <div class="ipt-wrap mt8 completePostSearch_mypageEditPop" style="display:none;">
                <input type="text" class="ipt delete" title="주소 입력" id="sltBaseAddr_mypageEditPop" disabled>
              </div>
              <div class="ipt-wrap completePostSearch_mypageEditPop" style="display:none;">
                <input type="text" class="ipt delete" title="상세주소 입력" id="sltDetailAddr_mypageEditPop" disabled>
              </div>
            </div>
          </dd>
        </dl>
        <dl class="delivery-common">
          <dt>휴대폰번호</dt>
          <dd>
            <div class="ipt-wrap">
              <input type="tel" class="ipt delete phoneNumber" placeholder="휴대폰번호 입력" id="receiverHp_mypageEditPop" name="receiverHp_mypageEditPop" maxlength='13'>
            </div>
          </dd>
        </dl>
        <dl class="delivery-common">
          <dt>전화번호 (선택)</dt>
          <dd>
            <div class="ipt-wrap">
              <input type="tel" class="ipt delete phoneNumber" placeholder="전화번호 입력" title="전화번호 입력" id="receiverTel_mypageEditPop" name="receiverTel_mypageEditPop" maxlength='13'>
            </div>
          </dd>
        </dl>
        <div class="form-wrap mt16" id="defaultMypageReceiverCheckArea">
          <input type="checkbox" id="defaultAddrYn_mypageEditPop" name="defaultAddrYn_mypageEditPop">
          <label for="defaultAddrYn_mypageEditPop"><span></span>기본배송지로 설정</label>
        </div>
      </div>
      <button type="button" class="btn m-l black btn-shipping-change" id="editReceiver_save" onclick="saveMypageReceiver('mypageEditPop')">저장하기</button>
    </div>
    <button type="button" class="btn-popup-close" onclick='popup.close("#editMyPageReceiverPop")'>팝업 닫기</button>
  </div>
</div>

<!-- S : 저장 데이터 세팅 -->
<input type="hidden" id="receiverSeq_mypageEditPop" value=""/>
<input type="hidden" id="refineResultCode_mypageEditPop" value=""/>

<input type="hidden" id="sltPostSeq_mypageEditPop" value=""/>

<input type="hidden" id="sltRoadAddrYn_mypageEditPop" value=""/>
<input type="hidden" id="sltRoadAddrNo_mypageEditPop" value=""/>

<input type="hidden" id="selectAddr_mypageEditPop" value=""/>

<input type="hidden" id="stdPost_mypageEditPop" value=""/>
<input type="hidden" id="stdPostSeq_mypageEditPop" value=""/>
<input type="hidden" id="stdPostAddr1_mypageEditPop" value=""/>
<input type="hidden" id="stdPostAddr2_mypageEditPop" value=""/>
<input type="hidden" id="stdPostLngx_mypageEditPop" value=""/>
<input type="hidden" id="stdPostLaty_mypageEditPop" value=""/>

<input type="hidden" id="stdRoadPost_mypageEditPop" value=""/>
<input type="hidden" id="stdRoadPostSeq_mypageEditPop" value=""/>
<input type="hidden" id="stdRoadPostAddr1_mypageEditPop" value=""/>
<input type="hidden" id="stdRoadPostAddr2_mypageEditPop" value=""/>
<input type="hidden" id="stdRoadPostLngx_mypageEditPop" value=""/>
<input type="hidden" id="stdRoadPostLaty_mypageEditPop" value=""/>
<!-- E : 저장 데이터 세팅 -->

<script>
$(document).ready(function(){
  //핸드폰 번호
  $("#receiverHp_mypageEditPop").on("keyup", function() {
    $(this).val( $(this).val().replace(/[^0-9]/g, "").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})/,"$1-$2-$3").replace("--", "-") );
  });
  //전화번호
  $("#receiverTel_mypageEditPop").on("keyup", function() {
    $(this).val( $(this).val().replace(/[^0-9]/g, "").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})/,"$1-$2-$3").replace("--", "-") );
  });
});

//배송지 저장/수정
var isMypageEditReceiverPopLoad = false;
function saveMypageReceiver(idx){
  if(isMypageEditReceiverPopLoad) return;
  
  //1) 배송지 변경 팝업에서 등록/수정 하는 경우 
  //2) 주문서 진입시 등록된 배송지가 없어 사용자가 직접 입력하는경우 (배송지 저장 한 뒤 배송비 계산해야함)
  var editPopYn = "N";
  
  if(idx == 'editPop' || idx == 'mypageEditPop'){
    editPopYn = 'Y'
  }
  
  if(idx == "1"){
    idx = "";
  } else {
    idx = "_" + idx ;
  }

  var receiverName = "";
  var sltPostNo = "";
  var sltBaseAddr = "";
  var sltDetailAddr = "";
  
  var receiverHp = "";
  var splitReceiverHp = "";
  var receiverHp1 = "";
  var receiverHp2 = "";
  var receiverHp3 = "";
  var receiverHpAll = "";

  var receiverTel = "";
  var splitReceiverTel = "";
  var receiverDdd = "";
  var receiverTel1 = "";
  var receiverTel2 = "";
  var receiverTelAll = "";

  var custName = $("#mypageReceiverCustName").val();
  var nonMemberYn = "";
  
  receiverName = $('#receiverName'+idx).val();
  sltPostNo = $('#sltPostNo'+idx).val();
  sltBaseAddr = $('#sltBaseAddr'+idx).val();
  sltDetailAddr = $('#sltDetailAddr'+idx).val();
  
  receiverHp = $('#receiverHp'+idx).val();
  splitReceiverHp = $('#receiverHp'+idx).val().split('-');
  receiverHp1 = splitReceiverHp[0]; 
  receiverHp2 = splitReceiverHp[1]; 
  receiverHp3 = splitReceiverHp[2];
  receiverHpAll = splitReceiverHp[0]+""+splitReceiverHp[1]+""+splitReceiverHp[2];
  
  receiverTel = $('#receiverTel'+idx).val();
  
  if(receiverTel != null && receiverTel != ''){
    splitReceiverTel = $('#receiverTel'+idx).val().split('-');
    receiverDdd = splitReceiverTel[0]; 
    receiverTel1 = splitReceiverTel[1]; 
    receiverTel2 = splitReceiverTel[2];
    receiverTelAll = splitReceiverTel[0]+""+splitReceiverTel[1]+""+splitReceiverTel[2];
  }
  
  var chkNumber = /^[0-9-]+$/;
  var hpPattern = /[01](0|1|6|7|8|9)[-](\d{4}|\d{3})[-]\d{4}$/;
  var telPattern = /^[0-9]{2,3}[-][0-9]{3,4}[-][0-9]{4}/;
  
  //배송지 정보 유효성 검사
  if(isEmpty(receiverName) || 2 > receiverName.length){
    alert("이름을 입력해 주세요.");   //이름을 입력해주세요.
    return false;
  }

  if(isEmpty(sltPostNo) || isEmpty(sltBaseAddr) || isEmpty(sltDetailAddr)){
    alert("주소를 입력해 주세요.");   //주소를 입력해주세요.
    return false;
  }
  
  if(receiverHp == "" ){
    alert("휴대폰 번호를 입력해 주세요.");   //휴대폰 번호를 입력해주세요.
    return false;
  }
  
  //주소 validation
  if(5 != sltPostNo.length && 6 != sltPostNo.length){
    alert("우편번호를 확인해 주세요.");
    $("#sltPostNo"+idx).focus();
    return false;
  }
  
  if(!chkNumber.test(sltPostNo)){ ;
    alert("우편번호 번호는 숫자만 입력 가능합니다.");
    return false;
  }
        
  if(calculate_msglen(sltDetailAddr) > 300){
    alert("상세 주소는 300byte 이내로 입력해주세요.");
    return false;
  }
  
  // 휴대전화 validation
  if(!hpPattern.test(receiverHp)){
    alert("휴대폰 번호 형식이 올바르지 않습니다. 확인 후 다시 입력해주세요.");
    $('#receiverHp'+idx).focus();
    return false;
  }
   
  // 전화번호 validation
  if(receiverTel != null && receiverTel != ''){
    if(!telPattern.test(receiverTel)){
      alert("전화번호 형식이 올바르지 않습니다. 확인 후 다시 입력해주세요.");
      $('#receiverTel'+idx).focus();
      return false;
    }
  }
  
  //기본배송지 설정
  var defaultAddrYn = "";
  if($('#defaultAddrYn_mypageEditPop').is(':checked')){
    //배송지 수정 팝업에서 체크박스 체크한 경우 
    defaultAddrYn = 1;
    
    /*if(receiverName != custName){
      alert("기본 배송지 설정은 회원 이름과 받으시는 분 이름이 동일할때만 가능합니다.");	//기본 배송지 설정은 회원 이름과 받으시는 분 이름이 동일할때만 가능합니다.
      return false;
    }*/
  }
  
	//중복 배송지 체크 후 배송지 저장
  if(dupCheckReceiverData_mypage(nonMemberYn,receiverName,receiverHpAll,receiverTelAll,sltBaseAddr,sltDetailAddr,'etc')){
    //데이터 세팅
    var param = new Object();
  
    param['defaultAddrYn'] = defaultAddrYn; //기본 배송지 여부
  
    param['receiverSeq'] = $('#receiverSeq'+idx).val(); //배송지 Seq // 배송지 추가일떈 빈값, 수정일땐 선택 Seq
  
    param['receiverName'] = $('#receiverName'+idx).val(); //배송자 명
    
    param['receiverHp1'] = receiverHp1; //휴대폰번호
    param['receiverHp2'] = receiverHp2;
    param['receiverHp3'] = receiverHp3;
    param['receiverDdd'] = receiverDdd; //전화번호
    param['receiverTel1'] = receiverTel1;
    param['receiverTel2'] = receiverTel2;
  
    param['refineResultCode'] = $('#refineResultCode'+idx).val(); //정제 결과 코드
    
    param['sltPostNo'] = $('#sltPostNo'+idx).val(); //우편번호
    param['sltPostSeq'] = $('#sltPostSeq'+idx).val(); //우편번호 순번
    param['sltBaseAddr'] = $('#sltBaseAddr'+idx).val(); // 기본 주소 
    param['sltDetailAddr'] = $('#sltDetailAddr'+idx).val(); // 상세 주소  
  
    param['sltRoadAddrYn'] = $('#sltRoadAddrYn'+idx).val(); // 도로명 주소 여부
    param['sltRoadAddrNo'] = $('#sltRoadAddrNo'+idx).val(); // 도로명 우편번호
  
    param['selectAddr'] = $('#selectAddr'+idx).val(); //주소 선택 구분
  
    //표준 지번 주소
    param['stdPost'] = $('#stdPost'+idx).val(); //우편번호
    param['stdPostSeq'] = $('#stdPostSeq'+idx).val(); //우편번호 순번
    param['stdPostAddr1'] = $('#stdPostAddr1'+idx).val(); //기본 주소
    param['stdPostAddr2'] = $('#stdPostAddr2'+idx).val(); //상세 주소
    param['stdPostLngx'] = $('#stdPostLngx'+idx).val(); //경도 좌표
    param['stdPostLaty'] = $('#stdPostLaty'+idx).val(); //위도 좌표
  
    //표준 도로명 주소
    param['stdRoadPost'] = $('#stdRoadPost'+idx).val(); //우편번호
    param['stdRoadPostSeq'] = $('#stdRoadPostSeq'+idx).val(); //우편번호 순번
    param['stdRoadPostAddr1'] = $('#stdRoadPostAddr1'+idx).val(); //기본 주소
    param['stdRoadPostAddr2'] = $('#stdRoadPostAddr2'+idx).val(); //상세 주소
    param['stdRoadPostLngx'] = $('#stdRoadPostLngx'+idx).val(); //경도 좌표
    param['stdRoadPostLaty'] = $('#stdRoadPostLaty'+idx).val(); //위도 좌표
    
    isMypageEditReceiverPopLoad = true;
    $.ajax({
      url : '/mypage/receive/updateReceiverList',
      type : 'POST',
      dataType : 'json',
      data : JSON.stringify(param),
      async : false,
      contentType : "application/json;charset=UTF-8",
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      },
      success: function(result){
        isMypageEditReceiverPopLoad = false;
        //성공
        if( result.resultData.status == 200 ){
            if(editPopYn == 'Y' && defaultAddrYn == '1'){
              alert("기본 배송지로 저장되었습니다.");
            }else{
              alert("저장되었습니다.");
            }
            // 배송지 수정 팝업인 경우는 1) 팝업 초기화 3) 배송지 목록 새로 정렬 
            resetMypageReceiver('editPop',false); //팝업 초기화 
            popup.close('#editMyPageReceiverPop'); // 배송지 수정 팝업 닫기 
            $('#receiverCurrentPage').val('1');
            
            if($("#receiverMypagePop").prev(".dim").length > 0){
              $("#receiverMypagePop").prev(".dim").remove();
            }
            
            openReceivePop('1');
        } else {
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
        }
      },
      error: function(jqXHR, textStatus, errorThrown){
        isMypageEditReceiverPopLoad = false;
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    });
  }    
}

//배송지 중복체크
function dupCheckReceiverData_mypage(nonMemberYn,receiverName,receiverHpAll,receiverTelAll,sltBaseAddr,sltDetailAddr,mode) {
	 //데이터 세팅
	var functionResult = true;
	var params = new Object();

  if(nonMemberYn == 'Y'){
 		params['custNo'] = "202411248309"; 
  }

  params['nonMemberYn'] = nonMemberYn; //비회원 여부 Y:비회원 N:회원 
  params['receiver'] = receiverName; //배송자명
  params['receiverHp'] = receiverHpAll;	//휴대폰번호
  params['receiverTel'] = receiverTelAll;	  //전화번호
  params['sltBaseAddr'] = sltBaseAddr; // 기본 주소 
  params['sltDetailAddr'] = sltDetailAddr; // 상세 주소 	
  
  $.ajax({
    url : '/order/common/checkReceiverList',
	  type : 'POST',
	  dataType : 'json',
	  async : false,
	  data : JSON.stringify(params),
	  contentType : "application/json;charset=UTF-8",
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
		success: function(result){
		  //조회되는 리스트가 있다면 중복 존재
      if (result.resultData.receiverList != null && result.resultData.receiverList.length > 0) {
        const dupReceiver = result.resultData.receiverList[0];
        if (mode === 'basic') {
          // 기본배송지 수정 화면 : 자동 승격을 위해 seq만 저장
          window.lastCheckedDupReceiverSeq = dupReceiver.receiverSeq;
        } else {
          // 기타 배송지 화면 : alert 띄우기
          alert("동일한 배송지 정보가 등록되어 있습니다.\n확인 후 다시 입력해 주세요."); // 동일한 배송지 정보가 등록되어 있습니다.
        }
        functionResult = false;
      }
    },
    error: function(jqXHR, textStatus, errorThrown){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
     	functionResult = false;
    }
  });
  return functionResult;
}
</script>
<!-- 주소 찾기 팝업 -->












 





 
   
 
 
 


    



  
              
  
  




















 





 
   
 
 
 


    



  
              
  
  







<div class="popup full" id="postPop">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>주소찾기</h2>
    </div>
    <div class="popup-content type-mg0">
      <div class="tab type-underline-02 half">
        <button id="tapRoadPart" type="button" class="is-active" onclick="javascript:postPopRoadTapPart();">도로명주소</button>
        <button id="tapAddrPart" type="button" class="" onclick="javascript:postPopAddrTapPart();">지번주소</button>
      </div>
      <div class="tab-cont-wrap">
        <div class="tab-cont-item" style="display:block">
            <div class="select-wrap half" id="roadSearchDiv">
              <div class="form-select">
                <select class="ipt" title="시/도 선택" id="cityCode" name="cityCode" >
                    <option value="">시/도 선택</option>
                    
                  </select>
              </div>
              <div class="form-select">
                <select class="ipt" title="시/군/구 선택" id="guCode" name="guCode" >
                  <option value="">시/군/구 선택</option>
                </select>
              </div>
            </div>
            <div class="srch-box mt8" id="roadAddrSearchDiv">
              <div class="ipt-wrap is-srch">
                <input type="text" class="ipt delete" placeholder="도로명주소를 입력해 주세요." title="주소 입력" id="roadName" name="roadName" value="">
              </div>
              <button type="button" class="btn-srch" onclick="javascript:searchPostSubmit('1', '1')">
                <span class="hidden">검색</span>
              </button>
            </div>
            <!-- 도로명 총 건수 -->
            <div class="side-info mt24" id="roadAddrCount">
              
            </div>
            
            <!-- 도로명 검색 결과 선택  -->
            <div class="address-hang-wrap" id="roadAddrSelectPart">
              <ul class="add-search-list type-result">
                <li>
                  <div class="address-result">
                    <dl>
                      <dt class='zip'></dt>
                      <dd>
                        <strong>도로명</strong>
                        <span id="roadAddrSpanTag"></span>
                      </dd>
                      <dd>
                        <strong>지번</strong>
                        <span id="addrSpanTag"></span>
                      </dd>
                    </dl>
                  </div>
                </li>
              </ul>
              <input type='hidden' id='sltDisplayRoadPostNo_1' value='' readonly='readonly'>
              <input type='hidden' id='sltDisplayBaseRoadAddr_1' value='' readonly='readonly'>
              <input type='hidden' id='sltDisplayBaseAddr_1' value='' readonly='readonly'>
              <div class="ipt-wrap mt20">
                <input type="text" class="ipt delete" placeholder="상세 주소를 입력해주세요 " title="상세주소 입력" id='inputDetailRoadAddr' >
               </div>
            </div>
            <div class='btn-area half' id="roadAddrSelectPartBtn">
              <button type='button' class='btn l-l white border-b' onclick="javascript:openPostSearch('0');">다시검색</button>
              <button type='button' class='btn l-l black' onclick="javascript:refinePost('1');return false;">등록</button>
            </div>
            
            <!-- 도로명 검색 결과 -->
            <ul class="add-search-list" id="roadAddrListPart">
              
            </ul>
            
            <!-- 도로명 더보기 -->
            <div class="btn-area" id="roadAddrMoreBtnArea" >
              <button type="button"  onclick="javascript:searchPostSubmit('1', '0')"><span></span></button>
            </div>
        </div>
        
        <!-- 지번탭 -->
        <div class="tab-cont-item">
          <!-- 지번 검색 -->
          <div class="srch-box mt8" id="addrSearchDiv">
              <div class="ipt-wrap is-srch">
                <input type="text" class="ipt" placeholder="지번 주소를 입력해주세요" title="지번 주소 입력" id="dongName" name="dongName" value="">
              </div>
              <button type="button" class="btn-srch" onclick="javascript:searchPostSubmit('0', '1')">
                <span class="hidden">검색</span>
              </button>
            </div>
            
            <!-- 지번 총 건수 -->
            <div class="side-info mt24" id="addrCount">
              
            </div>
            
            <!-- 지번 검색 결과 선택  -->
            <div class="address-hang-wrap" id="addrSelectPart">
              <ul class="add-search-list type-result">
                <li>
                  <div class="address-result">
                    <dl>
                      <dt class='zip'></dt>
                      <dd>
                        <strong>지번</strong>
                        <span id="addrSpanTag"></span>
                      </dd>
                      <dd>
                        <strong>도로명</strong>
                        <span id="roadAddrSpanTag"></span>
                      </dd>
                    </dl>
                  </div>
                </li>
              </ul>
              <input type='hidden' id='sltDisplayRoadPostNo_2' value='' readonly='readonly'>
              <input type='hidden' id='sltDisplayBaseRoadAddr_2' value='' readonly='readonly'>
              </span><input type='hidden' id='sltDisplayBaseAddr_2' value='' readonly='readonly'>
              <div class="ipt-wrap mt20">
                <input type="text" class="ipt delete" placeholder="상세 주소를 입력해주세요 " id='inputDetailAddr' >
               </div>
            </div>
            <div class='btn-area half' id="addrSelectPartBtn">
              <button type='button' class='btn l-l white border-b' onclick="javascript:openPostSearch('0');">다시검색</button>
              <button type='button' class='btn l-l black' onclick="javascript:refinePost('0');return false;">등록</button>
            </div>
            
            <!-- 지번 검색 결과 -->
            <ul class="add-search-list" id="addrListPart">
            
            </ul>
            
            <!-- 지번 더보기 -->
            <div class="btn-area" id="addrMoreBtnArea">
              <button type="button" onclick="javascript:searchPostSubmit('0', '0')"><span></span></button>
            </div>
        </div>
      </div>
      <dl class="search-tip" id="postAddr_tip" >
        <dt>빠른 검색을 위한 TIP</dt>
        <dd>
          <ul>
            <li>
              <dl id="postAddr_tip_1">
                <dt>도로명 + 건물번호</dt>
                <dd>예) 동호로 310</dd>
              </dl>
            </li>
            <li>
              <dl id="postAddr_tip_2">
                <dt>지역명 + 건물명</dt>
                <dd>예) 동호로 310</dd>
              </dl>
            </li>
          </ul>
        </dd>
      </dl>
    </div>
    <button type="button" class="btn-popup-close" onclick='javascript:closePostPage();'>팝업 닫기</button>
  </div>
</div>

  <input type="hidden" id="temp_sltPostNo" value="" >
  <input type="hidden" id="temp_sltBaseAddr" value="" >
  <input type="hidden" id="temp_sltDetailAddr" value="" >
  <input type="hidden" id="temp_selectAddr" value="" > <!-- 주소선택구분[1]입력[2]도로명[3]표준지번 -->
  <input type="hidden" id="temp_stdPost" value="" >
  <input type="hidden" id="temp_stdPostAddr1" value="" >
  <input type="hidden" id="temp_stdPostAddr2" value="" >
  <input type="hidden" id="temp_stdRoadPost" value="" >
  <input type="hidden" id="temp_stdRoadPostAddr1" value="" >
  <input type="hidden" id="temp_stdRoadPostAddr2" value="" >
  <input type="hidden" id="temp_sltPostSeq" name="temp_sltPostSeq" value="" >
  <input type="hidden" id="temp_sltCustAreaGb" name="temp_sltCustAreaGb" value="" >
  <input type="hidden" id="temp_sltRoadAddrNo" name="temp_sltRoadAddrNo" value="" >
  <input type="hidden" id="temp_sltRoadAddrYn" name="temp_sltRoadAddrYn" value="" >
  <input type="hidden" id="temp_refineResultCode" name="temp_refineResultCode" value="" >
  <input type="hidden" id="temp_stdPostSeq" name="temp_stdPostSeq" value="" >
  <input type="hidden" id="temp_stdPostLngx" name="temp_stdPostLngx" value="" >
  <input type="hidden" id="temp_stdPostLaty" name="temp_stdPostLaty" value="" >
  <input type="hidden" id="temp_stdRoadPostSeq" name="temp_stdRoadPostSeq" value="" >
  <input type="hidden" id="temp_stdRoadPostLngx" name="temp_stdRoadPostLngx" value="" >
  <input type="hidden" id="temp_stdRoadPostLaty" name="temp_stdRoadPostLaty" value="" >
  <input type="hidden" id="temp_stdRoadNnmb" name="temp_stdRoadNnmb" value="" >
  <input type="hidden" id="sltDefaultInputAddrYn" name="sltDefaultInputAddrYn" value="" >
  <input type="hidden" id="postCurrentPage" value="1">
  <input type="hidden" id="postTotalPage" value="0">

  <script>
  $(function() {
    // 도로명 탭 주소명 엔터 검색
		$("#roadName").on("keyup", function(e){
		  if(13 == e.keyCode){
		    searchPostSubmit("1", '1');
		  }
		});
    
		// 지번 탭 주소명 엔터 검색
		$("#dongName").on("keyup", function(e){
		  if(13 == e.keyCode){
		    searchPostSubmit("0", '1');
		  }
		});
		
		// 시/도 변경시
		$("#cityCode").on("change", function(){
		  var cityCode = $(this).val();
		  var param = {"cityCode":cityCode}
		  if(cityCode !== "" && cityCode !== null){
		    
		    var htm = new Array();
		    htm.push("<option value=''>시/군/구 선택</option>");
		    
		    $.ajax({
		      url : '/common/guCodeList',
		  	  type : 'GET',
		  	  data : param,
		  	  headers: {
		  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		  		},
		      success: function(result){
		        $.each(result.resultData, function(idx, item){
		          htm.push("<option value='"+ item.guCode +"'>" + item.guName + "</option>")
		        })
		        
		        $("#guCode").empty().append(htm.join(''));
    				$("#guCode option:first").attr('selected', 'selected');
		      },error: function(jqXHR, textStatus, errorThrown){
		        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
		      }
		   })
		  }
		})
  });

 var openPostForEdit = "0";      // 1 : 주문서페이지에서 배송지 추가/수정을 위한 주소 검색

// 주소찾기 팝업
function openPostSearch(editPopYn){
   
  if(editPopYn != "0"){
    openPostForEdit = "_" + editPopYn; 
  }
   
  popup.open('#postPop');
  
  /* 주소정제 */ 
  $("#addrListPart").empty();
  $("#roadAddrListPart").empty();
  $("input#dongName").val("");
  $("input#roadName").val("");
  $("select#guCode").val("");
  $("select#cityCode").val("");
  
  $("input#sltDisplayRoadPostNo_1").val("");
  $("input#sltDisplayBaseRoadAddr_1").val("");
  $("input#sltDisplayBaseAddr_1").val("");
  $("input#inputDetailRoadAddr").val("");
  
  $("input#sltDisplayRoadPostNo_2").val("");
  $("input#sltDisplayBaseRoadAddr_2").val("");
  $("input#sltDisplayBaseAddr_2").val("");
  $("input#inputDetailAddr").val("");
  
  $("input#temp_sltPostNo").val("")
  $("input#temp_sltBaseAddr").val("") 
  
  $("#addrResultPart").hide();
  $("#addrSelectDiv").hide();
  $("#postAddr_tip").show();
  
  $("#tapRoadPart").click();	// 도로명 탭
}

// 도로명 탭 클릭시
function postPopRoadTapPart(){
	$("input#dongName").val("");
	$("input#roadName").val("");
	$("select#guCode").val("");
	$("select#cityCode").val("");
	
	$("input#sltDisplayRoadPostNo_1").val("");
  $("input#sltDisplayBaseRoadAddr_1").val("");
  $("input#sltDisplayBaseAddr_1").val("");
  $("input#inputDetailRoadAddr").val("");
	
	$("input#temp_sltPostNo").val("");
	$("input#temp_sltBaseAddr").val("");
	
	$("input#temp_stdPost").val("");
	$("input#temp_stdPostSeq").val("");
	$("input#temp_stdPostAddr1").val("");
	$("input#temp_stdPostAddr2").val("");
	$("input#temp_stdPostLngx").val("");
	$("input#temp_stdPostLaty").val("");
	
	$("input#temp_stdRoadPost").val("");
	$("input#temp_stdRoadPostSeq").val("");
	$("input#temp_stdRoadPostAddr1").val("");
	$("input#temp_stdRoadPostAddr2").val("");
	$("input#temp_stdRoadPostLngx").val("");
	$("input#temp_stdRoadPostLaty").val("");
	
	$("input#temp_refineResultCode").val("");
	
	$("#roadSearchDiv").show();
	$('#roadAddrListPart').empty().show();
	$('#roadAddrSelectPart').hide();
	$('#roadAddrSelectPartBtn').hide();
	$('#roadAddrMoreBtnArea').hide();
	$('#roadAddrCount').hide();
	
	tipTextChange("1");
	
	$("#roadAddrSearchDiv").show();
	$('#postAddr_tip').show();
}

// 지번 탭 클릭시
function postPopAddrTapPart(){
	$("#guCode").empty();
  $("#guCode").append("<option value=''>시/군/구 선택</option>");

	$("input#dongName").val("");
	$("input#roadName").val("");
	
	$("input#sltDisplayRoadPostNo_2").val("");
  $("input#sltDisplayBaseRoadAddr_2").val("");
  $("input#sltDisplayBaseAddr_2").val("");
  $("input#inputDetailAddr").val("");
	
	$("input#temp_sltPostNo").val("");
	$("input#temp_sltBaseAddr").val(""); 
	
	$("input#temp_stdPost").val("");
	$("input#temp_stdPostSeq").val("");
	$("input#temp_stdPostAddr1").val("");
	$("input#temp_stdPostAddr2").val("");
	$("input#temp_stdPostLngx").val("");
	$("input#temp_stdPostLaty").val("");
	
	$("input#temp_stdRoadPost").val("");
	$("input#temp_stdRoadPostSeq").val("");
	$("input#temp_stdRoadPostAddr1").val("");
	$("input#temp_stdRoadPostAddr2").val("");
	$("input#temp_stdRoadPostLngx").val("");
	$("input#temp_stdRoadPostLaty").val("");
	
	$("input#temp_refineResultCode").val("");
	
	$('#addrListPart').empty().show();
	$('#addrSelectPart').hide();
	$('#addrSelectPartBtn').hide();
	$('#addrMoreBtnArea').hide();
	$('#addrCount').hide();
	
	tipTextChange("0");
	
	$('#addrSearchDiv').show();
	$('#postAddr_tip').show();
}

// 검색 버튼 클릭시
function searchPostSubmit(postAddrFlag, firstYn){
	
	var dongName = "";
	var cityCode = "";
	var guCode = "";
	var roadName = "";
	
	var currentPage = "1";
  var rowsPerPage = "10";	//Number($("input#rowsPerPage").val());
  var totalCount = '0';
  
  if(firstYn != "1"){
    currentPage = $('#postCurrentPage').val();
    totalCount = $('#postTotalPage').val();
  }
  
	$("#addrResultMsgPart").hide();
	$("#roadAddrResultMsgPart").hide();
	
	if( "1" == postAddrFlag){
	  $('#roadAddrMoreBtnArea').hide();
  	cityCode = $("#cityCode > option:selected").val();
    guCode = $("#guCode > option:selected").val();
		roadName = $.trim($("input#roadName").val());
			
		if( cityCode == ""){
			var msg = "시/도를 선택해 주세요.";
			alert(msg);
			$("#cityCode").focus();
			return false;
		}
		
		if( guCode == ""){
			var msg = "시/군/구를 선택해 주세요.";
			alert(msg);
			$("#guCode").focus();
			return false;
		}
		
		if( roadName == ""){
			var msg = "도로명을 입력해 주세요.";
			alert(msg);
			$("#roadName").focus();
			return false;
		}
		
		if( 2 > roadName.length ){
			var msg = "도로명은 2글자 이상 입력해 주세요.";
			alert(msg);
			$("#dongName").focus();
			return false;
		}
	}else{
	  $("#addrMoreBtnArea").hide();
		dongName = $.trim($("input#dongName").val());
		
		if( dongName == ""){
			var msg = "지역명을 입력해 주세요.";
			alert(msg);
			$("#dongName").focus();
			return false;
		}
		
		if( 2 > dongName.length ){
			var msg = "지역명은 2글자 이상 입력해 주세요.";
			alert(msg);
			$("#dongName").focus();
			return false;
		}
	}
	
	if(firstYn != '1' && totalCount > currentPage * rowsPerPage){
	  currentPage ++;
	  $('#postCurrentPage').val(currentPage);
	}
	
	var params = {
	    'postAddrFlag' : postAddrFlag,
	    'dongName' : dongName,
	    'cityCode' : cityCode,
	    'guCode' : guCode,
	    'roadName' : roadName,
	    'currentPage' : currentPage,
	    'rowsPerPage' : rowsPerPage
	}
	
	$.ajax({
    url : '/common/postnoList',
	  type : 'GET',
	  data : params,
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
    success: function(result){
    var data = result.resultData;
    
    if( "1" == postAddrFlag ){ // 1 : 도로명 주소
      var htm = [];
    	var totalCount = 0;
    	
  		if("0" == data.postAddrList.length) {
  		  $("#roadAddrListPart").html("<li class='no-data'><strong>'"+params.roadName+"'</strong>에 대한 검색결과가 없습니다.</li>");
  		  $('#roadAddrMoreBtnArea').hide();
				$("#postAddr_tip").show();
  		}  else {
  		  if(firstYn == "1"){
  		    $("#roadAddrListPart").empty();
  		  }
				$("#postAddr_tip").hide();
				
				$.each(data.postAddrList, function(index, model){
				  
				  htm = "";	
					htm += "<li>";
					htm += "<button type='button'>";
					htm += "<dl class='addr_detail'>";
					htm += "<dt class='zip'>"+model.postNo+"</dt>";
					htm += "<dd><strong>도로명</strong><span>"+model.cityName+" "+model.guName+" "+model.roadPostAddr+"</span></dd>";
					htm += "<dd><strong>지번</strong><span>"+model.cityName+" "+model.guName+" "+model.postAddr+"</span></div>";
					htm += "</dl>";
					htm += "</button>";
					htm += "</li>";
					
					var html = $(htm);
					html.data("model", model).on('click', function(){
					  selectPost(model.postNo, model.postSeq, model.cityName+" "+model.guName+" "+model.roadPostAddr , model.custAreaGb, model.roadAddrNo, model.cityName+" "+model.guName+" "+model.postAddr , '1');
					}); 
					
					totalCount = model.totalCount;
					$("#roadAddrListPart").append(html);
		  	});
				
				if(1000 <= totalCount){
	  		  $("#roadAddrListPart").html("<li class='no-data'><strong>'"+params.roadName+"'</strong>에 대한 검색결과가 너무 많습니다. <br> 검색어를 상세히 입력해주세요.</li>");
	  		  $("#postAddr_tip").show();
	  		}else{
	  		  if(totalCount > currentPage * rowsPerPage){
	  		    $('#roadAddrMoreBtnArea').show();
	  		    $('#roadAddrMoreBtnArea button span').html('더보기 <em>(' + currentPage * rowsPerPage + '/' + totalCount + ')</em>');
          } else {
            $('#roadAddrMoreBtnArea').hide();
          }
	  		}

				$("#postTotalPage").val(totalCount);
      }
  		
			// 검색 결과 총 개수 처리
			$('#roadAddrCount').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
			$('#roadAddrCount').show();
			
		}else{
			var htm = [];
			var totalCount = 0;
			var modelRoadPostAddr;

			if("0" == data.postAddrList.length) {
				$("#addrListPart").html("<li class='no-data'><strong>'"+params.dongName+"'</strong>에 대한 검색결과가 없습니다.</li>");
  			$("#postAddr_tip").show();
			} else {
			  if(firstYn == "1"){
			    $("#addrListPart").empty();
			  }
				$("#postAddr_tip").hide();
				
				$.each(data.postAddrList, function(index, model){
				  htm = "";	
					htm += "<li>";
					htm += "<button type='button'>";
					htm += "<dl class='addr_detail'>";
					htm += "<dt class='zip'>"+model.postNo+"</dt>";
					
					if(model.roadPostAddr != null){
					  modelRoadPostAddr = model.cityName+" "+model.guName+" "+model.roadPostAddr;
					}else{
					  modelRoadPostAddr =  "검색된 도로명이 없습니다.";
					}
					htm += "<dd><strong>지번</strong><span>"+model.dongdtName+"</span></div>";
					htm += "<dd><strong>도로명</strong><span>"+modelRoadPostAddr+"</span></dd>";
					htm += "</dl>";
					htm += "</button>";
					htm += "</li>";
					
					var html = $(htm);
					html.data("model", model).on('click', function(){
					  selectPost(model.postNo, model.postSeq, model.dongdtName, model.custAreaGb, '', modelRoadPostAddr, '0');
					});
					
					totalCount = model.totalCount;
					$("#addrListPart").append(html);
				});
  				if(1000 <= totalCount){
  	  		  $("#addrListPart").html("<li class='no-data'><strong>'"+params.roadName+"'</strong>에 대한 검색결과가 너무 많습니다. <br> 검색어를 상세히 입력해주세요.</li>");
  	  		  $('#addrMoreBtnArea').hide();
  	  		  $("#postAddr_tip").show();
  	  		}else{
  	  			// 더보기 버튼
  	  		  if(totalCount > currentPage * rowsPerPage){
  	  		    $('#addrMoreBtnArea').show();
  	  		    $('#addrMoreBtnArea button span').html('더보기 <em>(' + currentPage * rowsPerPage + '/' + totalCount + ')</em>');
            } else {
              $('#addrMoreBtnArea').hide();
            }
  	  		}

					$("#postTotalPage").val(totalCount);
				}
  			// 검색 결과 총 개수 처리
  			$('#addrCount').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
  			$('#addrCount').show();
  		}
    },error: function(jqXHR, textStatus, errorThrown){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
    }
  });
}

//주소 조회 선택(정제 이후)
function selectPost(p1, seq, addr, agb, road, addr2, roadYn) {
	if(roadYn == "1" ){
		$("#roadSearchDiv").hide();
		$("#roadAddrSearchDiv").hide();
		$("#roadAddrListPart").empty().hide();
    $("#roadAddrCount").hide();
    $("#roadAddrPaging").hide();
    $("#roadAddrMoreBtnArea").hide();
    
    $("#roadAddrSelectPart").show();
    $("#roadAddrSelectPartBtn").show();
    $("#roadAddrSelectPart .zip").text(p1);
    $("#roadAddrSelectPart #roadAddrSpanTag").text(addr);
    $("#roadAddrSelectPart #addrSpanTag").text(addr2);
    
    $("input#sltDisplayRoadPostNo_1").val(p1);
  	$("input#sltDisplayBaseRoadAddr_1").val(addr);
  	$("input#sltDisplayBaseAddr_1").val(addr2);
	  $("input#inputDetailRoadAddr").focus();
	  
	}else{
    $("#addrSearchDiv").hide();
    $("#addrListPart").empty().hide();
    $("#addrCount").hide();
	  $("#addrPaging").hide();
	 	$("#addrMoreBtnArea").hide();
	  
	  $("#addrSelectPart").show();
	  $("#addrSelectPartBtn").show();
    $("#addrSelectPart .zip").text(p1);
    $("#addrSelectPart #roadAddrSpanTag").text(addr2);
    $("#addrSelectPart #addrSpanTag").text(addr);
    
    $("input#sltDisplayRoadPostNo_2").val(p1);
  	$("input#sltDisplayBaseRoadAddr_2").val(addr2);
  	$("input#sltDisplayBaseAddr_2").val(addr);
	  $("input#inputDetailAddr").focus();
	}
	
	$("input#temp_sltPostNo").val(p1);
	$("input#temp_sltBaseAddr").val(addr);
	$("input#temp_sltDetailAddr").val("");
	
	$("input#temp_sltPostSeq").val(seq);
	$("input#temp_sltCustAreaGb").val(agb);
	$("input#temp_sltRoadAddrNo").val(road);
	$("input#temp_sltRoadAddrYn").val(roadYn);
}


// 주소 최종  선택(정제 이후)
function selectPostParamSetting(postNo, postSeq, baseAddr, postGb, roadNo, roadYn){
    var param = new Object();
    
  	param['post01'] = postNo;
  	param['post02'] = "";
  	param['postSeq'] = postSeq;
  	param['baseAddr'] = baseAddr;
  	param['custAreaGb'] = postGb;
  	param['roadAddrNo'] = roadNo;
  	param['receiverSeq'] = "";
  	param['roadAddrYn'] = roadYn;
  	
  	param['sltPostNo'] = $("input#sltPostNo").val();
  	param['sltPostSeq'] = $("input#sltPostSeq").val();
  	param['sltBaseAddr'] = $("input#sltBaseAddr").val();
  	param['sltDetailAddr'] = $("input#sltDetailAddr").val();
  	param['sltRoadAddrNo'] = $("input#sltRoadAddrNo").val();
  	param['sltRoadAddrYn'] = $("input#sltRoadAddrYn").val();
  	param['refineResultCode'] = $("input#refineResultCode").val();
  	param['selectAddr'] = $("input#selectAddr").val();
  	
  	param['stdPost'] = $("input#stdPost").val();
  	param['stdPostSeq'] = $("input#stdPostSeq").val();
  	param['stdPostAddr1'] = $("input#stdPostAddr1").val();
  	param['stdPostAddr2'] = $("input#stdPostAddr2").val();
  	param['stdPostLngx'] = $("input#stdPostLngx").val();
  	param['stdPostLaty'] = $("input#stdPostLaty").val();	
  
  	param['stdRoadPost'] = $("input#stdRoadPost").val();
  	param['stdRoadPostSeq'] = $("input#stdRoadPostSeq").val();
  	param['stdRoadPostAddr1'] = $("input#stdRoadPostAddr1").val();
  	param['stdRoadPostAddr2'] = $("input#stdRoadPostAddr2").val();
  	param['stdRoadPostLngx'] = $("input#stdRoadPostLngx").val();
  	param['stdRoadPostLaty'] = $("input#stdRoadPostLaty").val();
  	param['stdRoadNnmb'] = $("input#stdRoadNnmb").val();
  	
  	callbackPostPop(JSON.stringify(param));
} 

//주소 정제
function refinePost(roadYn){
	var param = new Object();
	
	var SearchMode = "J";
	var postNo = "";
	var baseAddr = "";
	var $detailAddrEle = "";
	var detailAddr = "";
	var checkWord = /[#$%^*]/;
	
	if( roadYn == "1" ){	// 입력 주소구분(J:지번, N:새길)	
		SearchMode = "N";
		postNo = $("input#sltDisplayRoadPostNo_1").val();
		baseAddr = $("input#sltDisplayBaseRoadAddr_1").val();
		$detailAddrEle = $("input#inputDetailRoadAddr");
		detailAddr = $detailAddrEle.val().trim();
	}else{
		SearchMode = "J";
		postNo = $("input#sltDisplayRoadPostNo_2").val();
		baseAddr = $("input#sltDisplayBaseAddr_2").val();
		$detailAddrEle = $("input#inputDetailAddr");
		detailAddr = $detailAddrEle.val().trim();
	}
	
	if(detailAddr == "" ){
		alert("상세 주소를 입력해 주세요.");
		return false;
	}
	
	if(checkWord.test(detailAddr)){
    	alert("상세 주소에 특수문자는 입력할 수 없습니다.");
    	return false;
	}
  
	$("input#temp_sltPostNo").val(postNo);
	$("input#temp_sltBaseAddr").val(baseAddr);
	$("input#temp_sltDetailAddr").val(detailAddr);
	
  param['zipcode'] = postNo;
  param['addr1'] = baseAddr;
  param['addr2'] = detailAddr;
  param['searchMode'] = SearchMode;
  param['unifiedYn'] = "0"; // 통합주소검색 팝업 사용여부
	
  $.ajax({
    url : '/interfaces/refine-post',
	  type : 'GET',
	  data : param,
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
    success: function(result){
      
      var refinePost = result.resultData.refinePost;
      var custAreaGb = $("#input#temp_sltCustAreaGb").val();
      
			if( refinePost.resCode == "I" || refinePost.resCode == "H" ){
				var refinePostData = refinePost.refinePostData;
	  		
				if(openPostForEdit != "0"){
				// 주문서 페이지의 배송지 작성 팝업 안에서 주소 검색 팝업 open --> 주문서 페이지의 주소 데이터를 수정하면 안됨.
          $("#editPopPost").val(refinePostData.zprnr);
          $("#editPopBaseAddr").val(refinePostData.nadr1S);
          $("#editPopDetailAddr").val(refinePostData.nadr2S);
          
          $("#editPopRoadAddrNo").val(refinePostData.nnmb);
          $("#editPopRoadAddrYn").val("1");
          
          $("input#sltPostNo"+openPostForEdit).val(postNo);
          $("input#sltPostSeq"+openPostForEdit).val(refinePostData.zprnsr);
          $("input#sltBaseAddr"+openPostForEdit).val(baseAddr);
          $("input#sltDetailAddr"+openPostForEdit).val(detailAddr);
          $("input#sltRoadAddrNo"+openPostForEdit).val(refinePostData.nnmb);
          $("input#sltRoadAddrYn"+openPostForEdit).val("1");
          
          $("input#refineResultCode"+openPostForEdit).val(refinePost.resCode);
          $("input#selectAddr"+openPostForEdit).val("2");
                      
          $("input#stdPost"+openPostForEdit).val(refinePostData.zprnj);
          $("input#stdPostSeq"+openPostForEdit).val(refinePostData.zprnsjb);
          $("input#stdPostAddr1"+openPostForEdit).val(refinePostData.addr1Y);
          $("input#stdPostAddr2"+openPostForEdit).val(refinePostData.stdaddr);
          $("input#stdPostLngx"+openPostForEdit).val(refinePostData.gisx);
          $("input#stdPostLaty"+openPostForEdit).val(refinePostData.gisy);
          
          $("input#stdRoadPost"+openPostForEdit).val(refinePostData.zprnr);
          $("input#stdRoadPostSeq"+openPostForEdit).val(refinePostData.zprnsr);
          $("input#stdRoadPostAddr1"+openPostForEdit).val(refinePostData.nadr1S);
          $("input#stdRoadPostAddr2"+openPostForEdit).val(refinePostData.nadr2S);
          $("input#stdRoadPostLngx"+openPostForEdit).val(refinePostData.nnmx);
          $("input#stdRoadPostLaty"+openPostForEdit).val(refinePostData.nnmy);
          
          $("input#stdRoadNnmb"+openPostForEdit).val(refinePostData.nnmb);
          $("input#custAreaGb"+openPostForEdit).val(custAreaGb).trigger("change");
          $(".completePostSearch"+openPostForEdit).show();
			  }else{
			    $("#post01").val(refinePostData.zprnr);
          $("input[name=addr]").val(refinePostData.zprnr);
          $("#baseAddr").val(refinePostData.nadr1S);
          $("#detailAddr").val(refinePostData.nadr2S);
          
          $("#receiverPostSeq").val(refinePostData.zprnsr);
          $("#roadAddrNo").val(refinePostData.nnmb);
          $("#roadAddrYn").val("1");
          
          $("input#sltPostNo").val(postNo);
          $("input#sltPostSeq").val(refinePostData.zprnsr);
          $("input#sltBaseAddr").val(baseAddr);
          $("input#sltDetailAddr").val(detailAddr);
          $("input#sltRoadAddrNo").val(refinePostData.nnmb);
          $("input#sltRoadAddrYn").val("1");
          
          $("input#refineResultCode").val(refinePost.resCode);
          $("input#selectAddr").val("2");
                      
          $("input#stdPost").val(refinePostData.zprnj);
          $("input#stdPostSeq").val(refinePostData.zprnsjb);
          $("input#stdPostAddr1").val(refinePostData.addr1Y);
          $("input#stdPostAddr2").val(refinePostData.stdaddr);
          $("input#stdPostLngx").val(refinePostData.gisx);
          $("input#stdPostLaty").val(refinePostData.gisy);
          
          $("input#stdRoadPost").val(refinePostData.zprnr);
          $("input#stdRoadPostSeq").val(refinePostData.zprnsr);
          $("input#stdRoadPostAddr1").val(refinePostData.nadr1S);
          $("input#stdRoadPostAddr2").val(refinePostData.nadr2S);
          $("input#stdRoadPostLngx").val(refinePostData.nnmx);
          $("input#stdRoadPostLaty").val(refinePostData.nnmy);
          
          $("input#stdRoadNnmb").val(refinePostData.nnmb);
          $("#custAreaGb").val(custAreaGb).trigger("change");
			  
			    selectPostParamSetting(refinePostData.zprnr, refinePostData.zprnsr, refinePostData.nadr1S, custAreaGb, refinePostData.nnmb, roadYn);
			     
			  }
			  
				closePostPage();
	  		
			}else{
				alert("매칭된 지번/도로명 주소가 없습니다.");
			}
  	}, error: function(jqXHR, textStatus, errorThrown){
      alert("매칭된 지번/도로명 주소가 없습니다.");
  	}
  });
}

//팝업 닫기
function closePostPage(){
  popup.close("#postPop");
  
  // 배송지 관리 페이지 : 추가/수정 팝업 노출
  var path = window.location['pathname'];
  if(path.indexOf("/mypage/receiverList") > -1){
      $('#ship_pop').css("display","block");
  }
  
  // 주문서 페이지 : 배송지 작성 팝업 안에서 주소 검색 팝업 open
  if(openPostForEdit == "editPop"){
      $('#editPop').fadeIn('300');
      openPostForEdit = "0";
  }
}

//tip 문구 설정
function tipTextChange(addrPostYn){
  if(addrPostYn == '1'){
    $("#postAddr_tip_1 dt").text("도로명 + 건물번호");
    $("#postAddr_tip_1 dd").text("예) 동호로 310");
    $("#postAddr_tip_2 dt").text("지역명 + 건물명");
    $("#postAddr_tip_2 dd").text("예) 장충동 태광산업");
  }else{
    $("#postAddr_tip_1 dt").text("지역명 + 번지");
    $("#postAddr_tip_1 dd").text("예) 장충동2가 162-1");
    $("#postAddr_tip_2 dt").text("지역명 + 건물명");
    $("#postAddr_tip_2 dd").text("예) 장충동 태광산업");
  }
}
</script>












 





 
   
 
 
 


    



  
              
  
  







<div class="popup full scroll" id="postPopUnified">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>주소찾기</h2>
    </div>
    <div class="popup-content type-mg0">
      <div class="address-hang-wrap">
        <div class="srch-box mt24">
          <div class="ipt-wrap is-srch" id="addr_form_wrap">
            <input type="text" class="ipt"  placeholder="도로명주소 또는 지번을 입력해주세요" title="주소 입력" id="addr_keyword" autocomplete="off">
          </div>
          <button type="button" class="btn-srch" onclick="javascript:getAddrLoc('1');">
            <span class="hidden">검색</span>
          </button>
        </div>
        <!-- 총 건수 -->
        <div class="side-info mt24" id="addr_count">
              <span>총 <string></string>건</span>
        </div>
        <!-- 검색 결과 -->
        <ul class="add-search-list" id="addr_list">
          
        </ul>
        <!--  더보기  -->
        <div class="btn-area" id="addr_moreBtnArea" style="display:none">
          <button type="button" onclick=""><span></span></button>
        </div>
        
        <dl class="search-tip" id="addrUnified_tip" >
          <dt>빠른 검색을 위한 TIP</dt>
          <dd>
            <ul>
              <li>
                <dl>
                  <dt>도로명 + 건물번호</dt>
                  <dd>예) 서울 세종대로 99</dd>
                </dl>
              </li>
              <li>
                <dl>
                  <dt>읍/면/동/리 + 지번</dt>
                  <dd>예) 문래동3가 55-7</dd>
                </dl>
              </li>
              <li>
                <dl>
                  <dt>건물명</dt>
                  <dd>예) 독립기념관</dd>
                </dl>
              </li>
            </ul>
          </dd>
        </dl>
        
        <!--  상세 주소 입력란  -->
        <div id="addr_detail" style="display: none;">
        </div>
        
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick="javascript:closeUnifiedPostPage();">팝업 닫기</button>
  </div>
</div>


<input type="hidden" id="addrCurrentPage" value="1"/>
<input type="hidden" id="addrTotalPage" value="0"/>
<input type="hidden" id="addrRowsPerPage" value="10"/>
<input type="hidden" id="resultType" value="json"/> 


<div class="popup full scroll" id="postPopDaum">
  <div class="popup-inner" style="height: 100%;">
    <div class="popup-header">
      <h2>주소찾기</h2>
    </div>
    <div class="popup-content pr0 pl0 pb0" id="postPopDaumBody" style="height: 100%;">
    
    </div>
    <button type="button" class="btn-popup-close" onclick="javascript:closeDaumPostPage();">팝업 닫기</button>
  </div>
</div>

<div class="popup full scroll" id="postPopDaumSet">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>주소찾기</h2>
    </div>
    <div class="popup-content" id="postPopDaumBodySet">
         <!--  상세 주소 입력란  -->
        <div id="daum_addr_detail" style="display: none;">
        </div>
        
        <div class='btn-area half' id="daum_addr_detailBtn" style="display:none;">
          <button type='button' class='btn l-l white border-b' onclick='javascript:openPostDaum("0");'>다시검색</button>
          <button type='button' class='btn l-l black' onclick='javascript:refineUnifiedPost("daum");return false;'>등록</button>
        </div>
    </div>
    <button type="button" class="btn-popup-close" onclick="javascript:closeDaumPostSetPage();">팝업 닫기</button>
  </div>
</div>


<script>
$(function() {
  // 엔터
  $('input#addr_keyword').on('keyup', function(e){
    if (13 == e.keyCode) {
      e.keyCode = 0;
      getAddrLoc('1');
    }
  });
});
// 주소 검색 레이어 팝업 닫기
function closeUnifiedPostPage(){
    popup.close('#postPopUnified');
    
    // 배송지 관리 페이지 : 추가/수정 팝업 노출
    var path = window.location['pathname'];
    if(path.indexOf("/mypage/receiverList") > -1){
        $('#ship_pop').css("display","block");
    }
    
    // 주문서 페이지 : 배송지 작성 팝업 안에서 주소 검색 팝업 open
    if(openPostForEdit == "editPop"){
        $('#editPop').fadeIn('300');
        openPostForEdit = "0";
    }
}

// 주소 검색 전체 레이어 팝업 노출
var openPostForEdit = "0";      // 1 : 주문서페이지에서 배송지 추가/수정을 위한 주소 검색

function openPostSearchUnified(editPopYn){
  
  if(editPopYn != "0"){
    openPostForEdit = "_" + editPopYn; 
  }
  
  if(!$("#postPopUnified").hasClass('open')){
    popup.open('#postPopUnified');
  }
  
  // 기존 검색어 및 검색 결과 초기화
  $("#postPopUnified .srch-wrap").show(); // 검색
  $("#addr_keyword").val("");  // 검색어
  $('#addr_count').hide();   // 검색 결과 개수
  $('#addrUnified_tip').show();     // tip 문구
  $("#addr_list").empty().show();   // 검색 결과 리스트
  $('#addr_detail').hide();    // 상세 주소 입력란
  $('#addr_moreBtnArea').hide();		// 더보기
  
}

/* 주소 통합 검색 (행정안전부 API) */
function getAddrLoc(pageNum){
  var currentPage = "1";
  var rowsPerPage = $("#addrRowsPerPage").val();
  var totalCount = "0";
  
  if(pageNum == "1"){
    $('#addrCurrentPage').val(currentPage);
    $('#addrTotalPage').val(totalCount);
  }
  
  if(pageNum != "1"){
    currentPage = $('#addrCurrentPage').val();
    totalCount = $('#addrTotalPage').val();
  }
  
	// 검색어 체크
	if (!checkSearchedWord($("#addr_keyword").val())) {
		return ;
	}
	
	// 기존 검색어 및 검색 결과 초기화
	if($('#addr_count span').text() <= 0){
	  $("#addr_list").empty().show();		// 검색 결과 리스트
	}
	$('#addr_count').hide();		// 검색 결과 개수
	$('#addr_moreBtnArea').hide();
	$('#addrUnified_tip').hide();			// 기본 tip 문구
	$('#addr_detail').hide();		// 상세 주소 입력란
	
	if(pageNum != '1' && totalCount > currentPage * rowsPerPage){
	  currentPage ++;
	  $('#addrCurrentPage').val(currentPage);
	}
	
	// 행정안전부 API AJAX 호출
	var param = new Object();
	//param['currentPage'] = $("#addrCurrentPage").val();
	param['currentPage'] = currentPage;
	param['rowsPerPage'] = $("#addrRowsPerPage").val();
	param['resultType'] = $("#resultType").val();
	param['keyword'] = $("#addr_keyword").val();
	param['totalPages'] = 0;
	
	$.ajax({
    url : '/common/unifiedPostSearch',
	  type : 'GET',
	  data : param,
	  dataType: 'json',
    success: function(result){
      //var data = result.data;
  		if("0000" == result.resultCode) {
  			// 기존 검색 결과 초기화
  			if(pageNum == "1"){
  			  $("#addr_list").empty().show();
  			}
  			$("#addr_list").show();
  			
  			var object = JSON.parse(result.resultData);
  			
  			var errCode = object.results.common.errorCode;
  			var errDesc = object.results.common.errorMessage;
  			if(errCode != "0"){
  				// 행정안전부 API에서 에러 리턴
  				$('#addr_list').html('<li class="no-data">' + errDesc + '</li>');
  		
      		$('#addr_count').hide();
      		$('#addrUnified_tip').show();
      		$('#addr_detail').hide();
      		$('#addr_moreBtnArea').hide();
      	}else{
  				if(object != null){
  					var totalCount = object.results.common.totalCount;
						
  					if(totalCount == 0) {
  						// 조회 결과 없음총 
  						$('#addr_count').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
  						$('#addr_count').show();
  						
  						$('#addr_list').html('<li class="no-data">'+$("#addr_keyword").val()+'에 대한 검색결과가 없습니다.</li>');
  						$('#addr_list').show();
  						
  						$('#addrUnified_tip').show();
  					} else if(totalCount >= 1000) {
  						// 조회 결과 1000건 이상
  						$('#addr_count').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
  						$('#addr_count').show();

  						$('#addr_list').html('<li class="no-data"><strong>'+$("#addr_keyword").val()+'</strong>에 대한 검색결과가 너무 많습니다.<br>검색어를 상세히 입력해주세요.</li>');
  						$('#addr_list').show();
  						
  						$('#addrUnified_tip').show();
  						
  					} else {
  						// 검색 결과 총 개수 처리
  						$('#addr_count').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
  						$('#addr_count').show();
  						
  						// 검색 결과 리스트 처리
  						makeListJson(object);
  						if(totalCount > currentPage * rowsPerPage){
  						  $('#addr_moreBtnArea').show();
  		  		    $('#addr_moreBtnArea button span').html('더보기 <em>(' + currentPage * rowsPerPage + '/' + totalCount + ')</em>');
  		  		    $('#addr_moreBtnArea button').attr('onclick', 'javascript:getAddrLoc("0")')
  						}else{
  						  $('#addr_moreBtnArea').hide();
  						}
  					}
  					
  					$("#addrTotalPage").val(totalCount);
  				}
  			}
  		} else {
    		//alert(data.message);
  			$('#addrUnified_tip').show();
  		} 
    },error: function(jqXHR, textStatus, errorThrown){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
    }
	})
}

/* 검색어 체크 : 특수문자, 특정문자열(sql예약어의 앞뒤공백포함) 제거 */
function checkSearchedWord(obj){
	if(obj.length > 0){
		// 특수문자 제거
		var expText = /[%=><?#&+\\\"]/ ;
		if(expText.test(obj) == true){
			obj = obj.split(expText).join(""); 
  		alert('특수문자를 입력 할수 없습니다.');
  		//$('#addr_warring').html('<dt>특수문자를 입력 할수 없습니다.</dt>');
			
			$('#addr_count').hide();
  		$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
  		return false;
			
		}
		
		// 특정문자열(sql예약어의 앞뒤공백포함) 제거
		var sqlArray = new Array(
			//sql 예약어
			"OR", "SELECT", "INSERT", "DELETE", "UPDATE", "CREATE", "DROP", "EXEC",
             		 "UNION",  "FETCH", "DECLARE", "TRUNCATE" 
		);
		
		var regex;
		for(var i=0; i<sqlArray.length; i++){
			regex = new RegExp( sqlArray[i] ,"gi") ;
			
			if (regex.test(obj) ) {
				obj = obj.replace(regex, "");
				var errorMsg = "\"" + sqlArray[i]+"\"와(과) 같은 특정문자로 검색할 수 없습니다.";
				alert(errorMsg);
    		//$('#addr_warring').html('<dt>'+errorMsg+'</dt>');
        		
				$('#addr_count').hide();
    		$('#addrUnified_tip').show();
  			$("#addr_list").empty().show();
  			$('#addr_detail').hide();
  			$('#addr_moreBtnArea').hide();
    		
    		return false;
			}
		}
		
		// 검색어 길이 체크 (2~80)
		if(obj.length < 2) {
		  alert('검색어는 두 글자 이상 입력되어야 합니다.');
  		//$('#addr_warring').html('<dt>검색어는 두 글자 이상 입력되어야 합니다.</dt>');
    		
			$('#addr_count').hide();
  		$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
    	return false;
			
		} else if (obj.length > 80){
		  alert('80글자를 초과한 검색어는 검색이 불가능합니다.')
  		//$('#addr_warring').html('<dt>80글자를 초과한 검색어는 검색이 불가능합니다.</dt>');
    		
			$('#addr_count').hide();
  		$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
    	return false;
		}
		
		// 숫자만 입력
		expText = /^[0-9]+$/ ;
		if(expText.test(obj)){
		  alert('숫자만으로는 검색이 불가능합니다.');
    	//$('#addr_warring').html('<dt>숫자만으로는 검색이 불가능합니다.</dt>');
    		
			$('#addr_count').hide();
			$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
    	return false;
		}
		
		// 10자리 초과 숫자 포함
		expText = /\d{10,}/ ;
		if(expText.test(obj)){
		  alert('검색어에 너무 긴 숫자가 포함되어 있습니다.</br>(숫자10자 이하)');
    	//$('#addr_warring').html('<dt>검색어에 너무 긴 숫자가 포함되어 있습니다.</br>(숫자10자 이하)</dt>');
    		
			$('#addr_count').hide();
			$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
    	return false;
		}
	} else {
		// 검색어 없음
		alert('검색어를 입력해주세요.');
		//$('#addr_warring').html('<dt>검색어를 입력해주세요.</dt>');
		
		$('#addr_count').hide();
		$('#addrUnified_tip').show();
		$("#addr_list").empty().show();
		$('#addr_detail').hide();
		$('#addr_moreBtnArea').hide();
		return false;
	}
	return true ;
}

/* 주소 통합 검색 결과 노출 */
function makeListJson(jsonStr){
	
	$.each(jsonStr.results.juso, function(index, model){
		var htmlStr = "";
		
		htmlStr += "<li>";
		htmlStr += "<button type='button'>";
		htmlStr += "<dl class='addr_detail'>";
		htmlStr += "<dt class='zip'>"+this.zipNo+"</dt>";
		htmlStr += "<dd><strong>도로명</strong><span>"+this.roadAddr+"</span></dd>";
		htmlStr += "<dd><strong>지번</strong><span>"+this.jibunAddr+"</span></div>";
		htmlStr += "</dl>";
		htmlStr += "</button>";
		htmlStr += "</li>";
		
		var html = $(htmlStr);
		html.data("model", model).on('click', function(){
			selectUnifiedPost(model.zipNo, model.roadAddr, model.jibunAddr, model.bdMgtSn);
		});
		
		$("#addr_list").append(html);
	});
}

/* 주소 통합 검색 결과 리스트에서 주소 선택 */
function selectUnifiedPost(zipNo, roadAddr, jibunAddr, roadNo) {
	// 결과 리스트 미노출
	$('#addr_count').hide();		// 검색 결과 개수
	$("#addr_list").empty().show();		// 검색 결과 리스트
	$("#addr_list").hide();
	$('#addr_moreBtnArea').hide();			// 페이징
	
	// 선택한 주소 데이터 세팅
	var htmlStr = "";
	htmlStr += "<ul class='add-search-list type-result'>";
	htmlStr += "	 <li>";
	htmlStr += "	 <div class='address-result'>";
	htmlStr += "			<dl>";
	htmlStr += "				<dt class='zip' id='addr_detail_zip'>"+zipNo+"</dt>";
	htmlStr += "				<dd><strong>도로명</strong><span id='addr_detail_road'>"+roadAddr+"</span></dd>";
	htmlStr += "				<dd><strong>지번</strong><span>"+jibunAddr+"</span></dd>";
	htmlStr += "			</dl>";
	htmlStr += "	 	</div>";
	htmlStr += "		<div class='ipt-wrap mt20'>";
	htmlStr += "			<input type='text' class='ipt delete' id='addr_detail_input' placeholder='상세 주소를 입력해 주세요.'>";
	htmlStr += "		</div>";
	//htmlStr += "<input type='hidden' id='addr_detail_roadNo' value='"+roadNo+"' placeholder='상세 주소를 입력해 주세요.'>";
	htmlStr += "	 </li>";
	htmlStr += "<div class='btn-area half'>";
	htmlStr += "		<button type='button' class='btn l-l white border-b' onclick='javascript:openPostSearchUnified(\"0\");'>다시검색</button>";
	htmlStr += "		<button type='button' class='btn l-l black' onclick='javascript:refineUnifiedPost();return false;'>등록</button>";
	htmlStr += "</div>";
	htmlStr += "</ul>";
	
	$("#addr_detail").empty();
	$("#addr_detail_input").empty();
	$("#addr_detail").append(htmlStr);
	$("#postPopUnified .srch-wrap").hide();
	
	// 상세 주소 입력란 노출
	$('#addr_detail').show();		// 상세 주소 입력란	
	
}

/* 상세 주소 입력 후 주소 정제 */
function refineUnifiedPost(postSearchType) {
  var searchTypeId = "";
  if (postSearchType == 'daum') {
    searchTypeId = "daum_";
  }
  
  var postNo = $('#'+searchTypeId+'addr_detail_zip').text();
	var baseAddr = $('#'+searchTypeId+'addr_detail_road').text();
	var detailAddr = $('#'+searchTypeId+'addr_detail_input').val().trim();
	// var roadNo = $('#addr_detail_roadNo').val();
	if (postSearchType == 'daum') {
	  var roadNo = $('#daum_addr_detail_roadNo').val();
	}
	var searchMode = "N";
	
	var checkWord = /[#$%^*]/;
	
	if(detailAddr == ""){
	  alert("상세 주소를 입력해 주세요.");
	  $('#'+searchTypeId+'addr_detail_input').val("");
	  $('#'+searchTypeId+'addr_detail_input').focus();
    return false;
	}
	
	if(checkWord.test(detailAddr)){
    alert("상세 주소에 특수문자는 입력할 수 없습니다.");
    $('#'+searchTypeId+'addr_detail_input').focus();
    return false;
	}
	
	// 주소 정제
	var param = new Object();
		param['zipcode'] = postNo;
    param['addr1'] = baseAddr;
    param['addr2'] = detailAddr;
    param['SearchMode'] = searchMode;
    param['unifiedYn'] = "1";
		
    $.ajax({
      url : '/interfaces/refine-post',
  	  type : 'GET',
  	  data : param,
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(result){
  			var refinePost = result.resultData.refinePost;
  			var custAreaGb = result.resultData.custAreaGb;
  			if( ( refinePost.resCode == "I" || refinePost.resCode == "H" ) && custAreaGb != "" ) {
  				var refinePostData = refinePost.refinePostData;
  				
    				if(openPostForEdit != "0"){
              // 주문서 페이지의 배송지 작성 팝업 안에서 주소 검색 팝업 open --> 주문서 페이지의 주소 데이터를 수정하면 안됨.
              $("#editPopPost").val(refinePostData.zprnr);
              $("#editPopBaseAddr").val(refinePostData.nadr1S);
              $("#editPopDetailAddr").val(refinePostData.nadr2S);
              
              $("#editPopRoadAddrNo").val(refinePostData.nnmb);
              $("#editPopRoadAddrYn").val("1");
              
              $("input#sltPostNo"+openPostForEdit).val(postNo);
              $("input#sltPostSeq"+openPostForEdit).val(refinePostData.zprnsr);
              $("input#sltBaseAddr"+openPostForEdit).val(baseAddr);
              $("input#sltDetailAddr"+openPostForEdit).val(detailAddr);
              $("input#sltRoadAddrNo"+openPostForEdit).val(refinePostData.nnmb);
              $("input#sltRoadAddrYn"+openPostForEdit).val("1");
              
              $("input#refineResultCode"+openPostForEdit).val(refinePost.resCode);
              $("input#selectAddr"+openPostForEdit).val("2");
                          
              $("input#stdPost"+openPostForEdit).val(refinePostData.zprnj);
              $("input#stdPostSeq"+openPostForEdit).val(refinePostData.zprnsjb);
              $("input#stdPostAddr1"+openPostForEdit).val(refinePostData.addr1Y);
              $("input#stdPostAddr2"+openPostForEdit).val(refinePostData.stdaddr);
              $("input#stdPostLngx"+openPostForEdit).val(refinePostData.gisx);
              $("input#stdPostLaty"+openPostForEdit).val(refinePostData.gisy);
              
              $("input#stdRoadPost"+openPostForEdit).val(refinePostData.zprnr);
              $("input#stdRoadPostSeq"+openPostForEdit).val(refinePostData.zprnsr);
              $("input#stdRoadPostAddr1"+openPostForEdit).val(refinePostData.nadr1S);
              $("input#stdRoadPostAddr2"+openPostForEdit).val(refinePostData.nadr2S);
              $("input#stdRoadPostLngx"+openPostForEdit).val(refinePostData.nnmx);
              $("input#stdRoadPostLaty"+openPostForEdit).val(refinePostData.nnmy);
              
              $("input#stdRoadNnmb"+openPostForEdit).val(refinePostData.nnmb);
              $("input#custAreaGb"+openPostForEdit).val(custAreaGb).trigger("change");
              $(".completePostSearch"+openPostForEdit).show();
              
              if(openPostForEdit == "_mypageBasicEditPop"){
               	//값 셋팅 후 마이페이지 화면에서 저장
               	saveMypageBasicReceiver('mypageBasicEditPop');
            	}
              
          }else {
            
              $("#post01").val(refinePostData.zprnr);
              $("input[name=addr]").val(refinePostData.zprnr);
              $("#baseAddr").val(refinePostData.nadr1S);
              $("#detailAddr").val(refinePostData.nadr2S);
              
              $("#receiverPostSeq").val(refinePostData.zprnsr);
              $("#roadAddrNo").val(refinePostData.nnmb);
              $("#roadAddrYn").val("1");
              
              $("input#sltPostNo").val(postNo);
              $("input#sltPostSeq").val(refinePostData.zprnsr);
              $("input#sltBaseAddr").val(baseAddr);
              $("input#sltDetailAddr").val(detailAddr);
              $("input#sltRoadAddrNo").val(refinePostData.nnmb);
              $("input#sltRoadAddrYn").val("1");
              
              $("input#refineResultCode").val(refinePost.resCode);
              $("input#selectAddr").val("2");
                          
              $("input#stdPost").val(refinePostData.zprnj);
              $("input#stdPostSeq").val(refinePostData.zprnsjb);
              $("input#stdPostAddr1").val(refinePostData.addr1Y);
              $("input#stdPostAddr2").val(refinePostData.stdaddr);
              $("input#stdPostLngx").val(refinePostData.gisx);
              $("input#stdPostLaty").val(refinePostData.gisy);
              
              $("input#stdRoadPost").val(refinePostData.zprnr);
              $("input#stdRoadPostSeq").val(refinePostData.zprnsr);
              $("input#stdRoadPostAddr1").val(refinePostData.nadr1S);
              $("input#stdRoadPostAddr2").val(refinePostData.nadr2S);
              $("input#stdRoadPostLngx").val(refinePostData.nnmx);
              $("input#stdRoadPostLaty").val(refinePostData.nnmy);
              
              $("input#stdRoadNnmb").val(refinePostData.nnmb);
              $("#custAreaGb").val(custAreaGb).trigger("change");
              
              selectUnifiedPostParamSetting(refinePostData.zprnr, refinePostData.zprnsr, refinePostData.nadr1S, custAreaGb, refinePostData.nnmb, "1");
          
          }
          
          if (postSearchType == 'daum') {
            closeDaumPostSetPage();
          } else {
            closeUnifiedPostPage();
          }
        } else {
        	// 주소 정제 실패
        	alert('주소를 다시 검색해 주세요.')
        	//$('#addr_warring').html('<dt>주소를 다시 검색해 주세요.</dt>');
        	
          if (postSearchType == 'daum') {
            openPostDaum("0");
          } else {
            $("#addr_keyword").val("");	// 검색어
            $('#addr_count').hide();		// 검색 결과 개수
            $('#addrUnified_tip').show();			// tip 문구
            $("#addr_list").empty().show();		// 검색 결과 리스트
            $('#addr_detail').hide();		// 상세 주소 입력란
            $('#addr_moreBtnArea').hide();
          }
          
       		return false;
        }
    	}, error: function(jqXHR, textStatus, errorThrown){
    		// 주소 정제 실패
    		alert('주소를 다시 검색해 주세요.');
  			//$('#addr_warring').html('<dt>주소를 다시 검색해 주세요.</dt>');
  			
        if (postSearchType == 'daum') {
          openPostDaum("0");
        } else {
          $("#addr_keyword").val("");	// 검색어
          $('#addr_count').hide();		// 검색 결과 개수
          $('#addrUnified_tip').show();			// tip 문구
          $("#addr_list").empty().show();		// 검색 결과 리스트
          $('#addr_detail').hide();		// 상세 주소 입력란
          $('#addr_moreBtnArea').hide();
        }
        
        return false;
    	}
  	});
}

// 페이지 별 데이터 추가 세팅
function selectUnifiedPostParamSetting(postNo, postSeq, baseAddr, postGb, roadNo, roadYn) {
  var param = new Object();

	param['post01'] = postNo;
	param['post02'] = "";
	param['postSeq'] = postSeq;
	param['baseAddr'] = baseAddr;
	param['custAreaGb'] = postGb;
	param['roadAddrNo'] = roadNo;
	param['receiverSeq'] = "";
	param['roadAddrYn'] = roadYn;
	
	param['sltPostNo'] = $("input#sltPostNo").val();
	param['sltPostSeq'] = $("input#sltPostSeq").val();
	param['sltBaseAddr'] = $("input#sltBaseAddr").val();
	param['sltDetailAddr'] = $("input#sltDetailAddr").val();
	param['sltRoadAddrNo'] = $("input#sltRoadAddrNo").val();
	param['sltRoadAddrYn'] = $("input#sltRoadAddrYn").val();
	param['refineResultCode'] = $("input#refineResultCode").val();
	param['selectAddr'] = $("input#selectAddr").val();
	
	param['stdPost'] = $("input#stdPost").val();
	param['stdPostSeq'] = $("input#stdPostSeq").val();
	param['stdPostAddr1'] = $("input#stdPostAddr1").val();
	param['stdPostAddr2'] = $("input#stdPostAddr2").val();
	param['stdPostLngx'] = $("input#stdPostLngx").val();
	param['stdPostLaty'] = $("input#stdPostLaty").val();	

	param['stdRoadPost'] = $("input#stdRoadPost").val();
	param['stdRoadPostSeq'] = $("input#stdRoadPostSeq").val();
	param['stdRoadPostAddr1'] = $("input#stdRoadPostAddr1").val();
	param['stdRoadPostAddr2'] = $("input#stdRoadPostAddr2").val();
	param['stdRoadPostLngx'] = $("input#stdRoadPostLngx").val();
	param['stdRoadPostLaty'] = $("input#stdRoadPostLaty").val();
	param['stdRoadNnmb'] = $("input#stdRoadNnmb").val();
	
	callbackPostPop(JSON.stringify(param));
}

// 다음주소검색
// 테마
var themeObj = {
  bgColor: "#FFFFFF",      //바탕 배경색
  //searchBgColor: "",     //검색창 배경색
  //contentBgColor: "",    //본문 배경색(검색결과,결과없음,첫화면,검색서제스트)
  pageBgColor: "#FFFFFF",  //페이지 배경색
  //textColor: "",         //기본 글자색
  //queryTextColor: "",    //검색창 글자색
  //postcodeTextColor: "", //우편번호 글자색
  //emphTextColor: "",     //강조 글자색
  outlineColor: "#FFFFFF"  //테두리
};

//우편번호 찾기 찾기 화면을 넣을 element
var element_wrap = document.getElementById('postPopDaumBody');

function foldDaumPostcode() {
  // iframe을 넣은 element를 안보이게 한다.
  element_wrap.style.display = 'none';
}

function openPostDaum(editPopYn) {
  if (editPopYn != "0"){
   openPostForEdit = "_" + editPopYn; 
  }

  if($("#postPopDaumSet").css("display") != "none") {
    popup.close('#postPopDaumSet');
    //$('#postPopDaumSet').hide();
  }
  
  popup.open('#postPopDaum');

  // 현재 scroll 위치를 저장해놓는다.
  var currentScroll = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
  new daum.Postcode({
    theme: themeObj,
    oncomplete: function(data) {
      // 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
      var roadAddress = '';
      var jibunAddress = '';
      
      if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
        roadAddress = data.roadAddress;
        jibunAddress = data.autoJibunAddress == '' ? data.jibunAddress : data.autoJibunAddress;
      } else { // 사용자가 지번 주소를 선택했을 경우(J)
        roadAddress = data.autoRoadAddress == '' ? data.roadAddress : data.autoRoadAddress;
        jibunAddress = data.jibunAddress;
      }
      
      var roadNo = data.buildingCode;
      
      selectDaumPost(data.zonecode, roadAddress, jibunAddress, roadNo);
      
      // iframe을 넣은 element를 안보이게 한다.
      // (autoClose:false 기능을 이용한다면, 아래 코드를 제거해야 화면에서 사라지지 않는다.)
      element_wrap.style.display = 'none';
      
      // 우편번호 찾기 화면이 보이기 이전으로 scroll 위치를 되돌린다.
      document.body.scrollTop = currentScroll;
    },
    // 우편번호 찾기 화면 크기가 조정되었을때 실행할 코드를 작성하는 부분. iframe을 넣은 element의 높이값을 조정한다.
    //onresize : function(size) {
    //    element_wrap.style.height = size.height+'px';
    //},
    width : '100%',
    height : '100%'
  }).embed(element_wrap);
  
  // iframe을 넣은 element를 보이게 한다.
  element_wrap.style.display = 'block';
}

//주소 검색 레이어 팝업 닫기
function closeDaumPostPage(){
  popup.close('#postPopDaum');
  
  // 배송지 관리 페이지 : 추가/수정 팝업 노출
  var path = window.location['pathname'];
  if(path.indexOf("/mypage/receiverList") > -1){
     $('#ship_pop').css("display","block");
  }
  
  // 주문서 페이지 : 배송지 작성 팝업 안에서 주소 검색 팝업 open
  if(openPostForEdit == "editPop"){
     $('#editPop').fadeIn('300');
     openPostForEdit = "0";
  }
}

//주소 검색 레이어 팝업 닫기
function closeDaumPostSetPage(){
  popup.close('#postPopDaumSet');
  //$('#postPopDaumSet').hide();
  
  // 배송지 관리 페이지 : 추가/수정 팝업 노출
  var path = window.location['pathname'];
  if(path.indexOf("/mypage/receiverList") > -1){
     $('#ship_pop').css("display","block");
  }
  
  // 주문서 페이지 : 배송지 작성 팝업 안에서 주소 검색 팝업 open
  if(openPostForEdit == "editPop"){
     $('#editPop').fadeIn('300');
     openPostForEdit = "0";
  }
}

/* 주소 통합 검색 결과 리스트에서 주소 선택 */
function selectDaumPost(zipNo, roadAddr, jibunAddr, roadNo) {
  popup.close('#postPopDaum');
  //$('#postPopDaum').hide();
  
  // 선택한 주소 데이터 세팅
  var htmlStr = "";
  htmlStr += "<ul class='add-search-list type-result'>";
  htmlStr += "	 <li>";
  htmlStr += "	 <div class='address-result'>";
  htmlStr += "			<dl>";
  htmlStr += "				<dt class='zip' id='daum_addr_detail_zip'>"+zipNo+"</dt>";
  htmlStr += "				<dd><strong>도로명</strong><span id='daum_addr_detail_road'>"+roadAddr+"</span></dd>";
  htmlStr += "				<dd><strong>지번</strong><span>"+jibunAddr+"</span></dd>";
  htmlStr += "			</dl>";
  htmlStr += "	 	</div>";
  htmlStr += "		<div class='ipt-wrap mt20'>";
  htmlStr += "			<input type='text' class='ipt delete' id='daum_addr_detail_input' placeholder='상세 주소를 입력해 주세요.'>";
  htmlStr += "		</div>";
  htmlStr += "		<input type='hidden' id='daum_addr_detail_roadNo' value='"+roadNo+"'>";
  htmlStr += "	 </li>";
  //htmlStr += "<div class='btn-area half'>";
  //htmlStr += "		<button type='button' class='btn l-l white border-b' onclick='javascript:openPostSearchUnified(\"0\");'>다시검색</button>";
  //htmlStr += "		<button type='button' class='btn l-l black' onclick='javascript:refineUnifiedPost();return false;'>등록</button>";
  //htmlStr += "</div>";
  htmlStr += "</ul>";
  
  $("#daum_addr_detail").empty();
  $("#daum_addr_detail_input").empty();
  $("#daum_addr_detail").append(htmlStr);
  
  // 상세 주소 입력란 노출
  $('#daum_addr_detail').show();		// 상세 주소 입력란
  $('#postPopDaumBodySet').show();
  $("#daum_addr_detailBtn").show();
  
  popup.open('#postPopDaumSet');
}

</script>



<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

<script>
	var postViewType = "";
  // 주소찾기 팝업 호출
  function postPopOpen(orderIdx){   // 주문페이지 외 사용시 값 '0' 전달
    $.ajax({
      url : '/common/setPost',
  	  type : 'GET',
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(result){
        if(result.resultCode === "0000"){
          postViewType = result.resultData.postViewType;
          if(result.resultData.postViewType === "2"){
            openPostSearchUnified(orderIdx);     // 통합 검색 팝업
          }else if(result.resultData.postViewType === "3"){
            openPostDaum(orderIdx);     // 다음주소검색
          }else{
         		// 시,도 코드
         		var makeCityList = "";
         		makeCityList += '<option value="">시/도 선택</option>';
         		
         		$.each(result.resultData.cityCodeList, function(idx, data){
         		 	makeCityList += '<option value="'+data.cityCode+'">'+data.cityName+'</option>';
         		})
         		
         		$("#cityCode").html(makeCityList);
            openPostSearch(orderIdx);     // 기존 지번, 도로명 주소 검색 팝업
          }
        }else{
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
        }
      }, error: function(){
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    });
  }
</script>

    <div class="popup dialog pb16" id="fastorder-receiver-popup">
      <div class="popup-inner">  
        <div class="popup-header">
          <h2>빠른 결제 안내</h2>
        </div>
        <div class="popup-content">
          <ul class="pop-ul-list">
            <li>빠른 결제는 원클릭으로 쉽고 빠르게 주문/결제할 수 있는 서비스입니다. 해당 서비스를 이용하기 위하여 배송지 입력을 필수로 합니다.</li>
            <li>[배송지 입력하기] ‘배송지 관리’로 이동</li>
            <li>[일반 결제하기] ‘주문/결제하기’로 이동</li>
          </ul>
        </div>
        <button type="button" class="btn-popup-close" onclick="popup.close('#fastorder-receiver-popup');">팝업 닫기</button>
      </div>
      <div class="btn-area half mt24"> 
        <button type="button" class="btn m-l white border-b" data-mainbtn="Y" data-btnscn="buyNowBtn">일반 결제하기</button>
        <button type="button" class="btn m-l black" onclick="moveReceiver()">배송지 입력하기</button>
      </div>
    </div>
    <script>
    // 배송지 관리로 이동하기 위한 함수
    function moveReceiver() {
      openReceivePop('1');
      popup.close('#fastorder-receiver-popup');
    }
</script>
    
    
    











 





 
   
 
 
 


    



  
              
  
  







<div class="popup dialog pb16" id="fastorder-ci-popup">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>빠른 결제 최초 인증</h2>
    </div>
    <div class="popup-content">
      <ul class="pop-ul-list">
        <li>빠른 결제는 원클릭으로 쉽고 빠르게 주문/결제할 수 있는 서비스입니다.</li>
        <li>최초 1회 앱카드 통한 본인 인증을 하신 후, 쉽고 간편한 빠른 결제 서비스를 이용해 보세요.</li>
      </ul>
    </div>
    <button type="button" class="btn-popup-close" onclick="closePopup()">팝업 닫기</button>
  </div>
  <div class="btn-area half mt24"> 
    <button type="button" class="btn m-l black w100 mr0 ml0" onclick="startAppCardForAuth()">앱카드 본인 인증</button>
  </div>
</div>
<div class="dim-fake" style="display:none;"></div>

<div class="popup alert pb16" id="fastorder-ci-success-pop">
  <div class="popup-inner"> 
    <p class="alert-txt pl16">앱카드 인증이 완료되었습니다.<br>쇼핑엔티의 빠른 결제 서비스를 이용하실 수 있습니다.</p>
    <div class="btn-area">
      <button type="button" class="btn m-l black ml0 mr0 w100">확인</button>
    </div>
  </div>
</div>

<div class="popup alert pb16" id="fastorder-ci-fail-pop">
  <div class="popup-inner"> 
    <p class="alert-txt pl16">쇼핑엔티와 카드사 간의 회원정보 매칭에 실패하였습니다.<br>쇼핑엔티 회원 정보의 수정이 필요한 경우, 고객 센터에 문의해 주시기 바랍니다.</p>
    <div class="btn-area">
      <button type="button" class="btn m-l black ml0 mr0 w100" onclick="moveDirectOrder()">확인</button>
    </div>
  </div>
</div>

<script>
//팝업을 닫기 위한 함수
function closePopup() {
  const caller = window.popupCaller || "unknown";
	popup.close('#fastorder-ci-popup');
	if (caller === "ordersheet") {
	  $('.dim-fake').css("display","none");
	  if ($(".pay-radio.normal").is(":visible")) {
		    // ordersheet의 경우 일반결제 라디오 버튼 초기화
		  $('#pay-normal').prop('checked', true).trigger('change');		  
	  }
	}
}

// 앱카드 본인 인증 시작 함수
async function startAppCardForAuth() {
  try {
      setTimeout(() => {
        closePopup();
      }, 300);
    
      const caller = window.popupCaller || "unknown";
    	// CI 인증 상태 확인 및 모듈 호출을 한 번에 처리
      appCardPayApi.callAppCardForAuth(function(res) {
          if (res.resultCode === '0000') {
           		// 인증 성공
              const successButton = document.querySelector('#fastorder-ci-success-pop .btn');
              if (caller === "ordersheet") {
                  // ordersheet의 경우 새로고침 동작 할당
                  successButton.setAttribute("onclick", "location.reload()");
              } else {
                  // 기본 동작: 팝업 닫기
                  successButton.setAttribute("onclick", "popup.close('#fastorder-ci-success-pop')");
              }          
              popup.open('#fastorder-ci-success-pop');
          } else if (res.resultCode === 'T9998') {
           		// 인증 실패 (정보 불일치)
              let mismatchMessage = "쇼핑엔티와 카드사 간의 회원정보 매칭에 실패하였습니다.<br>";
              mismatchMessage += "다음 항목이 일치하지 않습니다.<br>";
  
              const { checkName, checkHp, checkBirthDate } = res.resultData;
  
              // 값이 false인 항목만 메시지에 추가
              if (!checkName) mismatchMessage += "- 이름<br>";
              if (!checkHp) mismatchMessage += "- 휴대폰 번호<br>";
              if (!checkBirthDate) mismatchMessage += "- 생년월일<br>";
  
              mismatchMessage += "<br>쇼핑엔티 회원 정보의 수정이 필요한 경우, 고객 센터에 문의해 주시기 바랍니다.";
  
              // 실패 팝업 내용 업데이트 및 표시
              document.querySelector('#fastorder-ci-fail-pop .alert-txt').innerHTML = mismatchMessage;
              popup.open('#fastorder-ci-fail-pop');
          } else if (res.resultCode === 'T9996' || res.resultCode === 'T9997') {
              // 기타 실패 케이스
              const failMessage = "실패 오류 코드: " + res.resultCode + "<br>" + res.resultMsg;            
              // 실패 팝업 내용 업데이트 및 표시
              document.querySelector('#fastorder-ci-fail-pop .alert-txt').innerHTML = failMessage;
              popup.open('#fastorder-ci-fail-pop');
          } else {
              // 알 수 없는 오류
            	const unknownErrorMessage = "인증 중 알 수 없는 오류가 발생했습니다.<br>잠시 후 다시 시도해 주세요.";
            	// 실패 팝업 내용 업데이트 및 표시
            	document.querySelector('#fastorder-ci-fail-pop .alert-txt').innerHTML = unknownErrorMessage;
           	 	popup.open('#fastorder-ci-fail-pop');
        	}
      },
      function (resultCode) {
          // 앱카드 모듈 종료 또는 사용자가 인증 모듈 닫기한 상태
          if (resultCode === "0002" || resultCode === "0003") {
              console.log("앱카드 모듈 종료되었거나 사용자가 인증 모듈을 닫은 경우 결과값: " + resultCode);
              if (caller === "ordersheet") {
                  // 일반결제 라디오버튼으로 초기화
                  $('#pay-normal').prop('checked', true).trigger('change');
              }
          } else {
              console.warn("알 수 없는 resultCode:"+resultCode);
          }
      });
    
  } catch (error) {
      console.error("앱카드 본인 인증 처리 중 오류:", error);
      alert("앱카드 인증 처리 중 오류가 발생했습니다. 다시 시도해 주세요.");
  }
}

// 인증 실패시 함수
function moveDirectOrder() {
  const caller = window.popupCaller || "unknown";
  popup.close('#fastorder-ci-fail-pop');
  
  if (caller === "goodsDetail") {
    // 상품 상세 페이지에서 호출된 경우
    const chocGoodsList = window.appData.chocGoodsList;
    directOrder(chocGoodsList, "Y");
 		// 로딩 화면 표시
    loadingShow();
  } else if (caller === "ordersheet") {
      // 주문서 페이지에서 호출된 경우
      location.reload(); // 주문서 페이지에서는 새로고침
  } else {
      console.error("알 수 없는 호출 위치. 기본 처리 실행");
  }
}
</script>
    
    
    <div id="orderFastSheetPopArea"></div>

	
	<script>
		try{
			var evt_data = {};
			evt_data.evt = 'view'; 
			evt_data.p_no = '24760392'; 
			evt_data.p_name = '25FW 아보크 클로그 윈터슈즈 2종 여성'; 
			evt_data.price = '29900.0'; 
			evt_data.regular_price = '29900.0'; 
			evt_data.thumb = 'https://img.shoppingntmall.com/goods/392/24760392_l.jpg'; 
			evt_data.p_url = 'https://www.shoppingntmall.com/display/goods/24760392'; 
			evt_data.p_url_m = 'https://m.shoppingntmall.com/display/goods/24760392'; 
			evt_data.cate1 = '신발'; 
			evt_data.cate2 = '운동화/스포츠화'; 
			evt_data.cate3 = '운동화/스포츠화'; 
			evt_data.soldout = 'N'== 'Y' ? '1' : '0'; 
			mcroPushEvent(evt_data);
		}catch(e){
			console.error(e);
		}
	</script>
        
             
    </main>
    
      











 





 
   
 
 
 


    



  
              
  
  










<footer id="footer">
  
    
    <div class="notice-area">
      <h2>NOTICE</h2>
      <div class="notice-slide-wrap">
        <ul class="swiper-wrapper">  
          
            <li class="swiper-slide">
              <a href="/customer/notice/detail?board_no=B00000000245"> 
                <span class="date">25.12.05</span> 
                <span class="txt">개인정보처리방침 개정 안내</span>
              </a>
            </li>
          
        </ul>
      </div>
      <a href="/customer/notice" class="btn-noti">공지사항 바로가기</a>
    </div>
    
    <ul class="fnb cf type-3">
      
        
        
          <li><a href="javascript:openPopupAppDown()">앱다운로드</a></li>
        
      
      <li><a href="/customer/main">고객센터</a></li>
      
        
          <li>
            <a href="javascript:$.eshopfront.cust.logout();">로그아웃</a>
            <form id="logoutForm" name="logoutForm" action="/auth/logout" method="get">
              <input type="hidden" id="returnUrl" name="returnUrl" value="/">
            </form>
          </li>
        
        
      
    </ul>
    <ul class="fnb cf type-1">
      <li><a href="https://www.trncompany.co.kr/main/main.do" target="_blank">회사소개</a></li>
    </ul>
    <!-- 사업자 정보 영역 START-->
    
    <meta name="color-scheme" content="light"><!-- 다크모드 방지 -->
<div class="f-trn-info"><span class="f-logo">TRN</span>
<div class="trn-info-wrap">
<div class="btn-wrap"><button class="btn-trn" type="button">(주) 티알엔 사업자 정보</button></div>

<div class="trn-info-detail">
<p>대표이사 : 한상욱</p>

<p>사업자등록번호 : 116-81-50973</p>

<address>주소 : 서울특별시 중구 동호로 310 별관 (장충동 2가, 태광산업)</address>

<p>대표전화 : 1866-0023 (유료)</p>

<p>이메일 : <a href="mailto:help@trncompany.co.kr">help@trncompany.co.kr</a></p>

<p>통신판매업신고 : 2010-서울중구-1670호</p>

<p>개인정보보호책임자 : 조태홍<span class="foot-span">&nbsp;</span>청소년보호책임자 : 장우석</p>
</div>

<div class="trn-policy">
<ul class="cf">
	<li><a href="javascript:void(0);" onclick="openMarginView('https://www.trncompany.co.kr/etc/etc02Snt.do?ref=topmargin')">이용약관</a></li>
	<li><a href="javascript:void(0);" onclick="openMarginView('https://www.trncompany.co.kr/etc/etc03Snt.do?ref=topmargin')"><strong>개인정보처리방침</strong></a></li>
	<li><a href="javascript:void(0);" onclick="openMarginView('https://www.trncompany.co.kr/etc/etc05Snt.do?ref=topmargin')">청소년보호정책</a></li>
</ul>

<ul class="cf">
	<li><a href="javascript:void(0);" onclick="openMarginView('https://www.trncompany.co.kr/etc/etc04Snt.do?ref=topmargin')">영상정보처리방침</a></li>
	<li><a href="javascript:void(0);" onclick="openMarginView('http://www.ftc.go.kr/bizCommPop.do?wrkr_no=1168150973&amp;ref=topmargin')">사업자정보 확인</a></li>
</ul>

<ul class="cf hana">
	<li><a href="javascript:void(0);" onclick="guarantee();">하나은행 채무 지급보증 안내</a></li>
</ul>

<p class="copy">Copyright 2013. trn inc. all rights reserved.</p>
</div>
<img alt="내일을 밝히는 큰빛 ESG" class="egs-logo" src="https://img.shoppingntmall.com/htmleditor/537/esg1710479273414.png/dims/format/avif;fallback=webp/optimize" through="m2ps" loading="lazy" />
<div class="footer-bottom"><a href="https://kolsa.or.kr/" target="_blank"><img alt="한국 온라인 쇼핑 협회" src="https://img.shoppingntmall.com/htmleditor/396/21722386470808.png/dims/format/avif;fallback=webp/optimize" through="m2ps" loading="lazy" /></a> <a href="http://www.kotca.org/" target="_blank"><img alt="한국데이터 홈쇼핑협회" src="https://img.shoppingntmall.com/htmleditor/396/31722386474489.png/dims/format/avif;fallback=webp/optimize" through="m2ps" loading="lazy" /></a> <a href="javascript:void(0);" onclick="popup.open('#pop-ccm');"><img alt="CCM 소비자중심" src="https://img.shoppingntmall.com/htmleditor/396/41722386478203.png/dims/format/avif;fallback=webp/optimize" through="m2ps" loading="lazy" /></a> <!-- <a href="javascript:void(0);" onclick="popup.open('#pop-isms');"><img src="https://img.shoppingntmall.com/htmleditor/396/51722386482011.png" alt="ISMS"></a> --></div>

<div class="footer-bottom"><img alt="ISMS" src="https://img.shoppingntmall.com/htmleditor/396/51722386482011.png/dims/format/avif;fallback=webp/optimize" through="m2ps" loading="lazy" />
<p>정보보호 관리체계 인증<br />
인증 범위 : T-커머스 및 모바일 서비스 운영(쇼핑엔티)<br />
유효기간 : 2025.05.04~2028.05.03</p>
</div>
</div>
<a class="tel-link" href="tel:1866-0023">1866-0023 (유료)</a></div>

<div class="popup full scroll" id="pop-ccm">
<div class="popup-inner">
<div class="popup-header">
<h2>소비자중심경영 (CCM) 인증</h2>
</div>

<div class="popup-content mg0">
<div class="hanabank-img-area"><img alt="소비자중심경영 (CCM) 인증" src="https://img.shoppingntmall.com/htmleditor/107/ccm1722387766955.png/dims/format/avif;fallback=webp/optimize" through="m2ps" loading="lazy" /></div>
</div>
<button class="btn-popup-close" onclick="popup.close('#pop-ccm')" type="button">팝업 닫기</button></div>
</div>

<div class="popup full scroll" id="pop-isms">
<div class="popup-inner">
<div class="popup-header">
<h2>정보보호 관리체계 (ISMS) 인증</h2>
</div>

<div class="popup-content mg0">
<div class="hanabank-img-area"><img alt="정보보호 관리체계 (ISMS) 인증" src="https://img.shoppingntmall.com/htmleditor/107/isms1722387772145.png/dims/format/avif;fallback=webp/optimize" through="m2ps" loading="lazy" /></div>
</div>
<button class="btn-popup-close" onclick="popup.close('#pop-isms')" type="button">팝업 닫기</button></div>
</div>
<script>
    function openMarginView(url) {
        // 마진뷰가 지원되지 않는 경우 기본 새 창에서 열기
        if (window.open) {
            window.open(url, '_blank');
        } else {
            location.href = url;  // 새 창을 못 열 경우, 현재 창에서 이동
        }
    }
</script><script>
  //전문관에 티페스타 이미지 gnb
  $(function(){
    const targetText = 'T페스타';
    const imgSrc = 'https://img.shoppingntmall.com/htmleditor/370/sss1762418124684.gif';

    $('#gnb-wrap .swiper-slide span').each(function(){
      const text = $(this).text().trim();
      if (text === targetText) {
        $(this).html('<img src="'+imgSrc+'" alt="'+targetText+'">');
      }
    });
  });
</script>

<style>
/* 25-11-28 전문관 BG스와이퍼 텍스트 오류로 추가 */
.so-top-banner .txt-wrap .txt0 {display:block;}
</style>
  
  <!-- 사업자 정보 영역 END-->
  
    <div class="btn-f-area">
      <button type="button" onclick="comTargetPage('forward');" class="btn-forward-go" style="display: none;">앞페이지로 이동</button>
      <button type="button" onclick="comTargetPage('prev');" class="btn-prev-go" style="display: none;">이전페이지로 이동</button>
      <button type="button" class="btn-top-go">상단으로 이동</button>
      
      
      
      
          
            
              <a href="/customer/rcnt/list" class="btn-recen-go">
                  <img src="https://img.shoppingntmall.com/goods/392/24760392_h.jpg/dims/format/avif;fallback=webp/optimize" alt="25FW 아보크 클로그 윈터슈즈 2종 (여성)" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy">
              </a>
            
          
      
      
      
    </div>
  
</footer>




<div id="flotPopupDiv"></div>





  

  
    
    
    
  

  

  

  

  

  



<div class="pop-onair" data-enty-src-cd="ONAR0000"> 
	<div class="pop-onair-con">
		<div class="re-wrap no-line"><div class="re-pd">
			<div class="re-h3"><h3>지금 방송중인 상품</h3></div>
			<div class="re-detail-wide re-detail-tv">					
				<div class="re-detail">
					
					<div class="re-thum">
						<button type="button" class="btn-mov-play" id="video-on-paly" onclick="playOnairVideojs($(this), '/live/10011.m3u8','true','99');" >재생</button>							
						<div class="re-video-wrap">																			    
							<video id="video99" class="video-js vjs-default-skin" controls playsinline preload="none" through="m2ps">
								<!-- <source src="" type="application/x-mpegURL"> -->
							</video>
							<button type="button" class="btn-mov-close" id="video-close99">닫기</button>
							<div class="re-thum-tost">5G / LTE 등의 환경에서는<br>데이터 요금이 발생할 수 있습니다.</div>
						</div>
            <img src="https://img.shoppingntmall.com/goods/096/14296096_info2.jpg/dims/format/avif;fallback=webp/optimize" data-width="323" data-height="183" alt="[최다구성] 리체나 삼푸형 퍼퓸 염색제 10박스 + 10박스" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy">
						<div class="badge-onair">ON AIR</div>
					</div>
          
          
  					<a href="/display/goods/14296096" class="re-txt">
  						<div class="txt-title"><span class="tv">TV쇼핑</span>[최다구성] 리체나 삼푸형 퍼퓸 염색제 10박스 + 10박스</div>
  						<div class="txt-price">
              
                  
                      
                          
                      
                      
                  
              
                  
                    
                      
        							<span>68,800</span>
                      <em>원</em>
                    
                    
                  
                  
                   
                      
                        <p>69,800원</p>
                      
                      
                    
  						</div>
  					</a>
          
            
               
               
               
                  <a href="/display/goods/14296096">
                    <button type="button" class="btn-buynow-bg">바로 구매</button> 
                  </a>
               
             
          
          
					
				</div>
			</div>
			
      
      
      
  			<div class="re-h3"><h3>추천상품</h3></div>
  			<div class="re-detail-row-middle"> 
        
        
        
            
            
                
                    
                
                
            
        
    			<div class="re-detail">
    				<div class="re-thum">
              <img src="https://img.shoppingntmall.com/goods/146/10336146_h.jpg/dims/format/avif;fallback=webp/optimize" data-width="80" data-height="80" alt="리체나 샴푸형 3분 염색제 10박스 " onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy">
    				</div>					
    				<div class="re-txt">
    					<div class="txt-title">
                  
                  리체나 샴푸형 3분 염색제 10박스 
              </div>
    					<div class="txt-price">
                
                  
      							<span>40,900</span>
      							<em>원</em>
                  
                  
                
                
                  
                    <p>59,800원</p>
                  
                  
                
    					</div> 
    				</div>
    				<a href="/display/goods/10336146" class="link-wrap">상품바로가기</a>
    			</div>
        
        
            
            
                
                    
                
                
            
        
    			<div class="re-detail">
    				<div class="re-thum">
              <img src="https://img.shoppingntmall.com/goods/148/10336148_h.jpg/dims/format/avif;fallback=webp/optimize" data-width="80" data-height="80" alt="리체나 샴푸형 비타 캡슐 염색제 10박스 " onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy">
    				</div>					
    				<div class="re-txt">
    					<div class="txt-title">
                  
                  리체나 샴푸형 비타 캡슐 염색제 10박스 
              </div>
    					<div class="txt-price">
                
                  
      							<span>40,900</span>
      							<em>원</em>
                  
                  
                
                
                  
                    <p>59,800원</p>
                  
                  
                
    					</div> 
    				</div>
    				<a href="/display/goods/10336148" class="link-wrap">상품바로가기</a>
    			</div>
        
        
            
            
                
                    
                
                
            
        
    			<div class="re-detail">
    				<div class="re-thum">
              <img src="https://img.shoppingntmall.com/goods/346/13346346_h.jpg/dims/format/avif;fallback=webp/optimize" data-width="80" data-height="80" alt="[리체나] 샴푸형 퍼퓸 염색제 (10박스)" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy">
    				</div>					
    				<div class="re-txt">
    					<div class="txt-title">
                  
                  [리체나] 샴푸형 퍼퓸 염색제 (10박스)
              </div>
    					<div class="txt-price">
                
                  
      							<span>40,900</span>
      							<em>원</em>
                  
                  
                
                
                  
                    <p>59,800원</p>
                  
                  
                
    					</div> 
    				</div>
    				<a href="/display/goods/13346346" class="link-wrap">상품바로가기</a>
    			</div>
        
		  </div>	 
      
    
		</div></div>
	</div>
	<div class="pop-onair-dim"></div>
</div>



<script type="text/javascript">
  function guarantee() {
    if($("#termsPopUp > div").length > 0) $("#termsPopUp").empty();
    $.ajax({
      url : "/display/terms/guarantee",
      type : "post",
      headers: {
        'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
      },
      dataType : "json",
      success : function(data) {
        
        // 내용
        var guaranteeStr = data.resultData.txt;
        var resultHtml = guaranteeStr.replace(/&amp;/g, "&").replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, "\"").replace(/&#39;/g, "\'"); 
        $("#termsPopUp").append(resultHtml);
        popup.open("#termsPopUp > div");
      }
    });
  }
</script>












 





 
   
 
 
 


    



  
              
  
  








<div class="popup app-down" id="app-down-popup">
	<div class="popup-inner">
		<strong class="tit">앱에서 혜택가를 확인 하시겠습니까?</strong>
		<div class="btn-area half mt24">
			<button type="button" class="btn m-l white border-b" onclick='popup.close("#app-down-popup")'>닫기</button>
			<button type="button" class="btn m-l black border-b" onclick="goAppDown()">앱 다운 바로가기</button>
		</div>
	</div>
</div>


<script>
  // 앱 다운로드 팝업
  function openPopupAppDown() {
    popup.open("#app-down-popup");
  }
</script>

    
    











 





 
   
 
 
 


    



  
              
  
  







<div class="popup full scroll" id="category-popup">
  <div class="popup-inner">
    <div class="popup-header type-category">
      <div class="category-top">
        
          
            <a id="mbr-info" href="/mypage/mymain"><strong>테스트vip</strong>님 안녕하세요</a>  
          
          
        
        
      </div>
      <div class="shop-info">
        <a href="/mypage/order/list" class="order-deli">주문 배송&nbsp;<strong>0</strong></a>
        <a href="/mypage/saveamt" class="saving">적립금&nbsp;<strong>0</strong></a>
        <a href="/mypage/coupon/list" class="coupon">보유쿠폰&nbsp;<strong>0</strong></a>
      </div>
      <script type="text/javascript">
      	function openCategoryPopup() {
      	  var device = "02";  //* 세션 정보 값(01:PC_WEB, 02: 모바일 WEB, 03: 모바일 APP)
      	  var osCd = "";         //* 세션 정보 값 (01: 안드로이드, 02: IOS)
      	  if (device === "03") {
            if (osCd === "02") {
              window.webkit.messageHandlers.shoppingntapp.postMessage("appCategoryShow");
            } else {
              window.shoppingntapp.appCategoryShow();
            }
          }
        	
          $.ajax({
            url : "/app/mbr/cust-info",
            type : "get",
            headers: {
              'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
            },
            dataType : "json",
            success : function(data) {
              setSSValue("ORD_CNT", data.resultData.ordCnt);
              setSSValue("COUPON_CNT", data.resultData.couponCnt);
              setSSValue("USABLE_SAVEAMT", data.resultData.usableSaveamt);
            },
            error: function(err) {
              console.error(err);
            }, complete: function() {
              $("a.order-deli > strong").text($.eshopfront.cmm.setComma(getSSValue("ORD_CNT")));
           	  $("a.saving > strong").text($.eshopfront.cmm.setComma(getSSValue("USABLE_SAVEAMT")));
           	  $("a.coupon > strong").text($.eshopfront.cmm.setComma(getSSValue("COUPON_CNT")));
           	  getRecently();
            }
          });
          

          if (device === "03") {
            
           /*  $.ajax({
              url : "/common/push-msg/new",
              type : "get",
              headers: {
                'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
              },
              dataType : "json",
              success : function(data) {
                var pushMsgNew = data.resultData.pushMsgNew;
                //console.log("Category pushMsgNew : "+pushMsgNew);
                if(pushMsgNew == 'Y'){
                  $(".util-category > .noti").addClass("is-active");
                }else{
                  $("util-category > .noti").removeClass("is-active");
                }
              },
              error: function(err) {
                console.error(err);
              }
            });  */         
            
          }

      	}
      	
      	function getRecently(){
          $.ajax({
            url : "/common/getRecently",
            type : "get",
            headers: {
              'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
            },
            dataType : "html",
            success : function(data) {
              $('.recently').remove();
              $('.brand-more').after(data);
            },
            error: function(err) {
              console.error(err);
            }, complete: function() {
              popup.open("#category-popup");
            }
          });
      	}
      </script>
    </div>
    
    
    
        
    
    <div class="popup-content pg0">
      
      <div class="sec-tit">
        <h2>카테고리</h2>
      </div>
      <ul class="category-list">
        
          <li>
            <a href="/category/g-list-cate/90000350">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90000350/BN0000000283.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="TV쇼핑/적립" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>TV쇼핑/적립</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000001">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000001/BN0000000288.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="패션의류/언더웨어" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>패션의류/언더웨어</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000007">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000007/BN0000000292.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="식품/건강" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>식품/건강</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000009">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000009/BN0000000296.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="가전/디지털" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>가전/디지털</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000003">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000003/BN0000000300.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="뷰티" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>뷰티</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000005">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000005/BN0000000304.png/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="주얼리/시계" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>주얼리/시계</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000004">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000004/BN0000001852.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="잡화/슈즈/명품" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>잡화/슈즈/명품</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90000677">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90000677/BN0000000308.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="침구/카페트/커튼" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>침구/카페트/커튼</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000008">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000008/BN0000000312.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="생활/주방" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>생활/주방</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90001087">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90001087/BN0000001859.png/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="출산/유아동" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>출산/유아동</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000002">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000002/BN0000001864.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="스포츠/레저" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>스포츠/레저</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000006">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000006/BN0000000316.png/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="가구/인테리어소품" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>가구/인테리어소품</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000010">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000010/BN0000001733.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="여행/렌탈/서비스" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>여행/렌탈/서비스</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90000777">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90000777/BN0000000360.jpg/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="문구/취미/반려" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>문구/취미/반려</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90000294">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90000294/BN0000001871.png/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="중소기업 테마관" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>중소기업 테마관</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90001331">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90001331/BN0000017317_20250313110330.png/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="새벽시장" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>새벽시장</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90001356">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90001356/BN0000018626_20251106152002.png/dims/format/avif;fallback=webp/optimize" data-width="44" data-height="44" alt="티나는밥상" onerror="$.eshopfront.cmm.emptyImg(this);" through="m2ps" loading="lazy"></div>
              <span>티나는밥상</span>
            </a>
          </li>
        
      </ul>
      
      
      <div class="coupon-event-list" style="display:none;">
        <ul class="swiper-wrapper">
          
        </ul>
      </div>
      <script>
        var couponEvent = new Swiper(".coupon-event-list", {
          slidesPerView: 1.2,
          spaceBetween: 8,
          grabCursor: true,
					watchOverflow : true //09-19 피설현 대리 요청으로 추가
        });
      </script>
      
      <div class="sec-tit">
        <h2>쇼핑엔티 서비스</h2>
      </div>
      <div class="trn-service-list">
        <ul class="swiper-wrapper">
          
          
          
          
            
          
            
              
              
              
                <li class="swiper-slide"><ul>
                <li><a href="/plan/planshop/swipeDetail/S00000000733">TV쇼핑</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/broadcast/tvBroadcastMain">편성표</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/plan/planshop/swipeDetail/S00000001942">T페스타</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/plan/planshop/swipeDetail/S00000001869">더블찬스</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/carefood/carefoodMain">티나는 밥상</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/plan/planshop/swipeDetail/S00000001637">농축산할인</a></li>
                
                  
                
                  </ul></li>
                  
                    
                
              
            
          
            
              
              
              
                <li class="swiper-slide"><ul>
                <li><a href="/plan/planshop/swipeDetail/S00000001788">겨울패션관</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/showtimedeal/showTimeDealMain">타임특가</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/live/list">라이브</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/deal/dealMain">쇼핑엔딜</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/showmart/showmartMain">새벽시장</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/template/brand-template-main">브랜드관</a></li>
                
                  
                
                  </ul></li>
                  
                    
                
              
            
          
            
              
              
              
                <li class="swiper-slide"><ul>
                <li><a href="/spex/spexMain">기획전</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/event/eventMain">이벤트</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/best/bestMain">베스트</a></li>
                
                  
                
                  </ul></li>
                  
                    
                
              
            
           
        </ul>
        <div class="swiper-pagination"></div>
      </div>
			<script>
				var couponEvent = new Swiper(".trn-service-list", {
					autoHeight: true,//09-13 옵션추가 #23665 LNB 서비스항목 스와이퍼 옵션 수정 피설현대리 요청으로 추가
					grabCursor: true,
					pagination: {
      						el: '.swiper-pagination'
    					},
					watchOverflow : true //09-19 피설현 대리 요청으로 추가
				});
			</script>
      
      
      <div class="sec-tit type-boder-none" >
        <h2>브랜드</h2>
      </div>
       
      <div class="brand-more" >
        <a href="/display/brandSearch" class="link-brand-search">브랜드 찾기</a>
      </div>
      
      
      <div class="categoty-bottom-menu is-two">
       
          
            <a href="javascript:$.eshopfront.cust.logout();">로그아웃</a>
          
          
        
        <a href="/customer/main">고객센터</a>
        
      </div>
      <div class="customer-num-area">
        <a href="tel:080-130-1010" title="새창으로 쇼핑엔티 문의에 문의하기"><span>쇼핑엔티 문의</span>&nbsp;<strong>080-130-1010</strong></a>
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick='closeCategoryPopup()'>팝업 닫기</button>
    
      <script type="text/javascript">
        function closeCategoryPopup() {
          popup.close("#category-popup");
          $("div.shop-info > .order-deli > strong").text("");
          $("div.shop-info > .saving > strong").text("");
          $("div.shop-info > .coupon > strong").text("");
        }
      </script>
  </div>
</div>
  
    <div id="termsPopUp"></div>
    











 





 
   
 
 
 


    



  
              
  
  









<!-- 제휴 할인 팝업 -->


<!-- 메인슬라이드 팝업 -->




<!-- 앱설치 유도 팝업 -->


<!-- 앱설치 유도 팝업 이미지 텍스트형 -->


<!-- 엡 종료 팝업 -->


<!-- 플로팅 배너 -->
 <!-- 공통팝업 관련 -->
    
    
    











 





 
   
 
 
 


    



  
              
  
  







  <!-- AceCounter Mobile WebSite Gathering Script V.7.5.2019080601 -->
  <!-- 
  //* 20220729 aceCounter 광고스크립트 제거 - 계약 만료 
  <script type="text/javascript">
      var _AceGID=(function(){var Inf=['m.shoppingntmall.com','m.shoppingntmall.com','AZ3A78800','AM','1','NaPm,Ncisy','ALL','0']; var _CI=(!_AceGID)?[]:_AceGID.val;var _N=0;if(_CI.join('.').indexOf(Inf[3])<0){ _CI.push(Inf);  _N=_CI.length; } return {o: _N,val:_CI}; })();
      var _AceCounter=(function(){var G=_AceGID;var _sc=document.createElement('script');var _sm=document.getElementsByTagName('script')[0];if(G.o!=0){var _A=G.val[G.o-1];var _G=(_A[0]).substr(0,_A[0].indexOf('.'));var _C=(_A[7]!='0')?(_A[2]):_A[3];var _U=(_A[5]).replace(/\,/g,'_');_sc.src=(location.protocol.indexOf('http')==0?'https:':'http:')+'//cr.acecounter.com/Mobile/AceCounter_'+_C+'.js?gc='+_A[2]+'&py='+_A[1]+'&up='+_U+'&rd='+(new Date().getTime());_sm.parentNode.insertBefore(_sc,_sm);return _sc.src;}})();
  </script>
  <noscript><img src='http://gmb.acecounter.com/mwg/?mid=AZ3A78800&tp=noscript&ce=0&' border='0' width='0' height='0' alt=''></noscript> -->
  <!-- AceCounter Mobile Gathering Script End -->
  
  <!-- EIGENE Script Start -->
  <script type="text/javascript">
      window._eglqueue = window._eglqueue || [];
      _eglqueue.push(['setVar','cuid', '81e6109e-25a3-452d-8863-966af7a0f04b']);
      _eglqueue.push(['setVar','userId','202411248309']);
      _eglqueue.push(['track','visit']);
      (function(s,x){s=document.createElement('script');s.type='text/javascript';
      s.async=true;s.defer=true;s.src=(('https:'==document.location.protocol)?'https':'http')+
      '://logger.eigene.io/js/logger.min.js';
      x=document.getElementsByTagName('script')[0];x.parentNode.insertBefore(s, x);})();
  </script>
  <!-- EIGENE Script End -->
  
  
  <!-- HSMOA Target Script Start -->
  
  <!-- HSMOA Target Script End -->



<!-- Braze Init -->

<!-- Braze End -->

    











 





 
   
 
 
 


    



  
              
  
  







  <script type="text/javascript">
    <!-- AceCounter Start --> 
    //* 20220729 aceCounter 광고스크립트 제거 - 계약 만료 
        /* var m_pd  = '25FW 아보크 클로그 윈터슈즈 2종 여성'; 
        var m_ct  = '신발/운동화/스포츠화/운동화/스포츠화/운동화';
        var m_amt = '29900'; */
    <!-- AceCounter End --> 
    </script>
    
    <script>  
    <!-- HSMOA Target Script Start -->
    
        var product = "24760392";
        window.buzzni_rt.sendProduct(account, site, user_id, email, product, from_hsmoa); //홈쇼핑모아 리타겟팅 스크립트 메인에서 호출 시 
    <!-- HSMOA Target Script End -->
    </script>
    
    <!-- EIGENE Script Start -->
    <script type="text/javascript">
      var referrer = document.referrer;
      var searchYn = referrer.indexOf('/display/goods/search/page/result');
      var searchTerm = '';
      if(searchYn > -1) {
        var start = referrer.indexOf('keywordSearch')+14;
        searchTerm = referrer.substr(start);
      }
      
      window._eglqueue = window._eglqueue || [];
        _eglqueue.push(['setVar','cuid', '81e6109e-25a3-452d-8863-966af7a0f04b']);
        _eglqueue.push(['setVar','itemId','24760392']);
        _eglqueue.push(['setVar','userId','202411248309']);
        _eglqueue.push(['setVar','category','']);
        _eglqueue.push(['setVar','searchTerm', searchTerm]);
        _eglqueue.push(['track','view']);
      _eglqueue.push(['track','product']);  
        (function(s,x){s=document.createElement('script');s.type='text/javascript';
        s.async=true;s.defer=true;s.src=(('https:'==document.location.protocol)?'https':'http')+
        '://logger.eigene.io/js/logger.min.js';
        x=document.getElementsByTagName('script')[0];x.parentNode.insertBefore(s, x);})();
    </script>
    <!-- EIGENE Script End -->
    
    <!-- MOBION Script Start -->
    <script type="text/javascript">
    
    var ENP_VAR = {
    collect: {},
    conversion: { product: [] }
    };
    ENP_VAR.collect.productCode = "24760392";
    ENP_VAR.collect.productName = "25FW 아보크 클로그 윈터슈즈 2종 여성";
    ENP_VAR.collect.price       = "29900";
    ENP_VAR.collect.dcPrice     = "29900";
    
    
      
      ENP_VAR.collect.soldOut     = 'N';
      
      
    
    ENP_VAR.collect.imageUrl    = "https://img.shoppingntmall.com/goods/392/24760392_h.jpg";
    ENP_VAR.collect.topCategory = "신발";
    ENP_VAR.collect.firstSubCategory  = "운동화/스포츠화";
    ENP_VAR.collect.secondSubCategory = "운동화/스포츠화";
    ENP_VAR.collect.thirdSubCategory  = "운동화";
    
    </script>
    <!-- MOBION Script End -->
    
    <!-- Enliple Tracker End -->
    
    <!--에어브릿지 상세 GTM 통합 -->
    
    <!-- 에어브릿지 End -->


  </div>
  
  
  <div id="appCardArea"></div>
    
  <script type="text/javascript">
  	// 화면 로딩 후 touchState true
    $(document).ready(function() {
      if (isAndroid()) {
  			window.onpopstate = function(event) {
  			  if (popupIdList.length > 0) {
  					var delPopupId = popupIdList.at(-1);
  					if (delPopupId === '#push-noti-popup') {
  					  $('#pushMsgPopYes').trigger('click');
            } else {
              popup.close(delPopupId);              
            }
  			  } else {
  					window.history.back();
  				}
  			};
      }
      
      if (!$(location).attr('pathname').includes('/plan/planshop/swipeDetail')) {
        touchState = true;
      }
      
      var menuArr = new Array();
      var device = "02";
      if("" =="Y") {
        
        	//ITSR-8689
        	//var bestArea = document.querySelectorAll(".mainBestArea").length;
          //if (bestArea > 0) {
          //  var num = 0;
          //  var ani = setInterval(() => {
          //    num++;
          //    
          //      $.eshopfront.cmm.igenRecommendGoods('m014', '', '', '', 'mainBestArea','','mo_home_3');
          //      clearInterval(ani);
          //    if(num === 100) {
          //      clearInterval(ani); 
          //    }
          //  }, 100);
          //}
        
        if(isApp()) {
         if (window.webkit != undefined && window.webkit.messageHandlers != undefined && window.webkit.messageHandlers.shoppingntapp != undefined && window.webkit.messageHandlers.shoppingntapp.postMessage != undefined) {
         	window.webkit.messageHandlers.shoppingntapp.postMessage("appSetupVideo?"); // IOS
         } else {
           if("Y" == "Y") {
             window.shoppingntapp.appSetupVideo(); // AOS
           }
         }
        }
      }
    
      
      
      // if ($.cookie("POS") != null) {
      //   $.removeCookie('POS', { path: '/' });                    
      // }
    });
    
  	$(function(){
    	if(prevPage.indexOf(siteDomain) == -1){
    	  prevPage = "";
    	}
    	
    	if("" =="Y" && prevPage == ""){
    	  $(".btn-forward-go").hide();
    	  $(".btn-prev-go").hide();
    	}else if("" =="Y" && prevPage != ""){
        $(".btn-forward-go").show();
    	}else{
        $(".btn-prev-go").show();
      }
  
    	//뒤로가기 호출 시 reload 필요항목 정의 
    	$(window).bind("pageshow", function(event) {
  	    if($("#ssCartCount").length > 0){				// 장바구니 수량영역 존재 시
  				$.ajax({
          	url : '/common/setReloadCartCnt',
      	  	type : 'GET',
      	  	headers: {
      											"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    											},
            success: function(result) {
              //console.log("result :"+ JSON.stringify(result));
              var data = result.resultData;
              //console.log(" data : "+ data);
              if( data != null && data >0){
              	if(data > 99){
              		$("#ssCartCount").html("99+");
              	} else {
              		$("#ssCartCount").html(data);
              	}
              }
            }
  				});
  			}
  		});  
  	});
  	
  	window.onload = function() {
  		// 재고 체크 호출
      if(stockChkGoods !="") {
      	$.eshopfront.cmm.stockChkGoods();
      }
    }
  </script>
  
  <script src="https://static.criteo.net/cbs/prod/v3/BeaconSDK/bundle.js"
          data-dynamic-tracking="true"
          async></script>

  
  
</body>
<script>
    // criteo 앱일떄 크리테오용 광고ID 저장 로직
    window.addEventListener("load", () => {
        try {
            if (isApp()) {
                if (isIOS()) {
                    sendAppBridge("getRegisterAdId");
                }
                if (isAndroid()) {
                    shoppingntapp.getRegisterAdId();
                }
            }
        } catch (e) {
            // 앱 통신 오류 발생 시 무시
            console.error("Criteo Bridge Error ignored:", e);
        }
    });
    // getRegisterAdId 콜백 함수
    window.getRegisterAdIdResult = function(advertisingId, deviceType, result) {
        try {
            if (result === "SUCCESS") {
                const savedAdId = $.eshopfront.cmm.getCookie("advertisingId");
                // 쿠키가 없거나 값이 다르면 업데이트
                if (!savedAdId || savedAdId !== advertisingId) {
                    $.eshopfront.cmm.setCookieDays("advertisingId", advertisingId, 1);
                    $.eshopfront.cmm.setCookieDays("deviceType", deviceType, 1);
                }
            }
        } catch (e) {
            // 콜백 처리 오류 발생 시 무시
            console.error("Criteo Callback Error ignored:", e);
        }
    };
</script>
<style>
  /* .prd-option-box .sticky-bottom-area {} */
</style>
</html>
