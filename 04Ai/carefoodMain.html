<!DOCTYPE html>
<html lang="ko" xml:lang="ko" class="page-tv pop-open">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  
  
  
  <meta name="naver-site-verification" content="ed59e7ff4888e20fcf50b6ead9060d75e0ea4b08" />
  <meta name="google-site-verification" content="eDz4v0X9Q8uohMD0tyAlp_-zNaYksYUmZV27uafJFD4" />
  <meta name="facebook-domain-verification" content="r78h9sx506s3hyuq2m6ejmu370hg53" />
  <meta name="google-site-verification" content="vxaAUJavXjM8t9AuRl-2kSAE-SRmbCAI2z8ecc-PJ_I" />
              
                <title>쇼핑엔티몰 | 티나는 밥상</title>
	<meta name="robots" content="index,follow"/>
	<meta name="referrer" contents="always"/>
	<meta name="format-detection" content="telephone=no"/>
	<meta name="X-CSRF-TOKEN" content="37aba8b7-3c18-41f8-9174-ae8b6310dccd">
  <meta name="title" content="쇼핑엔티 모바일 쇼핑몰">
  <meta name="description" content="쇼핑의 새로운 트렌드 쇼핑엔티 모바일 쇼핑몰">
  <meta name="keywords" content="쇼핑엔티, ShoppingnT, 쇼핑엔티 홈쇼핑, TV쇼핑, 쇼핑엔딜, 패션, 식품, 주얼리, 가전">
        
      <meta property="og:title" content="쇼핑엔티 모바일 쇼핑몰">
      <meta property="og:site_name" content="쇼핑엔티">
      <meta property="og:type" content="website">
      <meta property="og:url" content="http://m.shoppingntmall.com/index">
      <meta property="og:image" content="//m.shoppingntmall.com/moassets/images/common/og_logo.png">
      <meta property="og:description" content="쇼핑의 새로운 트렌드 쇼핑엔티 모바일 쇼핑몰">
    
  
  <link rel="apple-touch-icon-precomposed" href="https://m.shoppingntmall.com/moassets/images/common/favicon_ios.png"><!-- iOS계열 아이콘 -->
	<link rel="shortcut icon" href="https://m.shoppingntmall.com/moassets/images/common/favicon_ios.png">
  <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/jquery-ui.min.css?v=20250807">
	<link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/swiper.css?v=20250807">
  <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/m_swipe.css?v=20250807"> <!-- swiper 관련 추가 -->
	<link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/common.css?v=20250807">
  <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/sub.css?v=20250807">
  <link rel="stylesheet" href="https://m.shoppingntmall.com/moassets/css/video-js.css?v=20250807">
  
   
  
  
  <script type="text/javascript">
    var IMG_PATH = "https://img.shoppingntmall.com";
    var VOD_PATH = "https://vod.shoppingntmall.com";
    var LIVE_PATH = "https://live.shoppingntmall.com";
    var SERVER_TYPE = "prd";                          
    var ISLOGIN = 'Y';                
    var DEVICECD = '02';              
    var OSCD = '';                      
    var ISMEMBER = 'Y'               
    var SS_MEDIACODE = '';						            			
    var UTM_SOURCE = '';								            													
    var UTM_CAMPAIGN = '';						            
    var UTM_MEDIUM = '';								            
    var UTM_CONTENT = '';							            
    var stockChkGoods = "";                                     
    var siteDomain = "";									        
    var frontDomainMo = 'https://m.shoppingntmall.com';							        
    var prevPage = document.referrer;										        	
    var headerType = '01';	        
    var advtProcessOn = 'Y';    			
    var NOW_APP_VERSION = "";                   
    
    var appCardAuthUrl = "https://payment.tvhub.co.kr:488/APPCARD-AUTH/index.html#/";                   
  </script>
  











 





 
   
 
 
 


    



  
              
  
  








  <!-- Paste this code as high in the <head> of the page as possible -->
  <!-- Google Tag Manager 웹/앱 분리처리 -->
  <script>
    window.dataLayer = window.dataLayer || [];
    if(DEVICECD === "03"){
    dataLayer.push({'appName' : 'shoppingnt_app'});
    }else{
    dataLayer.push({'appName' : 'shoppingnt_web'});
    }
    
    
  
  var whatCheckPath = document.location.pathname;
  if( whatCheckPath == "/member/join/success" ){
      var gaTagingSaveCheck = "";
      if(gaTagingSaveCheck == "2"){
       dataLayer.push({'memberType' : 'kakaotalk'}); 
      }else if(gaTagingSaveCheck == "3"){
       dataLayer.push({'memberType' : 'naver'}); 
      }else if(gaTagingSaveCheck == "4"){
       dataLayer.push({'memberType' : 'apple'}); 
      }else if(gaTagingSaveCheck == "5"){
       dataLayer.push({'memberType' : 'ocb'}); 
      }else{
       dataLayer.push({'memberType' : 'shoppingnt'});
      }
  }
  
  
  
  var whatLoingCheck = "1";
  
  if( whatLoingCheck == "2" ){
  dataLayer.push({'loginType' : 'kakaotalk'});
  }else if (whatLoingCheck == "1"){
  dataLayer.push({'loginType' : 'shoppingnt'});
  }else if(whatLoingCheck == "3"){
  dataLayer.push({'loginType' : 'naver'}); 
  }else if(whatLoingCheck == "4"){
  dataLayer.push({'loginType' : 'apple'}); 
  }else if(whatLoingCheck == "5"){
  dataLayer.push({'loginType' : 'ocb'}); 
  }else{
  }
    
  </script>
  
  
<!-- Global site tag (gtag.js) - Google Ads: 10832462719 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-10832462719"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'AW-10832462719');
</script>
  
  <!-- Google Tag Manager 웹/앱 분리처리 -->
  
  
    
  
  
  
  <!--Naver Keyword Script Strat-->
  <script type="text/javascript" src= "//wcs.naver.net/wcslog.js" ></script>
  <script type="text/javascript">
      try{
          //A. AccountID 적용
          if(!wcs_add) var wcs_add={};
          wcs_add["wa"] = "s_1ffa5af2cb70";
          //B.유입추적함수
          if(!_nasa) var _nasa={};
          wcs.inflow();
          //C. 로그 수집 함수 호출
          wcs_do(_nasa);
      }catch(e){
      }
  </script>
  <!--Naver Keyword Script End-->
  
  
  <script type="text/javascript">
  var account       = "11";  // 홈쇼핑모아에서 발급한 고유 ID
  var site          = "";    // iOS,Android,web,mobileWeb 
  var user_id       = "";    // 고객 고유 ID
  var email         = "";    // 옵션 
  var from_hsmoa    = false; // 홈쇼핑모아인 경우 true 
  
  if(DEVICECD === "03"){
      if(OSCD === "02"){
          site = "ios"; 
      }else{
          site = "android";
      }
  }else{
      if(DEVICECD === "01"){
          site = "web";
      }else{
          site = "mweb";
      }
  }
  user_id = "202411248309";
  email   = "kj.kim@trncompany.co.kr".trim().toLowerCase();
  if("MC01" == "MC04"){
      from_hsmoa = true;
  }
  </script>



<!-- Meta Pixel Code -->
<script type="text/javascript">
!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","547150599169038");fbq("track","PageView");
</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=547150599169038&ev=PageView&noscript=1"/></noscript>
<!-- End Meta Pixel Code -->


    
  <script src="http://m.shoppingntmall.com/moassets/js/jquery-3.6.0.min.js"></script>
  <!-- 에어브릿지 Start -->
  <script>
  
    
    (function(a_,i_,r_,_b,_r,_i,_d,_g,_e){if(!a_[_b]){var d={queue:[]};_r.concat(_i).forEach(function(a){var i_=a.split("."),a_=i_.pop();i_.reduce(function(a,i_){return a[i_]=a[i_]||{}},d)[a_]=function(){d.queue.push([a,arguments])}});a_[_b]=d;a_=i_.getElementsByTagName(r_)[0];i_=i_.createElement(r_);i_.onerror=function(){d.queue.filter(function(a){return 0<=_i.indexOf(a[0])}).forEach(function(a){a=a[1];a=a[a.length-1];"function"===typeof a&&a("error occur when load airbridge")})};i_.async=1;i_.src="//static.airbridge.io/sdk/latest/airbridge.min.js";a_.parentNode.insertBefore(i_,a_)}})(window,document,"script","airbridge","init fetchResource setBanner setDownload setDownloads setDeeplinks sendWeb setUserAgent setUserAlias addUserAlias setMobileAppData setUserId setUserEmail setUserPhone setUserAttributes clearUser setDeviceIFV setDeviceIFA setDeviceGAID events.send events.signIn events.signUp events.signOut events.purchased events.addedToCart events.productDetailsViewEvent events.homeViewEvent events.productListViewEvent events.searchResultViewEvent".split(" "),["events.wait"]);

    airbridge.init({
      app: 'spnt',
      webToken: '056a65652a334eac8ba5f221d363823e'
    }); 
    
    
  
  </script>
  <!-- 에어브릿지 End -->
  <script type="text/javascript" src="//hsmoa.com/media/buzzni_rt.min.js"></script>
	<script src="http://m.shoppingntmall.com/moassets/js/swiper.min.js"></script>
	<script src="http://m.shoppingntmall.com/moassets/js/pub_common.js"></script>
	<script src="http://m.shoppingntmall.com/moassets/js/video.min.js"></script>
  
  <script src="http://m.shoppingntmall.com/moassets/js/eshopfrontCommon.js?v=20250904"></script>
  <script src="http://m.shoppingntmall.com/moassets/js/eshopfrontCustomer.js"></script>
  <script src="http://m.shoppingntmall.com/moassets/js/eshopfrontFile.js"></script>
  <script src="http://m.shoppingntmall.com/moassets/js/jquery-ui.min.js"></script>
  <script src="http://m.shoppingntmall.com/moassets/js/jquery.cookie.min.js"></script>
  <script src="http://m.shoppingntmall.com/moassets/js/goods/bzn-search-engine.js"></script>        
  <script src="http://m.shoppingntmall.com/moassets/js/exif-js.3.3.25.min.js"></script>        
  <script type="text/javascript">
    if(isEmpty(getLSValue("CUST_NO")) || getLSValue("CUST_NO") != '202411248309') {
      setLSValue("CUST_NO", '202411248309');
      setLSValue("CUST_NM", '테스트vip');
    }
  </script>
  
  <!-- Braze CDN -->
  <script type="application/javascript">
	var brazeActive = true;
  var brazeSdkKey = "6ed86487-3374-4e2c-87e4-bf9934f7e2c8";
  var brazeEndPoint = "sdk.iad-05.braze.com";
  var brazeLogEnable = false;
	var brazeActiveApi = true;

  +function(a,p,P,b,y){a.braze={};a.brazeQueue=[];for(var s="BrazeSdkMetadata DeviceProperties Card Card.prototype.dismissCard Card.prototype.removeAllSubscriptions Card.prototype.removeSubscription Card.prototype.subscribeToClickedEvent Card.prototype.subscribeToDismissedEvent Card.fromContentCardsJson Banner CaptionedImage ClassicCard ControlCard ContentCards ContentCards.prototype.getUnviewedCardCount Feed Feed.prototype.getUnreadCardCount ControlMessage InAppMessage InAppMessage.SlideFrom InAppMessage.ClickAction InAppMessage.DismissType InAppMessage.OpenTarget InAppMessage.ImageStyle InAppMessage.Orientation InAppMessage.TextAlignment InAppMessage.CropType InAppMessage.prototype.closeMessage InAppMessage.prototype.removeAllSubscriptions InAppMessage.prototype.removeSubscription InAppMessage.prototype.subscribeToClickedEvent InAppMessage.prototype.subscribeToDismissedEvent InAppMessage.fromJson FullScreenMessage ModalMessage HtmlMessage SlideUpMessage User User.Genders User.NotificationSubscriptionTypes User.prototype.addAlias User.prototype.addToCustomAttributeArray User.prototype.addToSubscriptionGroup User.prototype.getUserId User.prototype.incrementCustomUserAttribute User.prototype.removeFromCustomAttributeArray User.prototype.removeFromSubscriptionGroup User.prototype.setCountry User.prototype.setCustomLocationAttribute User.prototype.setCustomUserAttribute User.prototype.setDateOfBirth User.prototype.setEmail User.prototype.setEmailNotificationSubscriptionType User.prototype.setFirstName User.prototype.setGender User.prototype.setHomeCity User.prototype.setLanguage User.prototype.setLastKnownLocation User.prototype.setLastName User.prototype.setPhoneNumber User.prototype.setPushNotificationSubscriptionType InAppMessageButton InAppMessageButton.prototype.removeAllSubscriptions InAppMessageButton.prototype.removeSubscription InAppMessageButton.prototype.subscribeToClickedEvent automaticallyShowInAppMessages destroyFeed hideContentCards showContentCards showFeed showInAppMessage toggleContentCards toggleFeed changeUser destroy getDeviceId initialize isPushBlocked isPushPermissionGranted isPushSupported logCardClick logCardDismissal logCardImpressions logContentCardsDisplayed logCustomEvent logFeedDisplayed logInAppMessageButtonClick logInAppMessageClick logInAppMessageHtmlClick logInAppMessageImpression logPurchase openSession requestPushPermission removeAllSubscriptions removeSubscription requestContentCardsRefresh requestFeedRefresh requestImmediateDataFlush enableSDK isDisabled setLogger setSdkAuthenticationSignature addSdkMetadata disableSDK subscribeToContentCardsUpdates subscribeToFeedUpdates subscribeToInAppMessage subscribeToSdkAuthenticationFailures toggleLogging unregisterPush wipeData handleBrazeAction".split(" "),i=0;i<s.length;i++){for(var m=s[i],k=a.braze,l=m.split("."),j=0;j<l.length-1;j++)k=k[l[j]];k[l[j]]=(new Function("return function "+m.replace(/\./g,"_")+"(){window.brazeQueue.push(arguments); return true}"))()}window.braze.getCachedContentCards=function(){return new window.braze.ContentCards};window.braze.getCachedFeed=function(){return new window.braze.Feed};window.braze.getUser=function(){return new window.braze.User};(y=p.createElement(P)).type='text/javascript';
      y.src='https://js.appboycdn.com/web-sdk/4.0/braze.min.js';
      y.async=1;(b=p.getElementsByTagName(P)[0]).parentNode.insertBefore(y,b)
    }(window,document,'script');
    
  </script>  
  <!-- Braze CDN END -->

 
  <script type="text/javascript">
  function sendToBrazePushYns(){
    
    if(!brazeActive || getSSValue("updateBrazeAppPush") == 'Y') {
      return;
    }
    
    $.ajax({
      url : "/app/device-info", 
      type : "get",
      dataType : "json",
      headers: {
        'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
      },
      success : function(data) {
        
        try{

          var resultCode = data.resultCode;
          
          if(resultCode != '0000'){
            return;
          }
          
          var nightEventPushYn = false;

          var status = false;
          
          if(data.resultData.deviceInfo.eventPushYn == '1'){
            status = true;
          }
          
          if(data.resultData.deviceInfo.nightEventPushYn == '1'){
            nightEventPushYn = true; 
          }
          
          if(isApp()){
            
            var updateVersion = '';
            if (isAndroid()) updateVersion = '2.8.5';
            if (isIOS()) updateVersion = '2.8.2';
            var appVerChk = true;
            if (compareVersionsBraze(NOW_APP_VERSION, updateVersion)) {
              appVerChk = false;
            }
            
            if(appVerChk){
                var map = JSON.stringify({"push_agree_status": status});
                var map2 = JSON.stringify({"night_push_agree_status": nightEventPushYn});
                if(isAndroid()){
                    shoppingntapp.appBrazeCustomUserAttribute(map);
                    shoppingntapp.appBrazeCustomUserAttribute(map2);
                }else if(isIOS()){
                    window.webkit.messageHandlers.shoppingntapp.postMessage("appBrazeCustomUserAttribute?param="+map);
                    window.webkit.messageHandlers.shoppingntapp.postMessage("appBrazeCustomUserAttribute?param="+map2);
                }               
            }else{
                brazeInit();
                braze.getUser().setCustomUserAttribute("push_agree_status", status); 
                braze.getUser().setCustomUserAttribute("night_push_agree_status", nightEventPushYn); 
                braze.openSession();
            } 

          }else{
              brazeInit();
              braze.getUser().setCustomUserAttribute("push_agree_status", status); 
              braze.getUser().setCustomUserAttribute("night_push_agree_status", nightEventPushYn); 
              braze.openSession();
          }   
        
          setSSValue("updateBrazeAppPush", 'Y');

        }catch(e){
          console.log(e);
        }
      }
    });  
  }
  
	if(ISLOGIN == 'Y' && isApp()) {
        sendToBrazePushYns();
	}
  
  </script>
  
  
   
   











 





 
   
 
 
 


    



  
              
  
  







    
   
   
   
   <!-- 크리테오 스크립트 설치(공통 S) -->
   <script type="text/javascript" src="//dynamic.criteo.com/js/ld/ld.js?a=66997" async></script>
   <!-- 크리테오 스크립트 설치(공통 E) -->

   
   
   <script type="text/javascript">
    window.criteo_q = window.criteo_q || [];
    window.criteo_q.push(
    { event: "setAccount", account: 66997 },
    { event: "setEmail", email: "kj.kim@trncompany.co.kr".trim().toLowerCase(), hash_method: "none" },
    { event: "setSiteType", type: "m"},
    { event: "viewHome" }
    );
	 </script>
   
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PMNNGMC');</script>
  <!-- End Google Tag Manager -->
  <!-- More Script -->
  <script>
  var _croID = '689c5e27049fcd34b2758784';
  function getMoreRecommend(e,n){"undefined"!=typeof globalCRO?new globalCRO.MoreRecommendData(e,n):
  ("undefined"==typeof gCroRCData&&(window.gCroRCData=new Array),gCroRCData.push({config:e,callback:n}))}
  function createMoreRCView(e){"undefined"!=typeof globalCRO?new globalCRO.MoreRecommendView(e):
  ("undefined"==typeof gCroRCV&&(window.gCroRCV=new Array),gCroRCV.push({config:e}))}
  function mcroPushEvent(n){"undefined"!=typeof globalCRO?globalCRO.sendEvent(n):
  ("undefined"==typeof gCro&&(window.gCro=new Array),gCro.push(n))}
  function _cro_initialize(){window.globalCRO=new MCro,globalCRO.jsInit(_croID)}
  </script>
  <script async type="text/javascript" src="//cro.myshp.us/resources/common/js/more-common.js"></script>
  <!-- End More Script -->    
</head>
<body>
  <div id="popupDiv"></div>
  <div id="wrap" class="is-tab-bar"> 
  <div class="popup coach" id="coach-offer-popup">
      <div class="coach-offer">
          <div class="coach-icon"><span></span></div>
          <div class="coach-txt">
              <div class="coach-txt1">적립금 쌓기</div>
              <div class="coach-txt2">미션 참여하고<br>적립금을 모아보세요!</div>
          </div>
          <button type="button" onclick="popup.close('#coach-offer-popup')">닫기</button>
      </div>
                  
  </div>
    <form id="autoLogin" action="/login/doAutoLogin" method="get"><input type="hidden" value="" name="returnUrl" /></form>
    











 





 
   
 
 
 


    



  
              
  
  








<input type="hidden" id="serachUrl" name="serachUrl" value="">
<script type="text/javascript">
// 중복클릭 방지
var clickUrl = "";
$(document).on("click", "a", function(e) {
  if (isNotEmpty($(this).attr("href"))) {
    if ($(this).attr("href") === '/') {
      if (clickUrl == $(this).attr("href")) e.preventDefault();
      else clickUrl = $(this).attr("href"); 
    }
  	
    //트래킹 대상	-> setAllParams
    const trkTgUrls	 = ["/display/goods/"];
    
		//트래킹 대상 -> entyTyCd param만 필요
    const trkUrls		= [
			"/plan/planshop/swipeDetail/", "/plan/event/swipeDetail/", "/category/g-list-cate/"
			, "/display/deal/dealMain", "/broadcast/tvBroadcastMain", "/display/suggest/suggestMain"
			, "/showtimedeal/showTimeDealMain", "/display/relation/relationMain", "/display/best/bestMain"
			, "/display/showmart/showmartMain", "/display/showmart/showmartDetail", "/display/template/brand-template-main"
			, "/display/deal/"
            , "/display/carefood/carefoodMain" // 티나는밥상 추가
            , "/display/carefood/carefoodTimeDealGoodsList" // 티나는밥상 타임딜 상품 리스트 추가
		];
    
    //트래킹 대상 병합 
    const mergedTrkUrls = [
      ...trkTgUrls.map(url => ({ url, setAllParams: true })),
      ...trkUrls.map(url => ({ url, setAllParams: false }))
    ];
    
    const trkUrlChk = mergedTrkUrls.find(item => {
      // href 재설정
      let href = $(this).attr("href");
      const match = href.match(/location\.href='([^']+)'/);
      if (match) {
        href = match[1];
        $(this).attr("href", href);
      }
      return href.indexOf(item.url) === 0;
    });
    
    if(trkUrlChk){
      e.preventDefault();
      _setTrkParams($(this), trkUrlChk);
      return false;
    }
    
  }
});

//트래킹 param 셋팅
function _setTrkParams(obj, { url, setAllParams }){
  
  const thisHrefUrl = obj.attr("href");
  
  try{
  	const url = new URL(thisHrefUrl , window.location.origin);
  	let urlParams = new URLSearchParams(url.search);
  
  	const entyTyCd = obj.closest('[data-enty-ty-cd]').data('entyTyCd');					//진입구분코드
  	if (entyTyCd) {
      urlParams.set("entyTyCd", entyTyCd);
    }
    
    if(setAllParams){
      const entySrcCd  = obj.closest('[data-enty-src-cd]').data('entySrcCd');        //진입소스코드
      const entyPageId = obj.closest('[data-enty-page-id]').data('entyPageId');      //진입페이지ID
      if (entySrcCd) {
        urlParams.set("entySrcCd", entySrcCd);
      }
      if (entyPageId) {
        urlParams.set("entyPageId", entyPageId);
      }
    }
    
    url.search = urlParams.toString();
    window.location.href =  url.toString(); 

  }catch(e){
		console.error(e);
		window.location.href =  thisHrefUrl;
  }
}

	//백키 중복클릭 방지 초기화
  window.onpageshow = function(event) {
    if (event.persisted || (window.performance && window.performance.navigation.type == 2)) {
      clickUrl = "";
    }
  }
	
  function redirectIfOrderComplete() {
    const path = window.location.pathname;

    if (path === "/order/orderComp" || path.startsWith("/order/orderComp?") || path.startsWith("/order/orderFail?")) {
        location.replace("/");  // 뒤로 가기일 때만 홈으로 리디렉션
    }
  }

  // 뒤로 가기 방지
  window.addEventListener('popstate', function(event) {
    redirectIfOrderComplete(); // 주문 완료 페이지 체크

    let curUrl = document.URL+'';
    if (curUrl.indexOf('/cart') >= 0 && sessionStorage.getItem("fromOrderSheet") === "true") {
        // 일반주문서에서 임직원 아닌 경우 구매제한 팝업으로 장바구니 이동한 경우 홈으로 이동
        sessionStorage.removeItem("fromOrderSheet");
        location.href = "/";
    }
});
  
  // GNB 메뉴일 때 뒤로가기 누를 시 앱종료팝업 호출
  function clickBackKey() {
    var gnbYn = "Y";
    var flag = (gnbYn === "Y" && isAndroid() && !$(".appPopupList").hasClass("open") && $(".popup.open").length > 0);
    
 		// GNB메뉴, 안드로이드, 앱종료 팝업 미노출, 팝업 노출일 경우 gnbYn 값을 N으로 변경하여 뒤로가기
    if (isAndroid() && $(".popup.open").length > 0 && $(".popup.open").hasClass("mainPopupList")) {
      gnbYn = "Y";
    } else if (flag) {
      gnbYn = "N";
    }
    
    window.shoppingntapp.appShowClosePopup(gnbYn);
  }
</script>

<!-- APP PUSH CUID 값이 GUEST이면 loginApp 호출 -->
  <script>

  if (isApp()) {
    if ('N' == 'Y' && getLSValue("updateAppPush") != 'Y') {
      $.ajax({
        url : "/common/push/userInfo",
        type : "get",
        headers: {
          'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
        },
        dataType : "json",
        success : function(data) {
  
			var cuid = data.resultData.cuid;
			if(cuid == 'GUEST'){
            	//console.log("/common/push/userInfo cuid : " , data);
    			try{
    				if(isIOS()){
    					schemeFrame = document.createElement("IFRAME");
    					schemeFrame.setAttribute("src", "shoppingntapp://loginApp?k=202411248309");
    					document.body.appendChild(schemeFrame);
    					schemeFrame.parentNode.removeChild(schemeFrame);
    					schemeFrame = null;
    					/*Ios 로그인 여부 추가 */
    					if (window.webkit != undefined && window.webkit.messageHandlers != undefined && window.webkit.messageHandlers.shoppingntapp != undefined && window.webkit.messageHandlers.shoppingntapp.postMessage != undefined) {
    						window.webkit.messageHandlers.shoppingntapp.postMessage("loginApp?custNo=202411248309&custName=테스트vip&iautoLogin=0");
    					}
    				}else{
    					window.shoppingntapp.loginApp("202411248309", "테스트vip", "0");
    				}
    			}catch(e){
    				console.error(e);
    			}
    			
			}
    		setLSValue("updateAppPush", 'Y');
        }
      });
    }
  }
	
  </script>

 
  



    
    <header id="header">
      <div class="top-area">
        <h1 id="logo"><a href="/">쇼핑엔티</a></h1>
        
        <div class="total-search-area">
          
          
          
          
            <a href="javascript:" class="txt-link see mainSchTitl">            
            
            
            
              <img src="https://img.shoppingntmall.com/kwdMenu/ME0000000000/K00000001527/20251124175949.png" alt="T페스타 쇼핑대축제"/>
            
            
            </a>
          
          <a href="javascript:" class="txt-link mainSchTitl" style="visibility:hidden;">T페스타 쇼핑대축제</a>
          <a href="javascript:" class="btn-search-go mainSchBtn" onclick="goKwd('/plan/planshop/swipeDetail/S00000001942');">버튼</a>
        </div>
        <a href="javascript:openOfferwall();" class="cash">오퍼월</a>
        <button type="button" class="cartb">쇼핑카트
          <span id="ssCartCount" >
          
            
            
              4
            
                          
          </span>
        </button>
      </div>
      <div id="gnb-wrap" data-enty-ty-cd="03">
        
        
        <ul class="swiper-wrapper" >
          
            
              
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/plan/planshop/swipeDetail/S00000000733" data-pos="">
                          <a href="/plan/planshop/swipeDetail/S00000000733">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                TV쇼핑
                              
                              <em>추천!</em>
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/broadcast/tvBroadcastMain" data-pos="">
                          <a href="/broadcast/tvBroadcastMain">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                편성표
                              
                              
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                      <li class="swiper-slide " data-url="/" data-pos="">
                        <a href="/">
                          <span>홈</span>
                        </a>
                      </li>
                      
                        <li class="swiper-slide " data-url="/plan/planshop/swipeDetail/S00000001942" data-pos="">
                          <a href="/plan/planshop/swipeDetail/S00000001942">
                          
                            <span class="is-active">
                              
                              
                              
                              
                                
                                  
                                  
                                    <img src="https://img.shoppingntmall.com/menu/ME0000000128/20251014151316.gif" alt="T페스타" onerror="$(this).hide();$(this).parent().prepend('T페스타');" />
                                  
                                
                            	
                              
                                 
                            </span>
                            
                          </a>
                        </li>
                      
                      
                    
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/plan/planshop/swipeDetail/S00000001954" data-pos="">
                          <a href="/plan/planshop/swipeDetail/S00000001954">
                          
                            <span class="is-active">
                              
                              
                              
                              
                              
                              
                                단하루특가
                              
                              <em>기간한정</em>
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide is-active" data-url="/display/carefood/carefoodMain" data-pos="">
                          <a href="/display/carefood/carefoodMain">
                          
                            <span class="is-active">
                              
                              
                              
                              
                              
                                
                                  
                                  
                                    <img src="https://img.shoppingntmall.com/menu/ME0000000158/20251106100336.png" alt="티나는 밥상" onerror="$(this).hide();$(this).parent().prepend('티나는 밥상');" />
                                  
                                
                            	
                              
                              
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/plan/planshop/swipeDetail/S00000001637" data-pos="">
                          <a href="/plan/planshop/swipeDetail/S00000001637">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                농축산할인
                              
                              <em>20%쿠폰</em>
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/plan/planshop/swipeDetail/S00000001788" data-pos="">
                          <a href="/plan/planshop/swipeDetail/S00000001788">
                          
                            <span class="is-active">
                              
                              
                              
                              
                              
                              
                                겨울패션관
                              
                              <em>AI 룩북</em>
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/showtimedeal/showTimeDealMain" data-pos="">
                          <a href="/showtimedeal/showTimeDealMain">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                타임특가
                              
                              <em>24시간</em>
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/display/deal/dealMain" data-pos="">
                          <a href="/display/deal/dealMain">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                쇼핑엔딜
                              
                              
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/display/template/brand-template-main" data-pos="">
                          <a href="/display/template/brand-template-main">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                브랜드관
                              
                              <em>지금인기!</em>
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/spex/spexMain" data-pos="">
                          <a href="/spex/spexMain">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                기획전
                              
                              
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/event/eventMain" data-pos="">
                          <a href="/event/eventMain">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                이벤트
                              
                              
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
                
                  
                  
                  
                  
                    
                    
                      
                        <li class="swiper-slide " data-url="/display/best/bestMain" data-pos="">
                          <a href="/display/best/bestMain">
                          
                            <span >
                              
                              
                              
                              
                              
                              
                                베스트
                              
                              
                            </span>
                            
                          </a>
                        </li>
                        
                      
                    
                  
                
              
            
            
          
        </ul>
      </div>
      <script>
        
            
        
      
        $("#gnb-wrap > ul > li").each(function(idx) {
          $(this).attr("data-pos", isActiveTargetPos($(this)));
        });
        
      	
          var mTrans = $('#gnb-wrap .swiper-wrapper .swiper-slide.is-active').attr("data-pos");
          $("#gnb-wrap .swiper-wrapper").css({
            "transform": "translate3d(" + mTrans + " , 0, 0)",
            "transition-duration": "0ms"
          });
        
      
        $(document).ready(function() {
          $('#gnb-wrap > ul > li').on("click", function() {
            $.cookie("POS", $(this).attr("data-pos"), {path: '/'});
          });
          
          $(function() {
            // 상단메뉴
            var swiper_tabC = new Swiper('#gnb-wrap', {
              slidesPerView: 'auto',
              preventClicks: true,
              paginationClickable: true,
              spaceBetween: 0,
              freeMode: true,
              pagination: false,
              observer: true,
              observeParents: true,
              watchOverflow : true
            }); 
              
            $(window).scroll(function(){
              if ($(this).scrollTop() > 100) {
                $('#header').addClass('is-scroll');
              } else {
                $('#header').removeClass('is-scroll');
              }
            });
          });
          
          const $videoAll = $('#gnb-wrap video, .total-search-area video, .re-top-banner video, .re-sirvice-wrap video');
          if (isIOSz()) {
            $videoAll.each(function() {
              const $video = $(this);
              const $poster = $('<img>', {
                src: $video.attr('poster'),
                class: 'video-poster'
              });
              //$video.on('suspend', function() {
              $video.before($poster);
              $video.hide();
              $poster.show();
                  
              function playVideo() {
                $poster.hide();
                $video.show();
                $video[0].play();
              }
                  
              $(document).on('click touchstart', playVideo);
                  
              $(window).on('load', function() {
                playVideo();
              });
              //});
            });
          } else {
            $videoAll.each(function() {
              this.setAttribute('autoplay', 'autoplay');
              this.play();
            });
          }
          
        });

	    function isIOSz() {
	        return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
	    }
        
        function muCenter(target) {
          var snbwrap = $('#gnb-wrap .swiper-wrapper');
          var targetPos = target.position();
          var box = $('#gnb-wrap');
          var boxHarf = box.width()/2;
          var pos;
          var listWidth=0;
          
          snbwrap.find('.swiper-slide').each(function(){ listWidth += $(this).outerWidth(); })
          
          var selectTargetPos = targetPos.left + target.outerWidth()/2;
          if (selectTargetPos <= boxHarf) { // left
            pos = 0;
          }else if ((listWidth - selectTargetPos) <= boxHarf) { //right
            pos = listWidth-box.width();
          }else {
            pos = selectTargetPos - boxHarf;
          }
          
          snbwrap.css({
            "transform": "translate3d("+ (pos*-1) +"px, 0, 0)",
            "transition-duration": "0ms"
        	});
      	}
        
        // 헤더 가운데 좌표 구하기
        function isActiveTargetPos(target) {
          var snbwrap = $('#gnb-wrap .swiper-wrapper');
          var targetPos = target.position();		
          var box = $('#gnb-wrap');
          var boxHarf = box.width()/2;
          var pos;
          var listWidth=0;
          
          snbwrap.find('.swiper-slide').each(function(){ listWidth += $(this).outerWidth(); })
          
          var selectTargetPos = targetPos.left + target.outerWidth()/2;
          if (selectTargetPos <= boxHarf) { // left
            pos = 0;
          }else if ((listWidth - selectTargetPos) <= boxHarf) { //right
            pos = listWidth-box.width();
          }else {
            pos = selectTargetPos - boxHarf;
          }
          
          return (pos*-1).toFixed(3) + "px"; 
        }
      </script>
    </header>
 
    
 
  
  
    
   
  
  
  

<script type="text/javascript">
  $(document).ready(function(){
    var headerType = '01';
    var schKeyword = '';
    
    //광고키워드 영역 클릭시
    $(".mainSchTitl, button.search").click(function(){
      location.href="/search/searchMain";
    });

    //광고키워드 영역 클릭시
    $(".ico.search").click(function(){
      location.href="/search/searchMain";
    });
    
    //홈버튼 클릭시
    $(".btn-go-home").click(function(e) {
    	if (clickUrl === "") {
    	  clickUrl = "/"; 
    	  location.href = clickUrl;
    	} else {
    	  e.preventDefault();
    	}
    });
    
    //뒤로가기
    var isBackCall = true;
    //$(".btn-history-back").on("click",function(){
    $(document).on('click', '.btn-history-back', function(){
        let refUrl = document.referrer+'';
        let curUrl = document.URL+'';
        if(refUrl.indexOf('/mypage/mymain') >=0 || curUrl.indexOf('/mypage/member/membershipLevelBenefits') >=0){
          location.href = '/mypage/mymain';
      	} else if (curUrl.indexOf('/cart') >= 0 && sessionStorage.getItem("fromOrderSheet") === "true") {
      	  //일반주문서에서  임직원 아닌 경우 구매제한 팝업으로 장바구니로 이동한 경우에는 홈으로 이동
      	  sessionStorage.removeItem("fromOrderSheet");
      	  location.href = "/";
      	} else {
          if(isBackCall){
            isBackCall = false;
            if(window.history.length > 1 && isNotEmpty(refUrl)) {
              //console.log("이전 페이지 URL: "+document.referrer);
              window.history.back();
            } else {
              if (isApp() && (location.pathname.indexOf("/display/deal/") > -1 || location.pathname.indexOf("/display/goods/") > -1)) {
                if (isAndroid() && typeof window.shoppingntapp !== 'undefined' && typeof window.shoppingntapp.closeAndroidSubView === 'function') {
                  window.shoppingntapp.closeAndroidSubView();
                } else if (isIOS() && !compareVersionsMo(NOW_APP_VERSION, '2.9.4')) {
                  window.webkit.messageHandlers.shoppingntapp.postMessage('closeIOSSubView');
                } else {
                  window.location.href = "/";
                }
              } else {
                window.location.href = "/";
              }
            }
          }        
        }
    });
    //장바구니로 이동
    $(".ico.cart").on("click",function(){
      
			var isLogin = 'Y';
			var isMember = 'Y';
			if(isLogin =='Y' && isMember =='Y'){
      		  location.href = "/cart";
			} else if(isLogin =='Y' && isMember =='N') {
			  goLoginPage();
			} else {
			  location.href = "/cart";
			}
    });
    
    $(".cartb").on("click",function(){
      
      var isLogin = 'Y';
      var isMember = 'Y';
      if(isLogin =='Y' && isMember =='Y'){
        location.href = "/cart";
      } else if(isLogin =='Y' && isMember =='N') {
        goLoginPage();
      } else {
        location.href = "/cart";
      }
    });
    //
    if (headerType == "05") {
      $(".btn-delete").off("click").on("click", function(e) {
  			$(this).parent('.ipt-wrap').find('input.delete').val('').trigger('change').focus();
  			if( $(this).parent('.ipt-wrap').find('.ipt.delete + .unit').length > 0 ){
  				$(this).parent('.ipt-wrap').find('.ipt.delete').css('padding-right', '');
  				$(this).parent('.ipt-wrap').find('.ipt.delete + .unit').css('right', '');
  			};
  			$(this).hide();
  			
        $("#searchKeyWrod").hide();
        $("#searchWrodArea").show();
  			// schKeywordChk();
  			
  		});

      var schKwdInput = document.getElementById("schKeyword");
      // 조회
      if (schKwdInput != null) {
        schKwdInput.addEventListener('keyup', function(event) {
          if (event.keyCode === 13) {
            goSrchResult();
          }
        });
      }
    }
    if (headerType == "06") {
      // SEARCH MAIN MOVE
      //$("#searchAreaDiv, #searchKeyword").on("click", function(event) {
      $(document).on('click', '#searchAreaDiv, #searchKeyword', function(event){
        if (event.target.nodeName !== "BUTTON") {
          var paramUrl = "";
          if (schKeyword != null && schKeyword != "") {
            paramUrl = ("?schKeyword=" + encodeURIComponent(schKeyword));
          }
          location.href = ("/search/searchMain" + paramUrl);
        }
      });
      //$(".btn-search-word-reset").on("click", function(event) {
      $(document).on('click', '.btn-search-word-reset', function(){
        location.href = "/search/searchMain";
      });
      //$(".btn-search-submit").on("click", function(event) {
      $(document).on('click', '.btn-search-submit', function(){
        // 재조회
        reSearchFn()
      });
      
      if(!isHbf) {
        $.eshopfront.cmm.goodsRelationQuery(getSearchKeyword(), searchResultKeywordFn);
      }
    }
  });
  
  function goSrchResult(keyword) {
    var schKeyword = '';
    if (keyword) {
      schKeyword = keyword;
    } else {
      schKeyword = $("#schKeyword").val();
    }
    var kwd = $.eshopfront.cmm.XSS_Check(schKeyword);
    $("#schKeyword").val("");
    var domain = window.location.host;
    //바로가기
    $.eshopfront.cmm.shortCut(kwd);
    var url = $("#serachUrl").val();
    if (isNotEmpty(url)) {
      location.href = url;
    } else {
      if (kwd.length > 0) {
        var ntRcntSrchUseYn = $.eshopfront.cmm.getCookie("ntRcntSrchUseYn", domain);
        if (ntRcntSrchUseYn != "N") { // 자동 저장 체크 여부
          var dupYn ="N";
          var kwdArr =  getCookieKwdArr(domain);
          
          for(var i in kwdArr){
            if(kwdArr[i] == kwd){
              dupYn = "Y";
            }
          } 
          if(dupYn == "N"){
            setCookieKwd(kwd,domain);
          }
          addCookieKwdArr(kwd, domain);
        }
        location.href = ("/display/goods/search/page/result?keywordSearch=" + encodeURIComponent(kwd));
      } else {
        alert("검색어를 입력해주세요.");
      }
    }
  }
  
  function goKwd(lkUrl) {
    if ($(".mainSchTitl").text() !== "") {
      location.href = addUrlParam(lkUrl, 'entyTyCd', '06');
    } else {
      alert("검색어를 입력해주세요.");
    }
  }
  
  function addUrlParam(url, key, value) {
    let urlObj;
    if (url.startsWith("/")) {
      urlObj = new URL(url, window.location.origin);
    } else {
      urlObj = new URL(url);
    }
    urlObj.searchParams.set(key, value);
    return urlObj.toString();
  }
  
  function addUrlParams(url, params) {
    let urlObj;
    if (url.startsWith("/")) {
      urlObj = new URL(url, window.location.origin);
    } else {
      urlObj = new URL(url);
    }
    for (let key in params) {
      urlObj.searchParams.set(key, params[key]);
    }
    return urlObj.toString();
  }
  
  
  function  searchResultKeywordFn(data) {
    if (data.results.length > 0){
      var html = "";
      for (var i in data.results) {
        var val = data.results[i]
        html += "<li><button type=\"button\" class=\"item\" onclick=\"setKeywordFn('"+val+"')\">"+val+"</button></li>";
      }
      $("#searchResultKwywordList").html(html);
      $("#srchKeywordArea").show();
      $("#header").removeClass("type-filter-none");
    } else {
      $("#srchKeywordArea").hide();
      $("#header").addClass("type-filter-none");
    }
  }
  
  
  function setKeywordFn(val) {
    goSrchResult(val);
    /* if (!getSubKeyword(val).hasKey) {
      $("#searchKeyword").append("<li><button type=\"button\" class=\"btn-search-word\" onclick=\"delKeyWord(this)\">"
                                     + val + "</button></li>");
      // 재조회
      reSearchFn();
    } */
  }
  
  function delKeyWord(trgt) {
    $(trgt).parent("li").remove();
    // 재조회
    reSearchFn();
  }
  // 
  function getSubKeyword(val) {
    var subKeywordBtn = $("#searchKeyword").find("button");
    var rtnObj = {
      keyArr : [], hasKey : false
    };
    if (subKeywordBtn.length > 0) {
      for (var i = 0; i < subKeywordBtn.length; i++) {
        var subText = $(subKeywordBtn[i]).text();
        if (val && subText == val) {
          rtnObj.hasKey = true;
        } else {
          rtnObj.keyArr.push(subText);
        }
      }
    }
    return rtnObj;
  }
  // 재조회
  function reSearchFn() {
    if (typeof searchFn == "function") {
      var kwd = getSearchKeyword();
      // 목록 재조회
      searchFn(kwd, "");
      // 연관검색어
      $.eshopfront.cmm.goodsRelationQuery(kwd, searchResultKeywordFn);
    }
  }
  
  function getSearchKeyword() {
    var sumQuery = "";
    var keyArr = getSubKeyword().keyArr;
    for (var i  in keyArr) {
      sumQuery += (" " + keyArr[i]);
    }
    return sumQuery;
  }
  
	//로그아웃 후 로그인 페이지로 이동
  function goLoginPage() {
    execLogin(getCurrentPath());
  }
	//현재 경로 조회
	function getCurrentPath() {
	  return location.pathname + location.search;
	}
  
  function updateReCriteo() {
      document.querySelectorAll('.best-list li').forEach(li => {
          if (li.querySelector('.criteo-bn2')) {
              li.classList.add('re-criteo');
          }
      });
  }

</script>


    <main  id="main"
      
       data-enty-ty-cd="03"
      
      
      
    >
      
        

          <section class="main-contents">
                  <script type="text/javascript">
                    $.eshopfront.cmm.popListAjax($(location).attr('pathname'));
                    //mainSwipe.mainContSwipe();
                  </script>
                  











 





 
   
 
 
 


    



  
              
  
  






<!-- //ITSR-8689 -->



    
      
      
      
      
      
      
      
        <div id="carefoodMainPageScrollDiv">
          
            
              
          
            
              
                
                  











 





 
   
 
 
 


    



  
              
  
  


















    
    <div class="so-top" data-enty-ty-cd="03" data-enty-src-cd="CRFD0004">
        <a href=javascript:void(0);>
            <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000784/P00000000192_S00000019468.png" alt="[문구] 티밥" onerror="$.eshopfront.cmm.emptyImg(this);">
            
                <p class="fade fade1">매일 매일 티나는 건강</p>
            
            
                <p class="fade fade2">엄선한 상품으로 티나게 추천!</p>
            
        </a>
    </div>


                
              
          
            
              
                
                  











 





 
   
 
 
 


    



  
              
  
  












    
    
    
    <div class="re-wrap so-wrap" data-enty-ty-cd="03" data-enty-src-cd="CRFD0007">
        <div class="so-top-banner">
            <div class="so-top-banner-bg bg-a"></div><div class="so-top-banner-bg bg-b"></div>
            <div class="swiper-wrapper">
                
                
                    
                    
                    
                        <div class="swiper-slide">
                                
                                    
                                    
                                        
                                        
                                            
                                            
                                                
                                            
                                        
                                        <a href='/display/goods/26049666'>
                                            
                                                
                                                
                                                    <img src="https://img.shoppingntmall.com/goods/666/26049666_info4.jpg" alt="[25년 햇김!]자연찬가 두번구운 진도 곱창김 10매x20봉 (총 200매)" onerror="$.eshopfront.cmm.emptyImg(this);">
                                                
                                                
                                                
                                            
                                            <span class="txt-wrap">
                                                <span class="txt2">
                                                    
                                                        
                                                        
                                                        
                                                        
                                                            
                                                                
                                                                    두번 구운 진도 곱창김 10매x20봉
                                                                
                                                                
                                                            
                                                        
                                                    
                                                </span>
                                                <span class="txt3">
                                                    
                                                    <span class="txt3-1">최종혜택가</span>
                                                    
                                                    <span class="txt3-3">54,900</span><span class="txt3-4">원</span>
                                                </span>
                                            </span>
                                        </a>
                                    
                                    
                                    
                                
                        </div>
                    
                
                    
                    
                    
                        <div class="swiper-slide">
                                
                                    
                                    
                                        
                                        
                                            
                                            
                                                
                                            
                                        
                                        <a href='/display/goods/10243394'>
                                            
                                                
                                                
                                                    <img src="https://img.shoppingntmall.com/goods/394/10243394_info1.jpg" alt="25년 햇 소리팜 해남 호박고구마 10kg (대)" onerror="$.eshopfront.cmm.emptyImg(this);">
                                                
                                                
                                                
                                            
                                            <span class="txt-wrap">
                                                <span class="txt2">
                                                    
                                                        
                                                        
                                                        
                                                        
                                                            
                                                                
                                                                    25년 햇 해남호박고구마 10kg
                                                                
                                                                
                                                            
                                                        
                                                    
                                                </span>
                                                <span class="txt3">
                                                    
                                                    <span class="txt3-1">최종혜택가</span>
                                                    
                                                        <span class="txt3-2">33%</span>
                                                    
                                                    <span class="txt3-3">19,900</span><span class="txt3-4">원</span>
                                                </span>
                                            </span>
                                        </a>
                                    
                                    
                                    
                                
                        </div>
                    
                
                    
                    
                    
                        <div class="swiper-slide">
                                
                                    
                                    
                                        
                                        
                                            
                                            
                                                
                                            
                                        
                                        <a href='/display/goods/24778544'>
                                            
                                                
                                                
                                                    <img src="https://img.shoppingntmall.com/goods/544/24778544_info5.jpg" alt="정담식 임성근 포기김치 10kg" onerror="$.eshopfront.cmm.emptyImg(this);">
                                                
                                                
                                                
                                            
                                            <span class="txt-wrap">
                                                <span class="txt2">
                                                    
                                                        
                                                        
                                                        
                                                        
                                                            
                                                                
                                                                    정담식 임성근 포기김치 10kg
                                                                
                                                                
                                                            
                                                        
                                                    
                                                </span>
                                                <span class="txt3">
                                                    
                                                    <span class="txt3-1">최종혜택가</span>
                                                    
                                                    <span class="txt3-3">49,900</span><span class="txt3-4">원</span>
                                                </span>
                                            </span>
                                        </a>
                                    
                                    
                                    
                                
                        </div>
                    
                
                    
                    
                    
                        <div class="swiper-slide">
                                
                                    
                                    
                                    
                                    
                                        <a href='/display/deal/D00000002032'>
                                            <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000779/P00000000197_S00000019402.jpg" alt="" onerror="$.eshopfront.cmm.emptyImg(this);">
                                            <span class="txt-wrap">
                                                <span class="txt0">겨울철 인기간식<br/>씨앗호떡/양갱/생강편강</span>
                                            </span>
                                        </a>
                                    
                                
                        </div>
                    
                
                    
                    
                    
                        <div class="swiper-slide">
                                
                                    
                                    
                                        
                                        
                                            
                                            
                                                
                                            
                                        
                                        <a href='/display/goods/20255788'>
                                            
                                                
                                                
                                                    <img src="https://img.shoppingntmall.com/goods/788/20255788_info1.jpg" alt="맛있게 매운 신내린 쭈꾸미볶음 300g x 5팩" onerror="$.eshopfront.cmm.emptyImg(this);">
                                                
                                                
                                                
                                            
                                            <span class="txt-wrap">
                                                <span class="txt2">
                                                    
                                                        
                                                        
                                                        
                                                        
                                                            
                                                                
                                                                    신내린 쭈꾸미볶음 300g x 5팩
                                                                
                                                                
                                                            
                                                        
                                                    
                                                </span>
                                                <span class="txt3">
                                                    
                                                    <span class="txt3-1">최종혜택가</span>
                                                    
                                                        <span class="txt3-2">26%</span>
                                                    
                                                    <span class="txt3-3">30,900</span><span class="txt3-4">원</span>
                                                </span>
                                            </span>
                                        </a>
                                    
                                    
                                    
                                
                        </div>
                    
                
            </div>
            <div class="re-top-banner-paging"></div>
            <button type="button" class="btn-top-banner-stop">정지</button>
            <button type="button" class="btn-top-banner-play">시작</button>
        </div>
    </div>
    
    <script>
        // $(function(){
            var $bgA = $('.so-top-banner .bg-a'), $bgB = $('.so-top-banner .bg-b'), activeKey = 'A';

            function getActiveImgSrc(){
                return $('.so-top-banner .swiper-slide.swiper-slide-active img').attr('src');
            }

            function crossfadeTo(src){
                if(!src) return;
                var $front = (activeKey === 'A') ? $bgA : $bgB;
                var $back  = (activeKey === 'A') ? $bgB : $bgA;
                var img = new Image();
                img.onload = function(){
                    $back.css('background-image','url('+src+')');
                    void $back[0].offsetWidth;
                    $back.addClass('on');
                    $front.removeClass('on');
                    activeKey = (activeKey === 'A') ? 'B' : 'A';
                };
                img.src = src;
            }

            function initBg(){
                var first = getActiveImgSrc();
                if(first){
                    $bgA.css('background-image','url('+first+')').addClass('on');
                    $bgB.removeClass('on');
                }
            }

            var tibapGoodsTopBanner = new Swiper('.so-top-banner',{
                autoHeight:true,
                slidesPerView:'auto',
                speed:1200,
                spaceBetween:16,
                loop:true,
                autoplay:{delay:3000,disableOnInteraction:false},
                pagination:{el:'.re-top-banner-paging',type:'fraction'},
                on:{
                    init:function(){ initBg(); },
                    slideChangeTransitionStart:function(){ crossfadeTo(getActiveImgSrc()); }
                }
            });

            $(".so-top-banner>button").on('click', function(){
                var isStop = $(this).hide().is(".so-top-banner .btn-top-banner-stop");
                $('.so-top-banner .btn-top-banner-' + (isStop ? 'play' : 'stop')).show().focus();
                tibapGoodsTopBanner.autoplay[isStop ? 'stop' : 'start']();
            });

            if (isApp() && isAndroid()) {
                if (window.performance && performance.getEntriesByType("navigation")[0].type === 'back_forward') {
                    var tibapGoodsTopBannerIdx = getSSValue("carefoodMain-tibapGoodsTopBannerIdx");
                    if (tibapGoodsTopBannerIdx > 0) {
                        tibapGoodsTopBanner.slideTo(tibapGoodsTopBannerIdx);
                    }
                }
            }
        // });
    </script>



                
              
          
            
              
                
                  











 





 
   
 
 
 


    



  
              
  
  









<div class="re-wrap" data-enty-ty-cd="03" data-enty-src-cd="CRFD0009">
  <div class="re-pd"> 
    <div class="re-h2 pb0">
      <h2>카테고리 &amp; 브랜드</h2>
    </div>
  </div>
  <div class="re-sirvice-wrap" id="mainQuickMenu">
    <!-- 퀵메뉴 상단 -->
    
      <ul class="re-sirvice type1">
        
          
          
            <li>
              <a href="/display/showmart/showmartMain">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019767_VID.png" alt="[퀵메뉴] 새벽시장" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">새벽시장</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001361">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019364_VID.png" alt="[퀵메뉴] 티밥 과일" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">과일</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001362">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019365_VID.png" alt="[퀵메뉴] 티밥 채소" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">채소/버섯</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001368">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019366_VID.png" alt="[퀵메뉴] 티밥 생선" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">생선</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001372">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019367_VID.png" alt="[퀵메뉴] 티밥 정육" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">정육/달걀</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001366">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019436_VID.png" alt="[퀵메뉴] 티밥 쌀" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">쌀/잡곡</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001389">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019768_VID.png" alt="" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">장/양념</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001378">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019437_VID.png" alt="[퀵메뉴] 티밥 빵" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">떡/빵/음료</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001382">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019438_VID.png" alt="[퀵메뉴] 티밥 김치" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">김치</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001370">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019440_VID.png" alt="[퀵메뉴] 티밥 김" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">건어물/김</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001383">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019439_VID.png" alt="[퀵메뉴] 티밥 반찬" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">반찬</span>
              </a>
            </li>
          
        
      </ul>
    
     
    <!-- 퀵메뉴 하단 -->
    
      <ul class="re-sirvice type2">
        
          
          
            <li>
              <a href="/display/brand/category/002259">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019451_VID.png" alt="[퀵메뉴] 티밥 종근당건강" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">종근당건강</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/display/brand/category/003284">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019452_VID.png" alt="[퀵메뉴] 티밥 퍼니트" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">퍼니트</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/display/brand/category/008499">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019453_VID.png" alt="[퀵메뉴] 티밥 유한메디카" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">유한메디카</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001466">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019372_VID.png" alt="[퀵메뉴] 티밥 유산균" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">유산균</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001416">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019446_VID.png" alt="[퀵메뉴] 티밥 오메가3" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">오메가3</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001421">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019447_VID.png" alt="[퀵메뉴] 티밥 알부민" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">알부민</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001418">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019448_VID.png" alt="[퀵메뉴] 티밥 대마종자유" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">대마종자유</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001401">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019449_VID.png" alt="[퀵메뉴] 티밥 슈퍼푸드" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">슈퍼푸드</span>
              </a>
            </li>
          
        
          
          
            <li>
              <a href="/category/g-list-cate/90001461">
                
                  
                  
                    <span class="img">
                      
                        
                          <img src="https://img.shoppingntmall.com/view/V00000000148/D00000000782/P00000000194_S00000019450_VID.png" alt="[퀵메뉴] 티밥 기초영양제" onerror="$.eshopfront.cmm.emptyImg(this);">
                        
                        
                      
                    </span>
                  
                
                <span class="txt" style="white-space:pre;">기초영양제</span>
              </a>
            </li>
          
        
      </ul>
    
  </div>
</div>
                
              
          
            
              
                
                  











 





 
   
 
 
 


    



  
              
  
  















    
    
        
        <div class="re-wrap so-wrap" data-enty-ty-cd="03" data-enty-src-cd="CRFD0006">
            
            <div id="tibapLinkDiv" class="so-worry" style="background:linear-gradient(180deg, #FFF 22.8%, #ffffff 100%)" >
                
                
                    
                        <video poster="https://img.shoppingntmall.com/view/V00000000148/D00000000783/P00000000193_S00000019353.png" muted playsinline loop autoplay>
                            <source src="https://img.shoppingntmall.com/view/V00000000148/D00000000783/P00000000193_S00000019353_VID.mp4">
                        </video>
                    
                    
                
                
                <strong>
                    지금 티나는 건강고민?
                </strong>
                <a href='/display/goods/17568413'>
                    <div class="txt1-wrap">
                        <p class="txt1">
                            깊이 잠들지 못하고 자주 깨요😴
                        </p>
                    </div>
                    <p class="txt2">
                        숙면건강 상품보기
                    </p>
                </a>

                <a href='/display/goods/22154240' class="on">
                    <div class="txt1-wrap">
                        <p class="txt1">
                            무릎이 뻐근하고 손목이 시큰거려요😔
                        </p>
                    </div>
                    <p class="txt2">
                        관절건강 상품보기
                    </p>
                </a>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                //티나는 건강고민 애니메이션
                const $items = $('.so-worry a');
                let current = 0;
                setInterval(function () {
                    $items.removeClass('on');
                    $items.eq(current).addClass('on');
                    current = (current + 1) % $items.length;
                }, 3500);
                
                // hex code 유효하지 않으면 기본색상 적용
                let hexCode = '';
                let tibapLinkDivCss = "linear-gradient(180deg, #FFF 22.8%, #91D365 100%)";
                const hexCodeRegExp = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;

                if(hexCodeRegExp.test(hexCode)) {
                    const normalized = hexCode.startsWith('#') ? hexCode : ('#' + hexCode);
                    tibapLinkDivCss = "linear-gradient(180deg, #FFF 22.8%, " + normalized + " 100%)";
                }

                $("#tibapLinkDiv").css("background", tibapLinkDivCss);
            });                
        </script>
        <div class="re-wrap so-wrap" style="" data-enty-ty-cd="03" data-enty-src-cd="CRFD0013">
        <div class="re-pd">
            <div class="re-h2 pb24">
                <h2>방송 혜택 놓치지 마세요!</h2>
            </div>
            <div id="tibapBroadcastBenefitArea" class="re-detail-scroll-big live pb32 ac">











 





 
   
 
 
 


    



  
              
  
  








 <!-- 모바일배너이미지 여부 -->

  
    
    
      <div class="re-detail" style="min-height: 376.8px;">
          <div class="re-thum">
            
              
                <img src="https://img.shoppingntmall.com/goods/894/25985894_info2.jpg" alt="[서일농원] 서분례 명인 청국장 20팩(기본10팩+매운10팩)" onerror="$.eshopfront.cmm.emptyImg(this);">
              
              
            
            
            <!-- 방송 시간 노출 -->
            <div class="tb">
              
                
                
                  
                    
                      오늘 16:31분 방송
                      
                      
                    
                  
                
              
            </div>
          </div>
          <div class="re-txt al">
            
              <div class="txt-tb">#유일한 명인 #전통 제조법 #매운맛 조절</div>
            
              <div class="txt-title">
                
                  
                    <span class="tv">TV쇼핑</span>[서일농원] 서분례 명인 청국장 20팩(기본10팩+매운10팩)
                  
                  
                
              </div>
              <div class="txt-price">
                
                  
                  
                    
                    <span>
                      59,900
                    </span>
                    <em>원</em>
                    
                  
                
              </div>
              <div class="txt-last">
                  
                  
                    <span class="buying"><span>106</span>개 구매 중</span>
                  
                  
                    <span class="review">리뷰 6</span>
                  
                
              </div>                    
          </div>
          <div class="re-btn">
              
              
              
                
                
                
                
                
                  <button type="button" class="btn-fast-buy" onclick="btnBuy('25985894');">바로 구매</button>
                
                
              
            
              
                <button type="button" class="btn-shot-see" onclick="openHighlightModal('shopnt_'+25985894)">방송 요약</button>
              
              <button type="button" class="btn-shot-alr " data-braze_product_category="" onclick="alarmPopOpen('[서일농원] 서분례 명인 청국장 20팩(기본10팩+매운10팩)','25985894','/goods/894/25985894_h.png','59,900','Y','N','0',this,'0');">알람</button>
          </div>
          <a href="/display/goods/25985894" class="link-wrap" data-gtm-vis-first-on-screen9229141_489="10319" data-gtm-vis-total-visible-time9229141_489="1500" data-gtm-vis-has-fired9229141_489="1">상품바로가기</a>
      </div>
    
  
    
    
      <div class="re-detail" style="min-height: 376.8px;">
          <div class="re-thum">
            
              
                <img src="https://img.shoppingntmall.com/goods/924/25573924_info1.jpg" alt="국내산 직화구이 무뼈닭발 8팩" onerror="$.eshopfront.cmm.emptyImg(this);">
              
              
            
            
            <!-- 방송 시간 노출 -->
            <div class="tb">
              
                
                
                  
                    
                      오늘 17:31분 방송
                      
                      
                    
                  
                
              
            </div>
          </div>
          <div class="re-txt al">
            
              <div class="txt-tb">#국내산 닭발 #즉화 공정 #무뼈 옵션</div>
            
              <div class="txt-title">
                
                  
                    <span class="tv">TV쇼핑</span>국내산 직화구이 무뼈닭발 8팩
                  
                  
                
              </div>
              <div class="txt-price">
                
                  
                  
                    
                    <span>
                      39,900
                    </span>
                    <em>원</em>
                    
                  
                
              </div>
              <div class="txt-last">
                  
                  
                    <span class="buying"><span>3,175</span>개 구매 중</span>
                  
                  
                    <span class="review">리뷰 9,999+</span>
                  
                
              </div>                    
          </div>
          <div class="re-btn">
              
              
              
                
                
                
                
                
                  <button type="button" class="btn-fast-buy" onclick="btnBuy('25573924');">바로 구매</button>
                
                
              
            
              
                <button type="button" class="btn-shot-see" onclick="openHighlightModal('shopnt_'+25573924)">방송 요약</button>
              
              <button type="button" class="btn-shot-alr " data-braze_product_category="" onclick="alarmPopOpen('국내산 직화구이 무뼈닭발 8팩','25573924','/goods/924/25573924_h.jpg','39,900','Y','N','0',this,'0');">알람</button>
          </div>
          <a href="/display/goods/25573924" class="link-wrap">상품바로가기</a>
      </div>
    
  
    
    
      <div class="re-detail" style="min-height: 376.8px;">
          <div class="re-thum">
            
              
                <img src="https://img.shoppingntmall.com/goods/528/25664528_info1.jpg" alt="[방송에서만 50％세일] 대원제약 혈당파이터 12박스" onerror="$.eshopfront.cmm.emptyImg(this);">
              
              
            
            
            <!-- 방송 시간 노출 -->
            <div class="tb">
              
                
                
                  
                    
                      오늘 19:31분 방송
                      
                      
                    
                  
                
              
            </div>
          </div>
          <div class="re-txt al">
            
              <div class="txt-tb">#대원제약 #혈당 관리 #코로솔산</div>
            
              <div class="txt-title">
                
                  
                    <span class="tv">TV쇼핑</span>[방송에서만 50％세일] 대원제약 혈당파이터 12박스
                  
                  
                
              </div>
              <div class="txt-price">
                
                  
                  
                    
                    <span>
                      69,000
                    </span>
                    <em>원</em>
                    
                  
                
              </div>
              <div class="txt-last">
                  
                  
                    <span class="buying"><span>715</span>개 구매 중</span>
                  
                  
                
              </div>                    
          </div>
          <div class="re-btn">
              
              
              
                
                
                
                  <button type="button" class="btn-reser-buy" onclick="onAirBuyBtn('[방송에서만 50％세일] 대원제약 혈당파이터 12박스','25664528','/goods/528/25664528_h.jpg','69,000','Y','ONAIRBUYBTN','0',this,'0');">방송 중 구매가능</button>
                
                
                
                
              
            
              
                <button type="button" class="btn-shot-see" onclick="openHighlightModal('shopnt_'+25664528)">방송 요약</button>
              
              <button type="button" class="btn-shot-alr " data-braze_product_category="" onclick="alarmPopOpen('[방송에서만 50％세일] 대원제약 혈당파이터 12박스','25664528','/goods/528/25664528_h.jpg','69,000','Y','N','0',this,'0');">알람</button>
          </div>
          <a href="/display/goods/25664528" class="link-wrap">상품바로가기</a>
      </div>
    
  


<script>
  
    var tempAddMaxId = 6; 
    var _isOnpageshow    = false;  
    var _timerStart;
      
    $(document).ready(function(){
      //컨텐츠 높이 동일하게
      var maxHeight = 0;
      $('.re-detail-scroll-big.live .re-detail').each(function() {
        var thisHeight = $(this).outerHeight();
        if (thisHeight > maxHeight) {
          maxHeight = thisHeight;
        }
      });
      $('.re-detail-scroll-big.live .re-detail').css('min-height', maxHeight);
        
      _timerStart = setInterval("timerInit()",1000);
      
    });
    
    function goodsDetailMove(goodsCode){
      if(isApp()){
        if(isAndroid()){
          setSSValue("tv_day", $('.date-item.swiper-slide.is-active').find('.btn-date').data("fromday"));
          setSSValue("type-line-no-pd", $('.type-line-no-pd').html());
          setSSValue("header_scroll", $('#header').hasClass('is-scroll'));
        }
      }
      let goodsDtlUrl = '/display/goods/' + goodsCode;
      let entyParams = {};
      if ('') {
        entyParams.entyTyCd = '';
      }
      if ('') {
        entyParams.entySrcCd = '';
      }
      location.href = addUrlParams(goodsDtlUrl, entyParams);
    }
  
    
    function broadStockChkAjax(broadStockChkVal) {
        $.ajax({
          url : "/display/goods/stockChkGoodsAjax",
          type : "post",
          headers: {
            'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
          },
          data : {
            goodsCds : broadStockChkVal
          },
          dataType : "json",
          success : function(data) {
            for(var i=0; i < data.resultData.length; i++){
              if(data.resultData[i].orderAbleQty <1){ 
                var saleStopChk = $("."+data.resultData[i].goodsCode).find('button:last').text().indexOf('판매 준비중');
                if(saleStopChk == '0') {
                } else {
                  $("."+data.resultData[i].goodsCode).find('button:last').attr('onclick', 'alert("상품이 일시적으로 품절되었습니다.")');
                  $("."+data.resultData[i].goodsCode).find('button:last').removeClass('pink');
                  $("."+data.resultData[i].goodsCode).find('button:last').text('일시품절');
                  $("."+data.resultData[i].goodsCode).find('button:last').addClass('l-gray');
                }
              }
            }
          }
          });
    };
    
    
    function onAirBuyBtn(goodsName, goodsCode, imageUrl, shoppingntAmt, tvIconYn, goodsDetailYn, broadAlertYn, $this) {
      if(confirm("방송중에만 구매 가능한 상품입니다.\n방송알림을 신청하시겠습니까?")){
        alarmPopOpen(goodsName, goodsCode, imageUrl, shoppingntAmt, tvIconYn, goodsDetailYn, broadAlertYn, $this);
      }
    }
    
    
    function addGoodsOpt(_this, ajaxData) {
      if(ajaxData == null) {
        return;
      }
      
      var ajaxOptCd = $.trim(ajaxData.optCd); 
      var ajaxClorCd = "";
      var ajaxSizeCd = "";
      var ajaxPttrnCd = "";
      var ajaxShpCd = "";
      
      if(ajaxData.depth == 1) {
        ajaxClorCd = ajaxData.optClor;
      } else if(ajaxData.depth == 2) {
        ajaxClorCd = ajaxData.optClor;
        ajaxSizeCd = ajaxData.optSize;
      } else if(ajaxData.depth == 3) {
        ajaxClorCd = ajaxData.optClor;
        ajaxSizeCd = ajaxData.optSize;
        ajaxPttrnCd = ajaxData.optPttrn;
      } else if(ajaxData.depth == 4 || ajaxData.depth == 5) {
        ajaxClorCd = ajaxData.optClor;
        ajaxSizeCd = ajaxData.optSize;
        ajaxPttrnCd = ajaxData.optPttrn;
        ajaxShpCd = ajaxData.optShp;
      }
      
      $.ajax({
        url : "",
        type: 'POST',
        data: {
          goodsCd : ajaxData.goodsCd
          , depth : ajaxData.depth
          , noInvExcdYn : $("#noInvExcd1").is(":checked") ? "Y" : "N" 
          , clorCd : ajaxClorCd
          , sizeCd : ajaxSizeCd
          , pttrnCd : ajaxPttrnCd
          , shpCd : ajaxShpCd
          , optCd : ajaxOptCd 
          , promtGftDepth : ajaxData.promtGftDepth
        },
        async : false, 
        dataType : 'html',
        headers: {
          "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
        }
        , success: function(data){
          
          if(data != null) {
            var appendHtml = data;
            var addId = String(Number(ajaxData.depth)+1);
            $(".optGoodsAdd"+addId).each(function(idx) {
              $(this).html(appendHtml);
              $(this).show();
              if(ajaxData.promtGftDepth == "Y" && idx == 0) {
                
                setTimeout(function() {
                  $(_this).closest(".optGoodsAdd"+ajaxData.depth).parent().find(".optGoodsAdd"+addId).find(".custom-slt.goods-opt-sel-list.promotion-gift").first().find("a[name='optGroup']").click();
                }, 150);
              }
            });
          }
        }
        , error:function(request,status,error){
          console.log("request",request);
          console.log("status",status);
          console.log("error",error);
          if(chk403(request)) return;
          alert("조회에 실패하였습니다."); 
        }
      });
    }
    
    function chocGoodsDsp(dspData) {
      if(dspData == null) {
        return;
      }
      
      var appendHtml = "";
      var optDtlTxt = ""
      if(optDtlTxt != "") {
        optDtlTxt = String(dspData.optDtl);
      } 
      
      
      appendHtml += "<div class=\"prd-opt-price\"  data-goodscd=\""+dspData.goodsCd+"\" data-optcd=\""+dspData.optCd+"\" data-brcd=\""+dspData.brcd+"\" data-setgoodsyn=\""+dspData.setGoodsYn+"\" data-snglnsordyn=\""+dspData.snglnsOrdYn+"\" data-frmlsgoodsscn=\""+dspData.frmlsGoodsScn+"\" data-brdcstsalegoodsyn=\""+dspData.brdcstSaleGoodsYn+"\" data-goodscategory=\""+dspData.goodsCategory+"\">";    
      appendHtml += " <div class=\"prd-info\">";
      appendHtml += "   <div class=\"tit\">";
      appendHtml += "<span class=\"name\">";
      appendHtml += dspData.goodsNm;
      appendHtml += "</span>";
      appendHtml += "   </div>";
      if($.trim(optDtlTxt) != "" && "" != optDtlTxt) {
        appendHtml += "   <div class=\"option\">";
        appendHtml += "     <span>"+optDtlTxt+"</span>";
        appendHtml += "   </div>";
      }
      appendHtml += " </div>";
      
      
      if(dspData.promtGftYn == "Y") {
        appendHtml += "<div class=\"gift-box\">";
        appendHtml += "   <dl>";
        appendHtml += "     <dt>사은품</dt>";
        appendHtml += "     <dd>";
        appendHtml += "       <ul>";
        
        
        $(".custom-slt.goods-opt-sel-list.promotion-gift").each(function(idx) {
          $(this).find(".prd-sel-list.goods-opt-sel-list li.select").each(function(iidx) {
            
            var gftPromtLinkSn = $.trim($(this).find("a").data("gftpromtlinksn")); 
            var gftTunm = $.trim($(this).find("a").data("gfttunm")); 
            var gftGoodsCd = $.trim($(this).find("a").data("gftgoodscd")); 
            var gftGoodsNm = $.trim($(this).find("a").data("gftgoodsnm")); 
            var gftOptCd = $.trim($(this).find("a").data("gftoptcd")); 
            var gftOptDtl = $.trim($(this).find("a").data("gftoptdtl")); 
            
            appendHtml += "         <li data-gftpromtlinksn=\""+gftPromtLinkSn+"\" data-gfttunm=\""+gftTunm+"\" data-gftgoodscd=\""+gftGoodsCd+"\" data-gftgoodsnm=\""+gftGoodsNm+"\" data-gftoptcd=\""+gftOptCd+"\" data-gftoptdtl=\""+gftOptDtl+"\">";
            appendHtml += "           <p class=\"txt\">"+gftGoodsNm+"</p>";
            if($.trim(gftOptDtl) != "" && "" != gftOptDtl) {
              appendHtml += "         <p class=\"option-quantity\">"+gftOptDtl+"</p>";
            }
            appendHtml += "         </li>";
            return false;
          });
        });
        
        appendHtml += "       </ul>";
        appendHtml += "     </dd>";
        appendHtml += "   </dl>";
        appendHtml += "</div>";
      }

      
      
      appendHtml += " <div class=\"opt-info\">";
      appendHtml += "   <div class=\"purchase-quantity\" data-goodsbaseprc=\""+Number(dspData.goodsPrc)+"\">";
      appendHtml += "     <button class=\"btn-quantity-minus\" data-scn=\"m\" data-brcd=\""+dspData.brcd+"\" data-minqty=\""+dspData.ordMinQty+"\">빼기</button>";
      appendHtml += "       <input type=\"text\" class=\"input-number goodsChocQty\" value=\""+dspData.ordMinQty+"\" data-brcd=\""+dspData.brcd+"\" maxlength=\"2\" min=\""+dspData.ordMinQty+"\" max=\"99\" disabled=\"disabled\" />";
      appendHtml += "     <button class=\"btn-quantity-plus\" data-scn=\"p\" data-brcd=\""+dspData.brcd+"\" data-salepsblqty=\""+dspData.otpSalePsblQty+"\">더하기</button>";
      appendHtml += "   </div>";
      appendHtml += "   <div class=\"price\">";
      appendHtml += "     <em data-brcd=\""+dspData.brcd+"\">"+$.eshopfront.cmm.setComma(Number(dspData.ordMinQty*dspData.goodsPrc))+"</em>원";
      appendHtml += "   </div>";
      appendHtml += " </div>";
      
      
      
      var goodsoptcnt = dspData.goodsoptcnt;
      var promtgftcnt = isNaN(Number($(this).data("promtgftcnt"))) == true ? Number($('.prd-opt-info').find('.promotion-gift').length) : Number($(this).data("promtgftcnt"));
      var promtGftGoodsOptTotalCnt = $("#promtGftGoodsOptTotalCnt").val();
      var goodsDelBtnHide = "";
      
      if(goodsoptcnt == 1 && promtgftcnt < promtGftGoodsOptTotalCnt) {
        goodsDelBtnHide = "style='display:none;'";
      }
      
      appendHtml += "  <button type=\"button\" class=\"btn-close appendHtmlDel chocGoodsDel\" data-brcd=\""+dspData.brcd+"\" "+goodsDelBtnHide+"\>";
      appendHtml += "   <span class=\"hidden\">선택 상품 삭제</span>";
      appendHtml += "  </button>";
      
      appendHtml += "</div>";
      
      $(".chocGoodsDsp").each(function(idx) {
        $(this).append(appendHtml);
      });
      
      
      var firstDepthThis = $("a[name='optGroup'][data-firstdepth='Y']"); 
      var firstDepth = firstDepthThis.data("depth"); 
      var depthTxt = $.trim(firstDepthThis.data("promdepthyn")) == "Y" ? "사은품을 선택해주세요." : getOptBaseTxt(firstDepth); 
      
      
      firstDepthThis.html("<span>"+depthTxt+"</span>"); 
      
      if(firstDepthThis.parent().hasClass("on")) {
        firstDepthThis.parent().removeClass("on");
      }
      
      for(var i=1; i<=tempAddMaxId; i++) {
        $(".optGoodsAdd"+i).each(function() {
          $(this).html("");
          $(this).hide();
        });
      }
      
      $("ul.prd-sel-list.goods-opt-sel-list li").each(function(idx) {
        if($(this).hasClass("select")) {
          $(this).removeClass("select");
        }
      });
      
    }
    
    
    function totGoodsInfoUpdt() {
      var goodsQty = 0;
      var goodsCnt = 0;
      
      var totGoodsQty = 0;
      var totGoodsPrc = 0;
      
      $(".chocGoodsDsp").first().find("div.prd-opt-price").each(function() {
        goodsQty = Number($(this).find("div.opt-info").find("div.purchase-quantity").find(".goodsChocQty").val()); 
        goodsPrc = Number($(this).find("div.opt-info").find("div.purchase-quantity").data("goodsbaseprc")); 
        
        totGoodsQty += goodsQty;
        totGoodsPrc += (goodsPrc*goodsQty);
      });
      
      totGoodsQty =$.eshopfront.cmm.setComma(Number(totGoodsQty));
      totGoodsPrc = $.eshopfront.cmm.setComma(Number(totGoodsPrc));
      
      $(".totGoodsQty").text(totGoodsQty);
      $(".totGoodsPrc").text(totGoodsPrc);
    }
    
    function addToCartGoodsList(buyNowYn) {
      var goodsList = [];
      
      var goodsCd = ""; 
      var frmlsGoodsScn = ""; 
      var snglnsOrdYn = ""; 
      var brdcstSaleGoodsYn = ""; 
      var tvExpYn = ""; 
      
      
      $(".chocGoodsDsp").first().find("div.prd-opt-price").each(function() {
        
        frmlsGoodsScn = "N";
        if($(this).data("frmlsgoodsscn") == "10") {
          frmlsGoodsScn = "Y"
        }
        
        
        snglnsOrdYn = $(this).data('snglnsordyn');
        if($.trim(snglnsOrdYn) == "") {
          snglnsOrdYn = "N";
        }
        
        brdcstSaleGoodsYn = $(this).data('brdcstsalegoodsyn');
        if($.trim(brdcstSaleGoodsYn) == "") {
          brdcstSaleGoodsYn = "N";
        }
        
        var goodsQty = $(this).find(".goodsChocQty").val(); 
        if(Number(goodsQty) == 0 || String(Number(goodsQty)) == "NaN") {
          goodsQty = 1;
        }
        
        var chocGoods = {};
        
        goodsCd = $.trim($(this).data("goodscd"));
        chocGoods['goodsCd'] = $.trim($(this).data("goodscd"));
        
        tvExpYn = "N";
        if($("#exp_"+goodsCd).length > 0) {
          tvExpYn = "Y"
        }
        
        chocGoods['goodsNm'] = $.trim($(this).find(".prd-info .tit .name").text()); 
        
        chocGoods['goodsCd'] = $.trim($(this).data("goodscd")); 
        chocGoods['sitemDtl'] = $.trim($(this).find(".prd-info .option span").text()); 
        chocGoods['sitemCd'] = $.trim($(this).data("optcd")); 
        chocGoods['goodsQty'] = $.trim(goodsQty); 
        chocGoods['setYn'] = $.trim($(this).data("setgoodsyn")); 
        chocGoods['directOrderYn'] = $.trim(buyNowYn); 
        chocGoods['snglnsOrdYn'] = $.trim(snglnsOrdYn); 
        chocGoods['frmlsGoodsScn'] = $.trim(frmlsGoodsScn); 
        chocGoods['brdcstSaleGoodsYn'] = $.trim(brdcstSaleGoodsYn); 
        chocGoods['tvExpYn'] = $.trim(tvExpYn); 
        chocGoods['shoppingntAmt'] = $.trim(Number($(this).find("div.opt-info").find(".purchase-quantity").data("goodsbaseprc")));
        chocGoods['goodsCategory'] = $.trim($(this).data("goodscategory"));
        
        chocGoods['entyTyCd'] = '';
        chocGoods['entySrcCd'] = '';
        
        
        
        var gftPromtList = [];
        if($(this).find(".gift-box").length > 0) {
          var gftPromtCnt = $(this).find(".gift-box ul li").length;
          $(this).find(".gift-box ul li").each(function() {
            var gftPromt = {};
            gftPromt['goodsCd'] = $.trim($(this).data("gftgoodscd")); 
            
            if(gftPromtCnt > 1) {
              
              gftPromt['goodsNm'] = $.trim($.trim($.trim($(this).find("p.txt").text()).substring(7))); 
            } else {
              gftPromt['goodsNm'] = $.trim($(this).find("p.txt").text()); 
            }
            
            gftPromt['sitemCd'] = $.trim($(this).data("gftoptcd")); 
            gftPromt['sitemDtl'] = $.trim($(this).find("p.option-quantity").text()); 
            gftPromt['goodsQty'] = $.trim(goodsQty); 
            gftPromt['promtSn'] = $.trim($(this).data("gftpromtlinksn")); 
            gftPromt['gftTunm'] = $.trim($(this).data("gfttunm")); 
            
            gftPromtList.push(gftPromt);
          });
        }
        chocGoods['gftPromtList'] = gftPromtList; 
        goodsList.push(chocGoods);
      });
      
      return goodsList;
    }
    
    function eventBind() {
      
      $("input[type='checkbox'][id^='noInvExcd']").on("click", function() {
        var btnChecked = $(this).is(":checked");
        $("a[name='optGroup']").each(function(idx) {
          $(this).parent().find("div.prd-sellist-group").find("ul").find("li").each(function(idx) {
            if(btnChecked && $(this).hasClass("disable")) {
              $(this).hide();
            } else {
              $(this).show();
            }
          });
        });
      });
      
      
      $(".custom-slt.goods-opt-sel-list .prd-sel").off("click").on("click", function(e){
        e.preventDefault();
        
        if($(this).closest(".custom-slt").hasClass("on") == true){
          $(this).closest(".custom-slt").find(".prd-sellist-group").stop().slideUp({
            duration: 300,
            complete: function(){
              $(this).closest(".custom-slt").removeClass("on");
            }
          });
        }else{
          $(this).closest(".custom-slt").find(".prd-sellist-group").stop().slideDown({
            duration: 300
            });
          $(this).closest(".custom-slt").addClass("on");
        };
         $(this).closest(".custom-slt").css({"z-index":zIndex++});
         
         $('button.optReWhsgNtcnBtn').remove(); 
      });
      
      
      $("[data-mainbtn='Y']").off("click").on("click", function(e) {
        var btnScn = $(this).data("btnscn");
        
        if(btnScn == "buyBtn" || btnScn == "dealGoodsOptChocBtn") {
          if(btnScn == "dealGoodsOptChocBtn") {
            var dealGoodsCd = $(this).data("goodscd");
            
            $(".dealGoodsAddFirst").first().find("div.prd-sellist-group").find("ul.prd-sel-list.goods-opt-sel-list li").each(function() {
              if(dealGoodsCd == $(this).find("a").data("goodscd")) {
                $(this).find("a").click();
                return false;
              }
            });
          }
          popup.open("#pop-prd-option");
        } else if(btnScn == "addToCartBtn" || btnScn == "buyNowBtn" || btnScn == "buyFastBtn") {
          var buyNowYn = "N";
          if(btnScn == "buyNowBtn" || btnScn == "buyFastBtn") {
            buyNowYn = "Y";
          }
          var chocGoodsList = addToCartGoodsList(buyNowYn);
          
          if(chocGoodsList == null || chocGoodsList.length < 1 || chocGoodsList == []) {
            alert("상품을 선택하여 주십시오.");  
            return false;
          }
          
          if(btnScn == "buyNowBtn") {
            loadingShow();
            setTimeout(() => {
                popup.close("#pop-prd-option");
                directOrder(chocGoodsList, "Y");
            }, 50);
          }else if(btnScn == "buyFastBtn") {
            // CI 유무 체크
            (async function() {
                try {
                         // 로딩 화면 표시
                        loadingShow();
                        
                        // 병렬로 CI 인증 상태 및 배송지 정보 조회
                        const [authResult, receiverExistYn] = await Promise.all([
                           appCardPayApi.getCustAuthResult(),
                           checkReceiverExistYn()
                         ]);

                        if (authResult.resultCode === "0000") {
                           const { ciAuthYn } = authResult.resultData;
                         
                          if (ciAuthYn === "1") {
                           // CI 인증 성공한 경우 : 등록된 배송지가 있으면 빠른 주문서로 이동
                             if (receiverExistYn === "Y") {
                                 popup.close("#pop-prd-option");
                                 const result = directOrderFast(chocGoodsList, "Y");
                                 if (!result) {
                                     loadingHide(); // 로딩 화면 숨김
                                 }
                             } else {
                                 // 등록된 배송지가 없으면 빠른결제를 위한 배송지 등록 안내 팝업 오픈
                                  popup.open("#fastorder-receiver-popup");
                                  loadingHide(); // 로딩 화면 숨김
                             }
                           } else if(ciAuthYn === "0") {
                           // CI 인증 실패한 경우
                               directOrder(chocGoodsList, "Y");
                           } else {
                          // CI 미인증 고객의 경우
                               // 팝업에 chocGoodsList를 전달
                               window.appData = window.appData || {};
                              window.appData.chocGoodsList = chocGoodsList;
                              // CI 인증 팝업 노출, 팝업 구분 값 설정
                              window.popupCaller = "goodsDetail";
                              popup.open("#fastorder-ci-popup");
                              loadingHide(); // 로딩 화면 숨김
                         }
                     } else {
                         // CI 상태 조회 실패 시
                         console.error("CI 인증 상태 조회 실패:", authResult.resultMsg);
                         directOrder(chocGoodsList, "Y");
                     }
                } catch (error) {
                    console.error("CI 인증 상태 확인 중 오류 발생:", error);
                    directOrder(chocGoodsList, "Y");
                }
            })();
          } else {
            insertCart(chocGoodsList, "Y");
          }
            
        } else if(btnScn == "reWhsgNtcnBtn") {
          var goodsCd = $(this).data("goodscd"); 
          reWhsgNtcnPopup(this, goodsCd, "ALL");
        } else {
          alert(btnScn);
        }
      });
      
      $(".prd-sel-list.goods-opt-sel-list .sel-list").off("click").on("click", function(e) {
        e.preventDefault();
        
        if($(this).closest("li").hasClass("select") == false){
          $(this).closest(".prd-sel-list").find(".sel-list").removeAttr('title');
          $(this).attr("title", "선택됨");
          $(this).closest(".prd-sel-list").find("> li").removeClass("select");
          $(this).closest("li").addClass("select");
        };

        $(this).closest(".prd-sellist-group").stop().slideUp({
          duration: 300,
          complete: function(){
            $(this).closest(".custom-slt").removeClass("on");
          }
        });
        
        var goodsCd = $(this).data("goodscd");
        var optCd = $(this).data("optcd");
        var brcd = $(this).data("brcd");
        var goodsNm = $(this).data("goodsnm");
        
        var goodsPrc = 0;
        var setGoodsYn = ""; 
        var snglnsOrdYn = ""; 
        var frmlsGoodsScn = ""; 
        var brdcstSaleGoodsYn = ""; 
        var goodsOrdMinQty = 1;
        var goodsOrdMaxQty = 9999999;
        var promtGftYn = "";
        var promtGftCnt = 0; 
        
        var goodsOptCnt = ""; 
        
        var goodsCategory = ""; 
        
        $("a[name='optGroup'][data-firstdepth='Y']").first().parent().find(".prd-sel-list").find(".sel-list").each(function(idx) {
          if(goodsCd == $(this).data("goodscd")) {
            goodsPrc = Number($(this).data("goodsprc"));
            setGoodsYn = $.trim($(this).data("setgoodsyn"));
            snglnsOrdYn = $.trim($(this).data("snglnsordyn"));
            frmlsGoodsScn = $.trim($(this).data("frmlsgoodsscn"));
            brdcstSaleGoodsYn = $.trim($(this).data("brdcstsalegoodsyn"));
            goodsOrdMinQty = Number($(this).data("goodsordminqty"));
            goodsOrdMaxQty = Number($(this).data("goodsordmaxqty"));
            promtGftYn = $.trim($(this).data("promtgftyn"));
            promtGftCnt = Number($(this).data("promtgftcnt"));
            
            goodsOptCnt = Number($(this).data("goodsoptcnt")); 
            
            goodsCategory = $.trim($(this).data("goodscategory"));
            
            return false;
          }
        });
        
        var optDtl = $(this).data("optdtl");
        var optClor = $(this).data("clor");
        var optSize = $(this).data("size");
        var optPttrn = $(this).data("pttrn");
        var optShp = $(this).data("shp");
        
        var otpSalePsblQty = Number($(this).data("salepsblqty"));
        
        var depth = Number($(this).data("depth")); 
        var lastDepth = Number($(this).data("lastdepth")); 
        
        var gftChocYn = $.trim($(this).data("gftchocyn")); 
        
        prdSelData = $(this).closest(".custom-slt").find(".select .sel-list .tit").html();
        
        
        
        
        $(".prd-sel-list.goods-opt-sel-list .sel-list").each(function(idx) {
          if(depth == $(this).data("depth")) {
            $(this).closest(".custom-slt").find(".prd-sel").html(prdSelData);
          }
        });
        
        
        if(gftChocYn == "Y") {
          var goodsPromtGftCnt = Number(promtGftCnt);
          
          var chocPromtGftCnt = 0;
          $(".custom-slt.goods-opt-sel-list.promotion-gift").each(function(idx) {
            chocPromtGftCnt += $(this).find(".prd-sel-list.goods-opt-sel-list li.select").length;
          });
          
          if(goodsPromtGftCnt != chocPromtGftCnt) {
            
            var _this = this;
            setTimeout(function() {
              $(_this).closest("temp").find(".custom-slt.goods-opt-sel-list.promotion-gift").each(function(idx) {
                if($(this).find(".prd-sel-list.goods-opt-sel-list li.select").length < 1) {
                  $(this).find("a[name='optGroup']").click();
                  return false;
                }
              });
            }, 50);
            
            return;
          }
        }
        
        
        for(var i=depth; i<tempAddMaxId; i++) {
          var addId = i+1;
          $(".optGoodsAdd"+addId).each(function() {
            $(this).html("");
            $(this).hide();
          });
        }
        
        
        $(".custom-slt.goods-opt-sel-list.promotion-gift").each(function(idx) {
          $(this).find(".prd-sel-list.goods-opt-sel-list li.select").each(function(iidx) {
            
            var gftSalePsblQty = Number($(this).find("a").data("gftsalepsblqty")); 
            if(gftSalePsblQty < otpSalePsblQty) {
              otpSalePsblQty = gftSalePsblQty;
            }
          });
        });
        
        
        if(goodsOrdMaxQty > 0 && goodsOrdMaxQty < otpSalePsblQty) {
          goodsOrdMaxQty = goodsOrdMaxQty;
        } else {
          goodsOrdMaxQty = otpSalePsblQty;
        }
        
        var paramData = {};
        if(depth == lastDepth) {
          paramData["goodsCd"] = goodsCd;
          paramData["optCd"] = optCd;
          paramData["brcd"] = brcd;
          paramData["goodsNm"] = goodsNm;
          paramData["optDtl"] = optDtl;
          paramData["depth"] = depth;
          paramData["goodsPrc"] = goodsPrc;
          paramData["setGoodsYn"] = setGoodsYn;
          paramData["snglnsOrdYn"] = snglnsOrdYn;
          paramData["frmlsGoodsScn"] = frmlsGoodsScn;
          paramData["brdcstSaleGoodsYn"] = brdcstSaleGoodsYn;
          paramData["ordMinQty"] = goodsOrdMinQty;
          paramData["otpSalePsblQty"] = goodsOrdMaxQty;
          
          paramData["goodsoptcnt"] = goodsOptCnt; 
          paramData["goodsCategory"] = goodsCategory;
          
          
           
          var goodsoptcnt = goodsOptCnt;
          var promtGftList = promtGftCnt;
          var promtGftGoodsOptTotalCnt = $("#promtGftGoodsOptTotalCnt").val();
             
          if(goodsoptcnt == 1 && promtGftList < promtGftGoodsOptTotalCnt) {
            if($(".chocGoodsDel[data-brcd='"+brcd+"']").length > 0) {
              $(".chocGoodsDel[data-brcd='"+brcd+"']").click();
            }
          }

          
          var dupCeckYn = false;
          $(".prd-opt-price").each(function(idx) {
            if($(this).data("brcd") == brcd) {
              dupCeckYn = true;
              return false;
            }
          });
        
          if(dupCeckYn) {
            alert("이미 선택한 상품입니다."); 
            var promdepthyn = $.trim($(this).closest(".custom-slt").find("a[name='optGroup']").data("promdepthyn"));
            if(promdepthyn == "Y") {
              
              $(this).closest(".custom-slt").find("a[name='optGroup']").html("<span>사은품을 선택해주세요.</span>"); 
            } else {
              $("a[name='optGroup'][data-depth='"+depth+"']").find("span").text(getOptBaseTxt(depth));
            }
            
            $(this).find("li").each(function(idx) {
              if($(this).hasClass("select")) {
                $(this).removeClass("select");
              }
            });
            return;
          }
          
          if(promtGftYn == "Y" && gftChocYn == "") {
            paramData["optClor"] = optClor;
            paramData["optSize"] = optSize;
            paramData["optPttrn"] = optPttrn;
            paramData["optShp"] = optShp;
            paramData["promtGftDepth"] = promtGftYn;
            
            addGoodsOpt(this, paramData); 
          } else {
            if(promtGftYn == "Y" && gftChocYn == "Y") {
              paramData["promtGftYn"] = promtGftYn;
            }
            
            chocGoodsDsp(paramData);
            totGoodsInfoUpdt(); 
            
            
            $(".custom-slt.goods-opt-sel-list").each(function(idx) {
              if($(this).hasClass("on")) {
                $(this).removeClass("on");
              }
              
              $(this).find(".prd-sellist-group").hide();
            });
          }
        } else {
          paramData["goodsCd"] = goodsCd;
          paramData["goodsPrc"] = goodsPrc;
          paramData["depth"] = depth;
          paramData["optCd"] = optCd;
          paramData["optClor"] = optClor;
          paramData["optSize"] = optSize;
          paramData["optPttrn"] = optPttrn;
          paramData["optShp"] = optShp;
          paramData["otpSalePsblQty"] = goodsOrdMaxQty;
          paramData["promtGftDepth"] = "N";
          
          addGoodsOpt(this, paramData); 
        }
        eventBind();
      });
      
      
      
      $(".btn-quantity-minus, .btn-quantity-plus").off("click").on("click", function(e) {
        var $input = $(this).parent().find('.goodsChocQty');
        var scn = $(this).data("scn");
        var brcd = $(this).data("brcd");
        var count =0;
        
        if(scn == "m") {
          var minQty = Number($(this).data("minqty"));
          if(String(minQty) == "NaN" || minQty == 0) {
            minQty = 1;
          }
          count = parseInt($input.val()) - 1;
          
          if(count < minQty) {
            alert("주문 가능한 최소 수량은 "+minQty+"개 입니다."); 
          }
          
          count = count < minQty ? minQty : count;
        } else {
          var salePsblQty =  Number($(this).data("salepsblqty"));
          
          if(String(salePsblQty) == "NaN" || salePsblQty > 99) {
            salePsblQty = 99;
          }
          
          count = parseInt($input.val()) + 1;
          
          if(count > salePsblQty) {
            alert("주문 가능한 최대 수량은 "+salePsblQty+"개 입니다."); 
          }
          
          count = count > salePsblQty ? salePsblQty : count;
        }
        
        
        var goodsPrc = $.eshopfront.cmm.setComma(Number($(this).parent().data("goodsbaseprc")) * count); 
        setTimeout(function() {
          $(".goodsChocQty[data-brcd='"+brcd+"']").val(count);
          $("em[data-brcd='"+brcd+"']").text(goodsPrc);
          
          totGoodsInfoUpdt(); 
        }, 10);
        
      });
      
      
      $(".chocGoodsDel").off("click").on("click", function(e) {
        var brcd = $(this).data("brcd");
        $("div[data-brcd='"+brcd+"']").remove();
        totGoodsInfoUpdt(); 
      });
    }
    
    function getOptBaseTxt(depth) {
      var depthTxt = "";
      if(depth == "0") {
        depthTxt = "상품을 선택해주세요."; 
      } else if(depth == "1") {
          depthTxt = "색상을 선택해주세요."; 
      } else if(depth == "2") {
        depthTxt = "사이즈를 선택해주세요.";           
      } else {
        depthTxt = "옵션을 선택해주세요."; 
      }
      
      return depthTxt;
    }
    
    function btnBuy(goodsCode) {
      $('html').addClass('page-tv'); 
      var optPopEmptyFlag = "";
      var frmlsGoodsScn = ""; 
      
      $.ajax({
        url : "/broadcast/tvBroadcastMainOptPop/"+goodsCode
        ,dataType : 'HTML'
        ,type: 'GET'
        ,async : true
        ,headers: {
          "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
        }
        ,success: function(data){
          $("#broadOptPop").html(data);
        }
        ,complete: function() {
          optPopEmptyFlag = $('#optPopEmptyFlag').val();
          if (optPopEmptyFlag != 'Y') {
            eventBind();
            totGoodsInfoUpdt(); 
            frmlsGoodsScn = $('.prd-opt-price').data('frmlsgoodsscn');
            if(frmlsGoodsScn == '10') { 
              $(".btn-quantity-minus").prop("disabled", "disabled");
              $(".goodsChocQty").prop("disabled", "disabled");
              $(".btn-quantity-plus").prop("disabled", "disabled");
            }
            popup.open("#pop-prd-option");
          } 
        }
        ,error:function(request,status,error){
          alert('시스템 오류가 발생했습니다.');  
        }
      });
    }
      
    const openHighlightModal = async (productId) => {
      const result = await window.BuzzniHighlightSDK?.showProduct(productId);
      if (!result?.success) {
        console.error('하이라이트 영상을 불러올 수 없습니다.');
      }
    };
    
    
    (function() {
      if (document.getElementById('highlight-sdk-script')) return;
        
      var highlightScript = document.createElement('script');
      highlightScript.id = 'highlight-sdk-script';
      highlightScript.defer = true;
      highlightScript.src = 'https://cdn.static.hsmoa.com/ok-sdk/entries/release/highlight-bundle.js?version=202512161343';
      highlightScript.setAttribute('data-display-mode', 'direct');
      highlightScript.setAttribute('data-selector', '#buzzniHighlightVideo');
      highlightScript.setAttribute('data-product-id', 'shopnt_00000000');
      highlightScript.setAttribute('data-d-key', '202411248309');
      highlightScript.setAttribute('data-shop', 'shopnt');
      highlightScript.setAttribute('data-title', '한 눈에 방송 요약');
      document.body.appendChild(highlightScript);
    })();
    
</script>














 





 
   
 
 
 


    



  
              
  
  






<!-- 배송지 관리 팝업 -->












 





 
   
 
 
 


    



  
              
  
  







<div class="popup full" id="receiverMypagePop">
  <div class="popup-inner" id="mypageReceiverPopScroll">
    <div class="popup-header">
      <h2>배송지 관리</h2>
    </div>
    <div class="popup-content type-mg0">
        <div class="btn-area mt16">
         <button type="button" id="btnMyReceiver" class="btn l-m white border-g btn-shipping-add" onclick="javascript:openUpdateMypageReceiverPop('');">신규 배송지 추가</button><!-- 07-07 클래스 변경 -->
       </div>  
       <input type="hidden" id="myPageMultiIdx">
       <input type="hidden" id="mypageReceiverCurrentPage" value="1">
        
      <!-- ajax 조회 결과 세팅 -->
      <ul class="shipping-list mt24 mb20" id="mypageReceiverListArea">
      </ul>
        
      <div class="btn-area sticky">
        <button type="button" class="btn m-l black btn-shipping-change" onclick="fnClose();">닫기</button>
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick="fnClose();">팝업 닫기</button>
  </div>
</div>

<script>

/***************************************
 * 더보기 설정 
 ***************************************/
var mypageRecScrollFlag = false; //중복 호출 방지용 플래그 값
var myReceiverIsNullFlag = false; // 기본배송지 유무 플래그 값

$("#mypageReceiverPopScroll").scroll(function() {
  var scrollTop = Math.ceil($(this).scrollTop());
  var innerHeight = $(this).innerHeight();
  var scrollHeight = $(this).prop('scrollHeight');
  
  if (scrollTop + innerHeight >= scrollHeight) {

    var totalCount = $("#mypageReceiverTotalCount").val();
    var currentPage = $('#mypageReceiverCurrentPage').val();
    var rowsPerPage = '20'; // 20개씩 노출
    
    if(mypageRecScrollFlag == false && totalCount > currentPage * rowsPerPage){
      selectReceveList('0');
  	}
  }
  
});

// 배송지 목록 조회
function selectReceveList(firstYn){

  mypageRecScrollFlag = true;	//더보기 스크롤 중복 방지 flag
  
  var currentPage = '0';
  var rowsPerPage = '20'; // 20개씩 노출 
  var totalCount = '0';
  
  if(firstYn=='1'){//배송지 목록 팝업인 경우
    $('#mypageReceiverListArea').html("");//목록 초기화
  } else {  //더보기인경우 현재페이지 설정
    currentPage = $('#mypageReceiverCurrentPage').val();
    totalCount = $('#mypageReceiverTotalCount').val();
  }
  
  if(firstYn=='1' || totalCount > currentPage * rowsPerPage){
    currentPage ++;
    $('#mypageReceiverCurrentPage').val(currentPage);
    
    var params = new Object();
    
    params['currentPage'] = currentPage;
    params['firstYn'] = firstYn;
    params['rowsPerPage'] = rowsPerPage;
    params['receiverFlag'] = '0'; //0: 기본/기타 배송지, 1: 기본배송지 2: 최근 주문 배송지
    
    $.ajax({
      url : '/mypage/receive/receiverListPop',
      type : 'POST',
      dataType : 'html',
      data : JSON.stringify(params),
      contentType : "application/json;charset=UTF-8",
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      },
      success: function(data, textStatus, jqXHR){
        
        mypageRecScrollFlag = false;	//더보기 스크롤 중복 방지 flag
        
        if(textStatus == 'success'){
          //$('#moreMypageReceiveBtn').remove();
          $('#mypageReceiverListArea').append(data);
          
					if($('#mypageReceiverTotalCountNew').val() > 0){
            $('#btnMyReceiver').text('신규 배송지 추가');
            myReceiverIsNullFlag = false;
          }else{
            $('#btnMyReceiver').text('기본 배송지 추가');
            myReceiverIsNullFlag = true;
          }
        } else {
          alert("일시적인 장애가 발생했습니다. 잠시후에 다시 요청 하시기 바랍니다.");
        }
      },
      error: function(jqXHR, textStatus, errorThrown){
        alert("일시적인 장애가 발생했습니다. 잠시후에 다시 요청 하시기 바랍니다.");
      }
    });
  }
}

// 배송지관리 팝업 오픈
function openReceivePop(firstYn){
  selectReceveList(firstYn);
  popup.open('#receiverMypagePop');
}

// 배송지 단건 조회
function selectMypageReceiverOne(flag, receiverSeq, idx){
  
  if (idx == '1'){
    idx = "";
  } else {
    idx = "_" + idx;
  }
  
  var functionResult = false;
  var params = new Object();
  
  params['receiverFlag'] = flag; //0: 기본/기타 배송지, 1: 기본배송지 2: 최근 주문 배송지
  params['receiverSeq'] = receiverSeq; //해당 seq의 배송지 조회
  
  $.ajax({
    url : '/mypage/receive/list',
    type : 'POST',
    dataType : 'json',
    async : false,
    data : JSON.stringify(params),
    contentType : "application/json;charset=UTF-8",
    headers: {
      "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    },
    success: function(result){
      if( result.resultData.status == 200 ){  //성공
        resetMypageReceiver('mypageEditPop',false); //기존 정보 초기화 
        
        if(result.resultData.receiverList != null || result.resultData.receiverList.length > 0){

          var data = result.resultData.receiverList[0];
          
          $('#receiverTitle_mypageEditPop').text('배송지 수정');
          
          $('#receiverSeq'+idx).val(data.receiverSeq);
          $('#defaultAddrYn'+idx).val(data.defaultYn);
          $('#receiverName'+idx).val(data.receiver);
          $('#sltPostNo'+idx).val(data.receiverPost);
          $('#sltBaseAddr'+idx).val(data.resultPostAddr);
          $('#sltDetailAddr'+idx).val(data.resultAddr);
          $('#receiverHp'+idx).val(data.receiverHp1+"-"+data.receiverHp2+"-"+data.receiverHp3);
          
          if(data.receiverDdd != null && data.receiverTel1 != null && data.receiverTel2 != null ){
            $('#receiverTel'+idx).val(data.receiverDdd+"-"+data.receiverTel1+"-"+data.receiverTel2);
          }
          
          // 기본 배송지 수정 : 기본 배송지로 설정 체크박스 미노출(기타 배송지로 수정할 수 없음), 이름 수정 불가능
          if("1" == data.defaultYn) {
              $('#receiverName_mypageEditPop').attr('disabled','disabled');
          } else {
              $('#receiverName_mypageEditPop').removeAttr('disabled');
          }
      
          $('#defaultAddrYn_mypageEditPop').prop('checked','');
          $('.completePostSearch_mypageEditPop').show();
          $('#defaultMypageReceiverCheckArea').css("display","block");
          $("#defaultMypageReceiverCheckArea").hide();
          
          popup.open('#editMyPageReceiverPop');
          
          functionResult = true;
        }else{
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
        }
      } else {
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    },
    error: function(jqXHR, textStatus, errorThrown){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
    }
  });
  return functionResult;
}

// 삭제
var isMypageReceiverPopLoading = false;
function deleteMypageReceiver(receiverSeq){
  if(isMypageReceiverPopLoading) return;
  
  if(confirm("삭제하시겠습니까?")){
    var param = new Object();
    param['receiverSeq'] = receiverSeq;
    
    isMypageReceiverPopLoading = true;
    $.ajax({
      url : '/mypage/receive/deleteReceiver',
      type : 'POST',
      dataType : 'json',
      data : JSON.stringify(param),
      contentType : "application/json;charset=UTF-8",
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      },
      success: function(result){
        isMypageReceiverPopLoading = false;
        //성공
        if( result.resultData.status == 200 ){
          alert("삭제되었습니다.");
          $('#mypage'+receiverSeq).remove();
        } else {
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
        }
      },
      error: function(jqXHR, textStatus, errorThrown){
        isMypageReceiverPopLoading = false;
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    });
  }
}

// 수정
function openUpdateMypageReceiverPop(receiverSeq){
  if(receiverSeq == null || receiverSeq == '') {  //배송지 신규 등록인 경우 그냥 팝업 호출 
    resetMypageReceiver('mypageEditPop', myReceiverIsNullFlag); //기존 정보 초기화 
    popup.open('#editMyPageReceiverPop');
  } else {// 배송지  수정인 경우 receiverSeq로 데이터 조회 후 세팅 
    selectMypageReceiverOne('0', receiverSeq, 'mypageEditPop');
  }
}

//배송지 데이터 리셋 
function resetMypageReceiver(idx, flag){
  //idx 0 : 배송지 변경 팝업, 1: 주문서 배송지 1 , 2이상 : 복수배송지 
  //flag false : 기본배송지 존재, true : 기본배송지 미존재
  var editPopYn = 'N';
  var custName = $('#mypageReceiverCustNameNew').val();
  var custHp = $('#mypageReceiverHp').val();

  if(idx == 'editPop' || idx == 'mypageEditPop'){
    editPopYn = 'Y';
  }
  
  if (idx == '1'){
    idx = "";
  } else {
    idx = "_" + idx;
  }
  
  $('#receiverSeq'+idx).val('');

  $('#receiverName'+idx).val('');
  
  //수정예정 (아직 해당 id 설정 X )
  /* 
  $('#editPop_post').val('');
  $('#editPop_baseAddr').val('');
  $('#editPop_detailAddr').val(''); 
  */
  
  $('#receiverHp'+idx).val('');
  $('#receiverTel'+idx).val('');
  
  $('#roadAddrNo'+idx).val('');
  $('#roadAddrYn'+idx).val('');
  
  //$('#editPopStdRoadNnmb').val('');
  //$('#editPopCustAreaGb').val('');
  $('#refineResultCode'+idx).val('');

  $('#sltRoadAddrYn'+idx).val('');
  
  $('#sltPostSeq'+idx).val('');
  $('#sltBaseAddr'+idx).val(''); 
  $('#sltDetailAddr'+idx).val(''); 

  $('#sltPostNo'+idx).val(''); 
  $('#sltRoadAddrNo'+idx).val(''); 

  $('#selectAddr'+idx).val(''); 
  
  //표준 지번 주소
  $('#stdPost'+idx).val(''); 
  $('#stdPostSeq'+idx).val(''); 
  $('#stdPostAddr1'+idx).val(''); 
  $('#stdPostAddr2'+idx).val(''); 
  $('#stdPostLngx'+idx).val(''); 
  $('#stdPostLaty'+idx).val('');

  //표준 도로명 주소
  $('#stdRoadPost'+idx).val(''); 
  $('#stdRoadPostSeq'+idx).val(''); 
  $('#stdRoadPostAddr1'+idx).val('');
  $('#stdRoadPostAddr2'+idx).val(''); 
  $('#stdRoadPostLngx'+idx).val(''); 
  $('#stdRoadPostLaty'+idx).val(''); 

  if(editPopYn == 'Y'){
    $('#defaultMypageReceiverCheckArea').css("display","block");
    $('.completePostSearch_mypageEditPop').css("display","none");
    
    if(flag == false){//이미 기존배송지가 있는 경우, 신규배송지 추가
      $('#receiverTitle_mypageEditPop').text('신규 배송지 추가');
    	$('#receiverName_mypageEditPop').removeAttr('disabled');
    	$('#receiverHp_mypageEditPop').removeAttr('disabled');

    	$('#defaultMypageReceiverCheckArea').hide();
    	$("#defaultAddrYn_mypageEditPop").prop("checked","");
      $('#editReceiver_save').text('저장하기');
  	}else{// 기존배송지가 없는 경우, 기본배송지 추가
  	  $('#receiverTitle_mypageEditPop').text('기본 배송지 추가');
  	  $('#receiverName_mypageEditPop').val(custName);
  	  $('#receiverName_mypageEditPop').attr('disabled','disabled'); //attr('readonly', 'readonly');
  	  $('#receiverHp_mypageEditPop').val(custHp);
  	  $('#receiverHp_mypageEditPop').attr('disabled','disabled');
  		// 배송지 첫 등록시 기본배송지 설정
    	//if($("#mypageReceiverTotalCount").val() == 0){
  	  $("#defaultMypageReceiverCheckArea").show();
  	  $("#defaultAddrYn_mypageEditPop").prop("checked", true);
  	  $("#defaultAddrYn_mypageEditPop").prop("disabled", true);
  	  $('#editReceiver_save').text('저장하기');
  	}
  }
  
}

//유효성검사 
function calculate_msglen(message){
   var nbytes = 0;
 
   for (i=0; i<message.length; i++) {
       var ch = message.charAt(i);
       if(escape(ch).length > 4) {
           nbytes += 2;
       } else if (ch == '\n') {
           if (message.charAt(i-1) != '\r') {
               nbytes += 1;
           }
       } else if (ch == '<' || ch == '>') {
           nbytes += 4;
       } else {
           nbytes += 1;
       }
   }
 
   return nbytes;
}

//유효성검사 
function isEmpty(_str){ //비어있으면 true
  var obj = String(_str);
  if(obj == null || obj == undefined || obj == 'null' || obj == 'undefined' || obj == '' || obj.trim() == '') {
    return true;
  } else {
    return false;
  }
}

//팝업 닫기
function fnClose(){
  if(typeof callbackReceiverPop == 'function'){
    callbackReceiverPop();
  }
  popup.close('#receiverMypagePop');
  /*if($("div .dim").length){
    $("div .dim").remove();
  }*/
}

</script>












 





 
   
 
 
 


    



  
              
  
  







<div class="popup full" id="editMyPageReceiverPop">
  <div class="popup-inner">
    <div class="popup-header">
      <h2 id="receiverTitle_mypageEditPop">신규 배송지 추가</h2>
    </div>
    <div class="popup-content">
      <div class="shipping-ipt-area">
        <dl class="delivery-common mt0">
          <dt>이름</dt>
          <dd>
            <div class="ipt-wrap">
              <input type="text" class="ipt delete" placeholder="이름 입력" title="이름 입력" id="receiverName_mypageEditPop" name="receiverName_mypageEditPop" value="">
            </div>
          </dd>
        </dl>
        <dl class="delivery-common">
          <dt>주소</dt>
          <dd>
            <div class="delivery-address">
              <div class="delivery-post">
                <div class="ipt-wrap">
                  <input type="text" class="ipt delete" placeholder="우편번호 입력" title="우편번호 입력" id="sltPostNo_mypageEditPop" disabled="">
                </div>
                <button type="button" class="btn-find-address btn m-l white border-g" onclick="javascript:postPopOpen('mypageEditPop');">주소찾기</button>
              </div>
              <div class="ipt-wrap mt8 completePostSearch_mypageEditPop" style="display:none;">
                <input type="text" class="ipt delete" title="주소 입력" id="sltBaseAddr_mypageEditPop" disabled="">
              </div>
              <div class="ipt-wrap completePostSearch_mypageEditPop" style="display:none;">
                <input type="text" class="ipt delete" title="상세주소 입력" id="sltDetailAddr_mypageEditPop" disabled="">
              </div>
            </div>
          </dd>
        </dl>
        <dl class="delivery-common">
          <dt>휴대폰번호</dt>
          <dd>
            <div class="ipt-wrap">
              <input type="tel" class="ipt delete phoneNumber" placeholder="휴대폰번호 입력" id="receiverHp_mypageEditPop" name="receiverHp_mypageEditPop" maxlength="13">
            </div>
          </dd>
        </dl>
        <dl class="delivery-common">
          <dt>전화번호 (선택)</dt>
          <dd>
            <div class="ipt-wrap">
              <input type="tel" class="ipt delete phoneNumber" placeholder="전화번호 입력" title="전화번호 입력" id="receiverTel_mypageEditPop" name="receiverTel_mypageEditPop" maxlength="13">
            </div>
          </dd>
        </dl>
        <div class="form-wrap mt16" id="defaultMypageReceiverCheckArea">
          <input type="checkbox" id="defaultAddrYn_mypageEditPop" name="defaultAddrYn_mypageEditPop">
          <label for="defaultAddrYn_mypageEditPop"><span></span>기본배송지로 설정</label>
        </div>
      </div>
      <button type="button" class="btn m-l black btn-shipping-change" id="editReceiver_save" onclick="saveMypageReceiver('mypageEditPop')">저장하기</button>
    </div>
    <button type="button" class="btn-popup-close" onclick="popup.close(&quot;#editMyPageReceiverPop&quot;)">팝업 닫기</button>
  </div>
</div>

<!-- S : 저장 데이터 세팅 -->
<input type="hidden" id="receiverSeq_mypageEditPop" value="">
<input type="hidden" id="refineResultCode_mypageEditPop" value="">

<input type="hidden" id="sltPostSeq_mypageEditPop" value="">

<input type="hidden" id="sltRoadAddrYn_mypageEditPop" value="">
<input type="hidden" id="sltRoadAddrNo_mypageEditPop" value="">

<input type="hidden" id="selectAddr_mypageEditPop" value="">

<input type="hidden" id="stdPost_mypageEditPop" value="">
<input type="hidden" id="stdPostSeq_mypageEditPop" value="">
<input type="hidden" id="stdPostAddr1_mypageEditPop" value="">
<input type="hidden" id="stdPostAddr2_mypageEditPop" value="">
<input type="hidden" id="stdPostLngx_mypageEditPop" value="">
<input type="hidden" id="stdPostLaty_mypageEditPop" value="">

<input type="hidden" id="stdRoadPost_mypageEditPop" value="">
<input type="hidden" id="stdRoadPostSeq_mypageEditPop" value="">
<input type="hidden" id="stdRoadPostAddr1_mypageEditPop" value="">
<input type="hidden" id="stdRoadPostAddr2_mypageEditPop" value="">
<input type="hidden" id="stdRoadPostLngx_mypageEditPop" value="">
<input type="hidden" id="stdRoadPostLaty_mypageEditPop" value="">
<!-- E : 저장 데이터 세팅 -->

<script>
$(document).ready(function(){
  //핸드폰 번호
  $("#receiverHp_mypageEditPop").on("keyup", function() {
    $(this).val( $(this).val().replace(/[^0-9]/g, "").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})/,"$1-$2-$3").replace("--", "-") );
  });
  //전화번호
  $("#receiverTel_mypageEditPop").on("keyup", function() {
    $(this).val( $(this).val().replace(/[^0-9]/g, "").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})/,"$1-$2-$3").replace("--", "-") );
  });
});

//배송지 저장/수정
var isMypageEditReceiverPopLoad = false;
function saveMypageReceiver(idx){
  if(isMypageEditReceiverPopLoad) return;
  
  //1) 배송지 변경 팝업에서 등록/수정 하는 경우 
  //2) 주문서 진입시 등록된 배송지가 없어 사용자가 직접 입력하는경우 (배송지 저장 한 뒤 배송비 계산해야함)
  var editPopYn = "N";
  
  if(idx == 'editPop' || idx == 'mypageEditPop'){
    editPopYn = 'Y'
  }
  
  if(idx == "1"){
    idx = "";
  } else {
    idx = "_" + idx ;
  }

  var receiverName = "";
  var sltPostNo = "";
  var sltBaseAddr = "";
  var sltDetailAddr = "";
  
  var receiverHp = "";
  var splitReceiverHp = "";
  var receiverHp1 = "";
  var receiverHp2 = "";
  var receiverHp3 = "";
  var receiverHpAll = "";

  var receiverTel = "";
  var splitReceiverTel = "";
  var receiverDdd = "";
  var receiverTel1 = "";
  var receiverTel2 = "";
  var receiverTelAll = "";

  var custName = $("#mypageReceiverCustName").val();
  var nonMemberYn = "";
  
  receiverName = $('#receiverName'+idx).val();
  sltPostNo = $('#sltPostNo'+idx).val();
  sltBaseAddr = $('#sltBaseAddr'+idx).val();
  sltDetailAddr = $('#sltDetailAddr'+idx).val();
  
  receiverHp = $('#receiverHp'+idx).val();
  splitReceiverHp = $('#receiverHp'+idx).val().split('-');
  receiverHp1 = splitReceiverHp[0]; 
  receiverHp2 = splitReceiverHp[1]; 
  receiverHp3 = splitReceiverHp[2];
  receiverHpAll = splitReceiverHp[0]+""+splitReceiverHp[1]+""+splitReceiverHp[2];
  
  receiverTel = $('#receiverTel'+idx).val();
  
  if(receiverTel != null && receiverTel != ''){
    splitReceiverTel = $('#receiverTel'+idx).val().split('-');
    receiverDdd = splitReceiverTel[0]; 
    receiverTel1 = splitReceiverTel[1]; 
    receiverTel2 = splitReceiverTel[2];
    receiverTelAll = splitReceiverTel[0]+""+splitReceiverTel[1]+""+splitReceiverTel[2];
  }
  
  var chkNumber = /^[0-9-]+$/;
  var hpPattern = /[01](0|1|6|7|8|9)[-](\d{4}|\d{3})[-]\d{4}$/;
  var telPattern = /^[0-9]{2,3}[-][0-9]{3,4}[-][0-9]{4}/;
  
  //배송지 정보 유효성 검사
  if(isEmpty(receiverName) || 2 > receiverName.length){
    alert("이름을 입력해 주세요.");   //이름을 입력해주세요.
    return false;
  }

  if(isEmpty(sltPostNo) || isEmpty(sltBaseAddr) || isEmpty(sltDetailAddr)){
    alert("주소를 입력해 주세요.");   //주소를 입력해주세요.
    return false;
  }
  
  if(receiverHp == "" ){
    alert("휴대폰 번호를 입력해 주세요.");   //휴대폰 번호를 입력해주세요.
    return false;
  }
  
  //주소 validation
  if(5 != sltPostNo.length && 6 != sltPostNo.length){
    alert("우편번호를 확인해 주세요.");
    $("#sltPostNo"+idx).focus();
    return false;
  }
  
  if(!chkNumber.test(sltPostNo)){ ;
    alert("우편번호 번호는 숫자만 입력 가능합니다.");
    return false;
  }
        
  if(calculate_msglen(sltDetailAddr) > 300){
    alert("상세 주소는 300byte 이내로 입력해주세요.");
    return false;
  }
  
  // 휴대전화 validation
  if(!hpPattern.test(receiverHp)){
    alert("휴대폰 번호 형식이 올바르지 않습니다. 확인 후 다시 입력해주세요.");
    $('#receiverHp'+idx).focus();
    return false;
  }
   
  // 전화번호 validation
  if(receiverTel != null && receiverTel != ''){
    if(!telPattern.test(receiverTel)){
      alert("전화번호 형식이 올바르지 않습니다. 확인 후 다시 입력해주세요.");
      $('#receiverTel'+idx).focus();
      return false;
    }
  }
  
  //기본배송지 설정
  var defaultAddrYn = "";
  if($('#defaultAddrYn_mypageEditPop').is(':checked')){
    //배송지 수정 팝업에서 체크박스 체크한 경우 
    defaultAddrYn = 1;
    
    /*if(receiverName != custName){
      alert("기본 배송지 설정은 회원 이름과 받으시는 분 이름이 동일할때만 가능합니다.");	//기본 배송지 설정은 회원 이름과 받으시는 분 이름이 동일할때만 가능합니다.
      return false;
    }*/
  }
  
	//중복 배송지 체크 후 배송지 저장
  if(dupCheckReceiverData_mypage(nonMemberYn,receiverName,receiverHpAll,receiverTelAll,sltBaseAddr,sltDetailAddr,'etc')){
    //데이터 세팅
    var param = new Object();
  
    param['defaultAddrYn'] = defaultAddrYn; //기본 배송지 여부
  
    param['receiverSeq'] = $('#receiverSeq'+idx).val(); //배송지 Seq // 배송지 추가일떈 빈값, 수정일땐 선택 Seq
  
    param['receiverName'] = $('#receiverName'+idx).val(); //배송자 명
    
    param['receiverHp1'] = receiverHp1; //휴대폰번호
    param['receiverHp2'] = receiverHp2;
    param['receiverHp3'] = receiverHp3;
    param['receiverDdd'] = receiverDdd; //전화번호
    param['receiverTel1'] = receiverTel1;
    param['receiverTel2'] = receiverTel2;
  
    param['refineResultCode'] = $('#refineResultCode'+idx).val(); //정제 결과 코드
    
    param['sltPostNo'] = $('#sltPostNo'+idx).val(); //우편번호
    param['sltPostSeq'] = $('#sltPostSeq'+idx).val(); //우편번호 순번
    param['sltBaseAddr'] = $('#sltBaseAddr'+idx).val(); // 기본 주소 
    param['sltDetailAddr'] = $('#sltDetailAddr'+idx).val(); // 상세 주소  
  
    param['sltRoadAddrYn'] = $('#sltRoadAddrYn'+idx).val(); // 도로명 주소 여부
    param['sltRoadAddrNo'] = $('#sltRoadAddrNo'+idx).val(); // 도로명 우편번호
  
    param['selectAddr'] = $('#selectAddr'+idx).val(); //주소 선택 구분
  
    //표준 지번 주소
    param['stdPost'] = $('#stdPost'+idx).val(); //우편번호
    param['stdPostSeq'] = $('#stdPostSeq'+idx).val(); //우편번호 순번
    param['stdPostAddr1'] = $('#stdPostAddr1'+idx).val(); //기본 주소
    param['stdPostAddr2'] = $('#stdPostAddr2'+idx).val(); //상세 주소
    param['stdPostLngx'] = $('#stdPostLngx'+idx).val(); //경도 좌표
    param['stdPostLaty'] = $('#stdPostLaty'+idx).val(); //위도 좌표
  
    //표준 도로명 주소
    param['stdRoadPost'] = $('#stdRoadPost'+idx).val(); //우편번호
    param['stdRoadPostSeq'] = $('#stdRoadPostSeq'+idx).val(); //우편번호 순번
    param['stdRoadPostAddr1'] = $('#stdRoadPostAddr1'+idx).val(); //기본 주소
    param['stdRoadPostAddr2'] = $('#stdRoadPostAddr2'+idx).val(); //상세 주소
    param['stdRoadPostLngx'] = $('#stdRoadPostLngx'+idx).val(); //경도 좌표
    param['stdRoadPostLaty'] = $('#stdRoadPostLaty'+idx).val(); //위도 좌표
    
    isMypageEditReceiverPopLoad = true;
    $.ajax({
      url : '/mypage/receive/updateReceiverList',
      type : 'POST',
      dataType : 'json',
      data : JSON.stringify(param),
      async : false,
      contentType : "application/json;charset=UTF-8",
      headers: {
        "X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      },
      success: function(result){
        isMypageEditReceiverPopLoad = false;
        //성공
        if( result.resultData.status == 200 ){
            if(editPopYn == 'Y' && defaultAddrYn == '1'){
              alert("기본 배송지로 저장되었습니다.");
            }else{
              alert("저장되었습니다.");
            }
            // 배송지 수정 팝업인 경우는 1) 팝업 초기화 3) 배송지 목록 새로 정렬 
            resetMypageReceiver('editPop',false); //팝업 초기화 
            popup.close('#editMyPageReceiverPop'); // 배송지 수정 팝업 닫기 
            $('#receiverCurrentPage').val('1');
            
            if($("#receiverMypagePop").prev(".dim").length > 0){
              $("#receiverMypagePop").prev(".dim").remove();
            }
            
            openReceivePop('1');
        } else {
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
        }
      },
      error: function(jqXHR, textStatus, errorThrown){
        isMypageEditReceiverPopLoad = false;
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    });
  }    
}

//배송지 중복체크
function dupCheckReceiverData_mypage(nonMemberYn,receiverName,receiverHpAll,receiverTelAll,sltBaseAddr,sltDetailAddr,mode) {
	 //데이터 세팅
	var functionResult = true;
	var params = new Object();

  if(nonMemberYn == 'Y'){
 		params['custNo'] = "202411248309"; 
  }

  params['nonMemberYn'] = nonMemberYn; //비회원 여부 Y:비회원 N:회원 
  params['receiver'] = receiverName; //배송자명
  params['receiverHp'] = receiverHpAll;	//휴대폰번호
  params['receiverTel'] = receiverTelAll;	  //전화번호
  params['sltBaseAddr'] = sltBaseAddr; // 기본 주소 
  params['sltDetailAddr'] = sltDetailAddr; // 상세 주소 	
  
  $.ajax({
    url : '/order/common/checkReceiverList',
	  type : 'POST',
	  dataType : 'json',
	  async : false,
	  data : JSON.stringify(params),
	  contentType : "application/json;charset=UTF-8",
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
		success: function(result){
		  //조회되는 리스트가 있다면 중복 존재
      if (result.resultData.receiverList != null && result.resultData.receiverList.length > 0) {
        const dupReceiver = result.resultData.receiverList[0];
        if (mode === 'basic') {
          // 기본배송지 수정 화면 : 자동 승격을 위해 seq만 저장
          window.lastCheckedDupReceiverSeq = dupReceiver.receiverSeq;
        } else {
          // 기타 배송지 화면 : alert 띄우기
          alert("동일한 배송지 정보가 등록되어 있습니다.\n확인 후 다시 입력해 주세요."); // 동일한 배송지 정보가 등록되어 있습니다.
        }
        functionResult = false;
      }
    },
    error: function(jqXHR, textStatus, errorThrown){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
     	functionResult = false;
    }
  });
  return functionResult;
}
</script>
<!-- 주소 찾기 팝업 -->












 





 
   
 
 
 


    



  
              
  
  




















 





 
   
 
 
 


    



  
              
  
  







<div class="popup full" id="postPop">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>주소찾기</h2>
    </div>
    <div class="popup-content type-mg0">
      <div class="tab type-underline-02 half">
        <button id="tapRoadPart" type="button" class="is-active" onclick="javascript:postPopRoadTapPart();">도로명주소</button>
        <button id="tapAddrPart" type="button" class="" onclick="javascript:postPopAddrTapPart();">지번주소</button>
      </div>
      <div class="tab-cont-wrap">
        <div class="tab-cont-item" style="display:block">
            <div class="select-wrap half" id="roadSearchDiv">
              <div class="form-select">
                <select class="ipt" title="시/도 선택" id="cityCode" name="cityCode">
                    <option value="">시/도 선택</option>
                    
                  </select>
              </div>
              <div class="form-select">
                <select class="ipt" title="시/군/구 선택" id="guCode" name="guCode">
                  <option value="">시/군/구 선택</option>
                </select>
              </div>
            </div>
            <div class="srch-box mt8" id="roadAddrSearchDiv">
              <div class="ipt-wrap is-srch">
                <input type="text" class="ipt delete" placeholder="도로명주소를 입력해 주세요." title="주소 입력" id="roadName" name="roadName" value="">
              </div>
              <button type="button" class="btn-srch" onclick="javascript:searchPostSubmit('1', '1')">
                <span class="hidden">검색</span>
              </button>
            </div>
            <!-- 도로명 총 건수 -->
            <div class="side-info mt24" id="roadAddrCount">
              
            </div>
            
            <!-- 도로명 검색 결과 선택  -->
            <div class="address-hang-wrap" id="roadAddrSelectPart">
              <ul class="add-search-list type-result">
                <li>
                  <div class="address-result">
                    <dl>
                      <dt class="zip"></dt>
                      <dd>
                        <strong>도로명</strong>
                        <span id="roadAddrSpanTag"></span>
                      </dd>
                      <dd>
                        <strong>지번</strong>
                        <span id="addrSpanTag"></span>
                      </dd>
                    </dl>
                  </div>
                </li>
              </ul>
              <input type="hidden" id="sltDisplayRoadPostNo_1" value="" readonly="readonly">
              <input type="hidden" id="sltDisplayBaseRoadAddr_1" value="" readonly="readonly">
              <input type="hidden" id="sltDisplayBaseAddr_1" value="" readonly="readonly">
              <div class="ipt-wrap mt20">
                <input type="text" class="ipt delete" placeholder="상세 주소를 입력해주세요 " title="상세주소 입력" id="inputDetailRoadAddr">
               </div>
            </div>
            <div class="btn-area half" id="roadAddrSelectPartBtn">
              <button type="button" class="btn l-l white border-b" onclick="javascript:openPostSearch('0');">다시검색</button>
              <button type="button" class="btn l-l black" onclick="javascript:refinePost('1');return false;">등록</button>
            </div>
            
            <!-- 도로명 검색 결과 -->
            <ul class="add-search-list" id="roadAddrListPart">
              
            </ul>
            
            <!-- 도로명 더보기 -->
            <div class="btn-area" id="roadAddrMoreBtnArea">
              <button type="button" onclick="javascript:searchPostSubmit('1', '0')"><span></span></button>
            </div>
        </div>
        
        <!-- 지번탭 -->
        <div class="tab-cont-item">
          <!-- 지번 검색 -->
          <div class="srch-box mt8" id="addrSearchDiv">
              <div class="ipt-wrap is-srch">
                <input type="text" class="ipt" placeholder="지번 주소를 입력해주세요" title="지번 주소 입력" id="dongName" name="dongName" value="">
              </div>
              <button type="button" class="btn-srch" onclick="javascript:searchPostSubmit('0', '1')">
                <span class="hidden">검색</span>
              </button>
            </div>
            
            <!-- 지번 총 건수 -->
            <div class="side-info mt24" id="addrCount">
              
            </div>
            
            <!-- 지번 검색 결과 선택  -->
            <div class="address-hang-wrap" id="addrSelectPart">
              <ul class="add-search-list type-result">
                <li>
                  <div class="address-result">
                    <dl>
                      <dt class="zip"></dt>
                      <dd>
                        <strong>지번</strong>
                        <span id="addrSpanTag"></span>
                      </dd>
                      <dd>
                        <strong>도로명</strong>
                        <span id="roadAddrSpanTag"></span>
                      </dd>
                    </dl>
                  </div>
                </li>
              </ul>
              <input type="hidden" id="sltDisplayRoadPostNo_2" value="" readonly="readonly">
              <input type="hidden" id="sltDisplayBaseRoadAddr_2" value="" readonly="readonly">
              <input type="hidden" id="sltDisplayBaseAddr_2" value="" readonly="readonly">
              <div class="ipt-wrap mt20">
                <input type="text" class="ipt delete" placeholder="상세 주소를 입력해주세요 " id="inputDetailAddr">
               </div>
            </div>
            <div class="btn-area half" id="addrSelectPartBtn">
              <button type="button" class="btn l-l white border-b" onclick="javascript:openPostSearch('0');">다시검색</button>
              <button type="button" class="btn l-l black" onclick="javascript:refinePost('0');return false;">등록</button>
            </div>
            
            <!-- 지번 검색 결과 -->
            <ul class="add-search-list" id="addrListPart">
            
            </ul>
            
            <!-- 지번 더보기 -->
            <div class="btn-area" id="addrMoreBtnArea">
              <button type="button" onclick="javascript:searchPostSubmit('0', '0')"><span></span></button>
            </div>
        </div>
      </div>
      <dl class="search-tip" id="postAddr_tip">
        <dt>빠른 검색을 위한 TIP</dt>
        <dd>
          <ul>
            <li>
              <dl id="postAddr_tip_1">
                <dt>도로명 + 건물번호</dt>
                <dd>예) 동호로 310</dd>
              </dl>
            </li>
            <li>
              <dl id="postAddr_tip_2">
                <dt>지역명 + 건물명</dt>
                <dd>예) 동호로 310</dd>
              </dl>
            </li>
          </ul>
        </dd>
      </dl>
    </div>
    <button type="button" class="btn-popup-close" onclick="javascript:closePostPage();">팝업 닫기</button>
  </div>
</div>

  <input type="hidden" id="temp_sltPostNo" value="">
  <input type="hidden" id="temp_sltBaseAddr" value="">
  <input type="hidden" id="temp_sltDetailAddr" value="">
  <input type="hidden" id="temp_selectAddr" value=""> <!-- 주소선택구분[1]입력[2]도로명[3]표준지번 -->
  <input type="hidden" id="temp_stdPost" value="">
  <input type="hidden" id="temp_stdPostAddr1" value="">
  <input type="hidden" id="temp_stdPostAddr2" value="">
  <input type="hidden" id="temp_stdRoadPost" value="">
  <input type="hidden" id="temp_stdRoadPostAddr1" value="">
  <input type="hidden" id="temp_stdRoadPostAddr2" value="">
  <input type="hidden" id="temp_sltPostSeq" name="temp_sltPostSeq" value="">
  <input type="hidden" id="temp_sltCustAreaGb" name="temp_sltCustAreaGb" value="">
  <input type="hidden" id="temp_sltRoadAddrNo" name="temp_sltRoadAddrNo" value="">
  <input type="hidden" id="temp_sltRoadAddrYn" name="temp_sltRoadAddrYn" value="">
  <input type="hidden" id="temp_refineResultCode" name="temp_refineResultCode" value="">
  <input type="hidden" id="temp_stdPostSeq" name="temp_stdPostSeq" value="">
  <input type="hidden" id="temp_stdPostLngx" name="temp_stdPostLngx" value="">
  <input type="hidden" id="temp_stdPostLaty" name="temp_stdPostLaty" value="">
  <input type="hidden" id="temp_stdRoadPostSeq" name="temp_stdRoadPostSeq" value="">
  <input type="hidden" id="temp_stdRoadPostLngx" name="temp_stdRoadPostLngx" value="">
  <input type="hidden" id="temp_stdRoadPostLaty" name="temp_stdRoadPostLaty" value="">
  <input type="hidden" id="temp_stdRoadNnmb" name="temp_stdRoadNnmb" value="">
  <input type="hidden" id="sltDefaultInputAddrYn" name="sltDefaultInputAddrYn" value="">
  <input type="hidden" id="postCurrentPage" value="1">
  <input type="hidden" id="postTotalPage" value="0">

  <script>
  $(function() {
    // 도로명 탭 주소명 엔터 검색
		$("#roadName").on("keyup", function(e){
		  if(13 == e.keyCode){
		    searchPostSubmit("1", '1');
		  }
		});
    
		// 지번 탭 주소명 엔터 검색
		$("#dongName").on("keyup", function(e){
		  if(13 == e.keyCode){
		    searchPostSubmit("0", '1');
		  }
		});
		
		// 시/도 변경시
		$("#cityCode").on("change", function(){
		  var cityCode = $(this).val();
		  var param = {"cityCode":cityCode}
		  if(cityCode !== "" && cityCode !== null){
		    
		    var htm = new Array();
		    htm.push("<option value=''>시/군/구 선택</option>");
		    
		    $.ajax({
		      url : '/common/guCodeList',
		  	  type : 'GET',
		  	  data : param,
		  	  headers: {
		  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		  		},
		      success: function(result){
		        $.each(result.resultData, function(idx, item){
		          htm.push("<option value='"+ item.guCode +"'>" + item.guName + "</option>")
		        })
		        
		        $("#guCode").empty().append(htm.join(''));
    				$("#guCode option:first").attr('selected', 'selected');
		      },error: function(jqXHR, textStatus, errorThrown){
		        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
		      }
		   })
		  }
		})
  });

 var openPostForEdit = "0";      // 1 : 주문서페이지에서 배송지 추가/수정을 위한 주소 검색

// 주소찾기 팝업
function openPostSearch(editPopYn){
   
  if(editPopYn != "0"){
    openPostForEdit = "_" + editPopYn; 
  }
   
  popup.open('#postPop');
  
  /* 주소정제 */ 
  $("#addrListPart").empty();
  $("#roadAddrListPart").empty();
  $("input#dongName").val("");
  $("input#roadName").val("");
  $("select#guCode").val("");
  $("select#cityCode").val("");
  
  $("input#sltDisplayRoadPostNo_1").val("");
  $("input#sltDisplayBaseRoadAddr_1").val("");
  $("input#sltDisplayBaseAddr_1").val("");
  $("input#inputDetailRoadAddr").val("");
  
  $("input#sltDisplayRoadPostNo_2").val("");
  $("input#sltDisplayBaseRoadAddr_2").val("");
  $("input#sltDisplayBaseAddr_2").val("");
  $("input#inputDetailAddr").val("");
  
  $("input#temp_sltPostNo").val("")
  $("input#temp_sltBaseAddr").val("") 
  
  $("#addrResultPart").hide();
  $("#addrSelectDiv").hide();
  $("#postAddr_tip").show();
  
  $("#tapRoadPart").click();	// 도로명 탭
}

// 도로명 탭 클릭시
function postPopRoadTapPart(){
	$("input#dongName").val("");
	$("input#roadName").val("");
	$("select#guCode").val("");
	$("select#cityCode").val("");
	
	$("input#sltDisplayRoadPostNo_1").val("");
  $("input#sltDisplayBaseRoadAddr_1").val("");
  $("input#sltDisplayBaseAddr_1").val("");
  $("input#inputDetailRoadAddr").val("");
	
	$("input#temp_sltPostNo").val("");
	$("input#temp_sltBaseAddr").val("");
	
	$("input#temp_stdPost").val("");
	$("input#temp_stdPostSeq").val("");
	$("input#temp_stdPostAddr1").val("");
	$("input#temp_stdPostAddr2").val("");
	$("input#temp_stdPostLngx").val("");
	$("input#temp_stdPostLaty").val("");
	
	$("input#temp_stdRoadPost").val("");
	$("input#temp_stdRoadPostSeq").val("");
	$("input#temp_stdRoadPostAddr1").val("");
	$("input#temp_stdRoadPostAddr2").val("");
	$("input#temp_stdRoadPostLngx").val("");
	$("input#temp_stdRoadPostLaty").val("");
	
	$("input#temp_refineResultCode").val("");
	
	$("#roadSearchDiv").show();
	$('#roadAddrListPart').empty().show();
	$('#roadAddrSelectPart').hide();
	$('#roadAddrSelectPartBtn').hide();
	$('#roadAddrMoreBtnArea').hide();
	$('#roadAddrCount').hide();
	
	tipTextChange("1");
	
	$("#roadAddrSearchDiv").show();
	$('#postAddr_tip').show();
}

// 지번 탭 클릭시
function postPopAddrTapPart(){
	$("#guCode").empty();
  $("#guCode").append("<option value=''>시/군/구 선택</option>");

	$("input#dongName").val("");
	$("input#roadName").val("");
	
	$("input#sltDisplayRoadPostNo_2").val("");
  $("input#sltDisplayBaseRoadAddr_2").val("");
  $("input#sltDisplayBaseAddr_2").val("");
  $("input#inputDetailAddr").val("");
	
	$("input#temp_sltPostNo").val("");
	$("input#temp_sltBaseAddr").val(""); 
	
	$("input#temp_stdPost").val("");
	$("input#temp_stdPostSeq").val("");
	$("input#temp_stdPostAddr1").val("");
	$("input#temp_stdPostAddr2").val("");
	$("input#temp_stdPostLngx").val("");
	$("input#temp_stdPostLaty").val("");
	
	$("input#temp_stdRoadPost").val("");
	$("input#temp_stdRoadPostSeq").val("");
	$("input#temp_stdRoadPostAddr1").val("");
	$("input#temp_stdRoadPostAddr2").val("");
	$("input#temp_stdRoadPostLngx").val("");
	$("input#temp_stdRoadPostLaty").val("");
	
	$("input#temp_refineResultCode").val("");
	
	$('#addrListPart').empty().show();
	$('#addrSelectPart').hide();
	$('#addrSelectPartBtn').hide();
	$('#addrMoreBtnArea').hide();
	$('#addrCount').hide();
	
	tipTextChange("0");
	
	$('#addrSearchDiv').show();
	$('#postAddr_tip').show();
}

// 검색 버튼 클릭시
function searchPostSubmit(postAddrFlag, firstYn){
	
	var dongName = "";
	var cityCode = "";
	var guCode = "";
	var roadName = "";
	
	var currentPage = "1";
  var rowsPerPage = "10";	//Number($("input#rowsPerPage").val());
  var totalCount = '0';
  
  if(firstYn != "1"){
    currentPage = $('#postCurrentPage').val();
    totalCount = $('#postTotalPage').val();
  }
  
	$("#addrResultMsgPart").hide();
	$("#roadAddrResultMsgPart").hide();
	
	if( "1" == postAddrFlag){
	  $('#roadAddrMoreBtnArea').hide();
  	cityCode = $("#cityCode > option:selected").val();
    guCode = $("#guCode > option:selected").val();
		roadName = $.trim($("input#roadName").val());
			
		if( cityCode == ""){
			var msg = "시/도를 선택해 주세요.";
			alert(msg);
			$("#cityCode").focus();
			return false;
		}
		
		if( guCode == ""){
			var msg = "시/군/구를 선택해 주세요.";
			alert(msg);
			$("#guCode").focus();
			return false;
		}
		
		if( roadName == ""){
			var msg = "도로명을 입력해 주세요.";
			alert(msg);
			$("#roadName").focus();
			return false;
		}
		
		if( 2 > roadName.length ){
			var msg = "도로명은 2글자 이상 입력해 주세요.";
			alert(msg);
			$("#dongName").focus();
			return false;
		}
	}else{
	  $("#addrMoreBtnArea").hide();
		dongName = $.trim($("input#dongName").val());
		
		if( dongName == ""){
			var msg = "지역명을 입력해 주세요.";
			alert(msg);
			$("#dongName").focus();
			return false;
		}
		
		if( 2 > dongName.length ){
			var msg = "지역명은 2글자 이상 입력해 주세요.";
			alert(msg);
			$("#dongName").focus();
			return false;
		}
	}
	
	if(firstYn != '1' && totalCount > currentPage * rowsPerPage){
	  currentPage ++;
	  $('#postCurrentPage').val(currentPage);
	}
	
	var params = {
	    'postAddrFlag' : postAddrFlag,
	    'dongName' : dongName,
	    'cityCode' : cityCode,
	    'guCode' : guCode,
	    'roadName' : roadName,
	    'currentPage' : currentPage,
	    'rowsPerPage' : rowsPerPage
	}
	
	$.ajax({
    url : '/common/postnoList',
	  type : 'GET',
	  data : params,
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
    success: function(result){
    var data = result.resultData;
    
    if( "1" == postAddrFlag ){ // 1 : 도로명 주소
      var htm = [];
    	var totalCount = 0;
    	
  		if("0" == data.postAddrList.length) {
  		  $("#roadAddrListPart").html("<li class='no-data'><strong>'"+params.roadName+"'</strong>에 대한 검색결과가 없습니다.</li>");
  		  $('#roadAddrMoreBtnArea').hide();
				$("#postAddr_tip").show();
  		}  else {
  		  if(firstYn == "1"){
  		    $("#roadAddrListPart").empty();
  		  }
				$("#postAddr_tip").hide();
				
				$.each(data.postAddrList, function(index, model){
				  
				  htm = "";	
					htm += "<li>";
					htm += "<button type='button'>";
					htm += "<dl class='addr_detail'>";
					htm += "<dt class='zip'>"+model.postNo+"</dt>";
					htm += "<dd><strong>도로명</strong><span>"+model.cityName+" "+model.guName+" "+model.roadPostAddr+"</span></dd>";
					htm += "<dd><strong>지번</strong><span>"+model.cityName+" "+model.guName+" "+model.postAddr+"</span></div>";
					htm += "</dl>";
					htm += "</button>";
					htm += "</li>";
					
					var html = $(htm);
					html.data("model", model).on('click', function(){
					  selectPost(model.postNo, model.postSeq, model.cityName+" "+model.guName+" "+model.roadPostAddr , model.custAreaGb, model.roadAddrNo, model.cityName+" "+model.guName+" "+model.postAddr , '1');
					}); 
					
					totalCount = model.totalCount;
					$("#roadAddrListPart").append(html);
		  	});
				
				if(1000 <= totalCount){
	  		  $("#roadAddrListPart").html("<li class='no-data'><strong>'"+params.roadName+"'</strong>에 대한 검색결과가 너무 많습니다. <br> 검색어를 상세히 입력해주세요.</li>");
	  		  $("#postAddr_tip").show();
	  		}else{
	  		  if(totalCount > currentPage * rowsPerPage){
	  		    $('#roadAddrMoreBtnArea').show();
	  		    $('#roadAddrMoreBtnArea button span').html('더보기 <em>(' + currentPage * rowsPerPage + '/' + totalCount + ')</em>');
          } else {
            $('#roadAddrMoreBtnArea').hide();
          }
	  		}

				$("#postTotalPage").val(totalCount);
      }
  		
			// 검색 결과 총 개수 처리
			$('#roadAddrCount').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
			$('#roadAddrCount').show();
			
		}else{
			var htm = [];
			var totalCount = 0;
			var modelRoadPostAddr;

			if("0" == data.postAddrList.length) {
				$("#addrListPart").html("<li class='no-data'><strong>'"+params.dongName+"'</strong>에 대한 검색결과가 없습니다.</li>");
  			$("#postAddr_tip").show();
			} else {
			  if(firstYn == "1"){
			    $("#addrListPart").empty();
			  }
				$("#postAddr_tip").hide();
				
				$.each(data.postAddrList, function(index, model){
				  htm = "";	
					htm += "<li>";
					htm += "<button type='button'>";
					htm += "<dl class='addr_detail'>";
					htm += "<dt class='zip'>"+model.postNo+"</dt>";
					
					if(model.roadPostAddr != null){
					  modelRoadPostAddr = model.cityName+" "+model.guName+" "+model.roadPostAddr;
					}else{
					  modelRoadPostAddr =  "검색된 도로명이 없습니다.";
					}
					htm += "<dd><strong>지번</strong><span>"+model.dongdtName+"</span></div>";
					htm += "<dd><strong>도로명</strong><span>"+modelRoadPostAddr+"</span></dd>";
					htm += "</dl>";
					htm += "</button>";
					htm += "</li>";
					
					var html = $(htm);
					html.data("model", model).on('click', function(){
					  selectPost(model.postNo, model.postSeq, model.dongdtName, model.custAreaGb, '', modelRoadPostAddr, '0');
					});
					
					totalCount = model.totalCount;
					$("#addrListPart").append(html);
				});
  				if(1000 <= totalCount){
  	  		  $("#addrListPart").html("<li class='no-data'><strong>'"+params.roadName+"'</strong>에 대한 검색결과가 너무 많습니다. <br> 검색어를 상세히 입력해주세요.</li>");
  	  		  $('#addrMoreBtnArea').hide();
  	  		  $("#postAddr_tip").show();
  	  		}else{
  	  			// 더보기 버튼
  	  		  if(totalCount > currentPage * rowsPerPage){
  	  		    $('#addrMoreBtnArea').show();
  	  		    $('#addrMoreBtnArea button span').html('더보기 <em>(' + currentPage * rowsPerPage + '/' + totalCount + ')</em>');
            } else {
              $('#addrMoreBtnArea').hide();
            }
  	  		}

					$("#postTotalPage").val(totalCount);
				}
  			// 검색 결과 총 개수 처리
  			$('#addrCount').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
  			$('#addrCount').show();
  		}
    },error: function(jqXHR, textStatus, errorThrown){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
    }
  });
}

//주소 조회 선택(정제 이후)
function selectPost(p1, seq, addr, agb, road, addr2, roadYn) {
	if(roadYn == "1" ){
		$("#roadSearchDiv").hide();
		$("#roadAddrSearchDiv").hide();
		$("#roadAddrListPart").empty().hide();
    $("#roadAddrCount").hide();
    $("#roadAddrPaging").hide();
    $("#roadAddrMoreBtnArea").hide();
    
    $("#roadAddrSelectPart").show();
    $("#roadAddrSelectPartBtn").show();
    $("#roadAddrSelectPart .zip").text(p1);
    $("#roadAddrSelectPart #roadAddrSpanTag").text(addr);
    $("#roadAddrSelectPart #addrSpanTag").text(addr2);
    
    $("input#sltDisplayRoadPostNo_1").val(p1);
  	$("input#sltDisplayBaseRoadAddr_1").val(addr);
  	$("input#sltDisplayBaseAddr_1").val(addr2);
	  $("input#inputDetailRoadAddr").focus();
	  
	}else{
    $("#addrSearchDiv").hide();
    $("#addrListPart").empty().hide();
    $("#addrCount").hide();
	  $("#addrPaging").hide();
	 	$("#addrMoreBtnArea").hide();
	  
	  $("#addrSelectPart").show();
	  $("#addrSelectPartBtn").show();
    $("#addrSelectPart .zip").text(p1);
    $("#addrSelectPart #roadAddrSpanTag").text(addr2);
    $("#addrSelectPart #addrSpanTag").text(addr);
    
    $("input#sltDisplayRoadPostNo_2").val(p1);
  	$("input#sltDisplayBaseRoadAddr_2").val(addr2);
  	$("input#sltDisplayBaseAddr_2").val(addr);
	  $("input#inputDetailAddr").focus();
	}
	
	$("input#temp_sltPostNo").val(p1);
	$("input#temp_sltBaseAddr").val(addr);
	$("input#temp_sltDetailAddr").val("");
	
	$("input#temp_sltPostSeq").val(seq);
	$("input#temp_sltCustAreaGb").val(agb);
	$("input#temp_sltRoadAddrNo").val(road);
	$("input#temp_sltRoadAddrYn").val(roadYn);
}


// 주소 최종  선택(정제 이후)
function selectPostParamSetting(postNo, postSeq, baseAddr, postGb, roadNo, roadYn){
    var param = new Object();
    
  	param['post01'] = postNo;
  	param['post02'] = "";
  	param['postSeq'] = postSeq;
  	param['baseAddr'] = baseAddr;
  	param['custAreaGb'] = postGb;
  	param['roadAddrNo'] = roadNo;
  	param['receiverSeq'] = "";
  	param['roadAddrYn'] = roadYn;
  	
  	param['sltPostNo'] = $("input#sltPostNo").val();
  	param['sltPostSeq'] = $("input#sltPostSeq").val();
  	param['sltBaseAddr'] = $("input#sltBaseAddr").val();
  	param['sltDetailAddr'] = $("input#sltDetailAddr").val();
  	param['sltRoadAddrNo'] = $("input#sltRoadAddrNo").val();
  	param['sltRoadAddrYn'] = $("input#sltRoadAddrYn").val();
  	param['refineResultCode'] = $("input#refineResultCode").val();
  	param['selectAddr'] = $("input#selectAddr").val();
  	
  	param['stdPost'] = $("input#stdPost").val();
  	param['stdPostSeq'] = $("input#stdPostSeq").val();
  	param['stdPostAddr1'] = $("input#stdPostAddr1").val();
  	param['stdPostAddr2'] = $("input#stdPostAddr2").val();
  	param['stdPostLngx'] = $("input#stdPostLngx").val();
  	param['stdPostLaty'] = $("input#stdPostLaty").val();	
  
  	param['stdRoadPost'] = $("input#stdRoadPost").val();
  	param['stdRoadPostSeq'] = $("input#stdRoadPostSeq").val();
  	param['stdRoadPostAddr1'] = $("input#stdRoadPostAddr1").val();
  	param['stdRoadPostAddr2'] = $("input#stdRoadPostAddr2").val();
  	param['stdRoadPostLngx'] = $("input#stdRoadPostLngx").val();
  	param['stdRoadPostLaty'] = $("input#stdRoadPostLaty").val();
  	param['stdRoadNnmb'] = $("input#stdRoadNnmb").val();
  	
  	callbackPostPop(JSON.stringify(param));
} 

//주소 정제
function refinePost(roadYn){
	var param = new Object();
	
	var SearchMode = "J";
	var postNo = "";
	var baseAddr = "";
	var $detailAddrEle = "";
	var detailAddr = "";
	var checkWord = /[#$%^*]/;
	
	if( roadYn == "1" ){	// 입력 주소구분(J:지번, N:새길)	
		SearchMode = "N";
		postNo = $("input#sltDisplayRoadPostNo_1").val();
		baseAddr = $("input#sltDisplayBaseRoadAddr_1").val();
		$detailAddrEle = $("input#inputDetailRoadAddr");
		detailAddr = $detailAddrEle.val().trim();
	}else{
		SearchMode = "J";
		postNo = $("input#sltDisplayRoadPostNo_2").val();
		baseAddr = $("input#sltDisplayBaseAddr_2").val();
		$detailAddrEle = $("input#inputDetailAddr");
		detailAddr = $detailAddrEle.val().trim();
	}
	
	if(detailAddr == "" ){
		alert("상세 주소를 입력해 주세요.");
		return false;
	}
	
	if(checkWord.test(detailAddr)){
    	alert("상세 주소에 특수문자는 입력할 수 없습니다.");
    	return false;
	}
  
	$("input#temp_sltPostNo").val(postNo);
	$("input#temp_sltBaseAddr").val(baseAddr);
	$("input#temp_sltDetailAddr").val(detailAddr);
	
  param['zipcode'] = postNo;
  param['addr1'] = baseAddr;
  param['addr2'] = detailAddr;
  param['searchMode'] = SearchMode;
  param['unifiedYn'] = "0"; // 통합주소검색 팝업 사용여부
	
  $.ajax({
    url : '/interfaces/refine-post',
	  type : 'GET',
	  data : param,
	  headers: {
			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
		},
    success: function(result){
      
      var refinePost = result.resultData.refinePost;
      var custAreaGb = $("#input#temp_sltCustAreaGb").val();
      
			if( refinePost.resCode == "I" || refinePost.resCode == "H" ){
				var refinePostData = refinePost.refinePostData;
	  		
				if(openPostForEdit != "0"){
				// 주문서 페이지의 배송지 작성 팝업 안에서 주소 검색 팝업 open --> 주문서 페이지의 주소 데이터를 수정하면 안됨.
          $("#editPopPost").val(refinePostData.zprnr);
          $("#editPopBaseAddr").val(refinePostData.nadr1S);
          $("#editPopDetailAddr").val(refinePostData.nadr2S);
          
          $("#editPopRoadAddrNo").val(refinePostData.nnmb);
          $("#editPopRoadAddrYn").val("1");
          
          $("input#sltPostNo"+openPostForEdit).val(postNo);
          $("input#sltPostSeq"+openPostForEdit).val(refinePostData.zprnsr);
          $("input#sltBaseAddr"+openPostForEdit).val(baseAddr);
          $("input#sltDetailAddr"+openPostForEdit).val(detailAddr);
          $("input#sltRoadAddrNo"+openPostForEdit).val(refinePostData.nnmb);
          $("input#sltRoadAddrYn"+openPostForEdit).val("1");
          
          $("input#refineResultCode"+openPostForEdit).val(refinePost.resCode);
          $("input#selectAddr"+openPostForEdit).val("2");
                      
          $("input#stdPost"+openPostForEdit).val(refinePostData.zprnj);
          $("input#stdPostSeq"+openPostForEdit).val(refinePostData.zprnsjb);
          $("input#stdPostAddr1"+openPostForEdit).val(refinePostData.addr1Y);
          $("input#stdPostAddr2"+openPostForEdit).val(refinePostData.stdaddr);
          $("input#stdPostLngx"+openPostForEdit).val(refinePostData.gisx);
          $("input#stdPostLaty"+openPostForEdit).val(refinePostData.gisy);
          
          $("input#stdRoadPost"+openPostForEdit).val(refinePostData.zprnr);
          $("input#stdRoadPostSeq"+openPostForEdit).val(refinePostData.zprnsr);
          $("input#stdRoadPostAddr1"+openPostForEdit).val(refinePostData.nadr1S);
          $("input#stdRoadPostAddr2"+openPostForEdit).val(refinePostData.nadr2S);
          $("input#stdRoadPostLngx"+openPostForEdit).val(refinePostData.nnmx);
          $("input#stdRoadPostLaty"+openPostForEdit).val(refinePostData.nnmy);
          
          $("input#stdRoadNnmb"+openPostForEdit).val(refinePostData.nnmb);
          $("input#custAreaGb"+openPostForEdit).val(custAreaGb).trigger("change");
          $(".completePostSearch"+openPostForEdit).show();
			  }else{
			    $("#post01").val(refinePostData.zprnr);
          $("input[name=addr]").val(refinePostData.zprnr);
          $("#baseAddr").val(refinePostData.nadr1S);
          $("#detailAddr").val(refinePostData.nadr2S);
          
          $("#receiverPostSeq").val(refinePostData.zprnsr);
          $("#roadAddrNo").val(refinePostData.nnmb);
          $("#roadAddrYn").val("1");
          
          $("input#sltPostNo").val(postNo);
          $("input#sltPostSeq").val(refinePostData.zprnsr);
          $("input#sltBaseAddr").val(baseAddr);
          $("input#sltDetailAddr").val(detailAddr);
          $("input#sltRoadAddrNo").val(refinePostData.nnmb);
          $("input#sltRoadAddrYn").val("1");
          
          $("input#refineResultCode").val(refinePost.resCode);
          $("input#selectAddr").val("2");
                      
          $("input#stdPost").val(refinePostData.zprnj);
          $("input#stdPostSeq").val(refinePostData.zprnsjb);
          $("input#stdPostAddr1").val(refinePostData.addr1Y);
          $("input#stdPostAddr2").val(refinePostData.stdaddr);
          $("input#stdPostLngx").val(refinePostData.gisx);
          $("input#stdPostLaty").val(refinePostData.gisy);
          
          $("input#stdRoadPost").val(refinePostData.zprnr);
          $("input#stdRoadPostSeq").val(refinePostData.zprnsr);
          $("input#stdRoadPostAddr1").val(refinePostData.nadr1S);
          $("input#stdRoadPostAddr2").val(refinePostData.nadr2S);
          $("input#stdRoadPostLngx").val(refinePostData.nnmx);
          $("input#stdRoadPostLaty").val(refinePostData.nnmy);
          
          $("input#stdRoadNnmb").val(refinePostData.nnmb);
          $("#custAreaGb").val(custAreaGb).trigger("change");
			  
			    selectPostParamSetting(refinePostData.zprnr, refinePostData.zprnsr, refinePostData.nadr1S, custAreaGb, refinePostData.nnmb, roadYn);
			     
			  }
			  
				closePostPage();
	  		
			}else{
				alert("매칭된 지번/도로명 주소가 없습니다.");
			}
  	}, error: function(jqXHR, textStatus, errorThrown){
      alert("매칭된 지번/도로명 주소가 없습니다.");
  	}
  });
}

//팝업 닫기
function closePostPage(){
  popup.close("#postPop");
  
  // 배송지 관리 페이지 : 추가/수정 팝업 노출
  var path = window.location['pathname'];
  if(path.indexOf("/mypage/receiverList") > -1){
      $('#ship_pop').css("display","block");
  }
  
  // 주문서 페이지 : 배송지 작성 팝업 안에서 주소 검색 팝업 open
  if(openPostForEdit == "editPop"){
      $('#editPop').fadeIn('300');
      openPostForEdit = "0";
  }
}

//tip 문구 설정
function tipTextChange(addrPostYn){
  if(addrPostYn == '1'){
    $("#postAddr_tip_1 dt").text("도로명 + 건물번호");
    $("#postAddr_tip_1 dd").text("예) 동호로 310");
    $("#postAddr_tip_2 dt").text("지역명 + 건물명");
    $("#postAddr_tip_2 dd").text("예) 장충동 태광산업");
  }else{
    $("#postAddr_tip_1 dt").text("지역명 + 번지");
    $("#postAddr_tip_1 dd").text("예) 장충동2가 162-1");
    $("#postAddr_tip_2 dt").text("지역명 + 건물명");
    $("#postAddr_tip_2 dd").text("예) 장충동 태광산업");
  }
}
</script>












 





 
   
 
 
 


    



  
              
  
  







<div class="popup full scroll" id="postPopUnified">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>주소찾기</h2>
    </div>
    <div class="popup-content type-mg0">
      <div class="address-hang-wrap">
        <div class="srch-box mt24">
          <div class="ipt-wrap is-srch" id="addr_form_wrap">
            <input type="text" class="ipt" placeholder="도로명주소 또는 지번을 입력해주세요" title="주소 입력" id="addr_keyword" autocomplete="off">
          </div>
          <button type="button" class="btn-srch" onclick="javascript:getAddrLoc('1');">
            <span class="hidden">검색</span>
          </button>
        </div>
        <!-- 총 건수 -->
        <div class="side-info mt24" id="addr_count">
              <span>총 <string></string>건</span>
        </div>
        <!-- 검색 결과 -->
        <ul class="add-search-list" id="addr_list">
          
        </ul>
        <!--  더보기  -->
        <div class="btn-area" id="addr_moreBtnArea" style="display:none">
          <button type="button" onclick=""><span></span></button>
        </div>
        
        <dl class="search-tip" id="addrUnified_tip">
          <dt>빠른 검색을 위한 TIP</dt>
          <dd>
            <ul>
              <li>
                <dl>
                  <dt>도로명 + 건물번호</dt>
                  <dd>예) 서울 세종대로 99</dd>
                </dl>
              </li>
              <li>
                <dl>
                  <dt>읍/면/동/리 + 지번</dt>
                  <dd>예) 문래동3가 55-7</dd>
                </dl>
              </li>
              <li>
                <dl>
                  <dt>건물명</dt>
                  <dd>예) 독립기념관</dd>
                </dl>
              </li>
            </ul>
          </dd>
        </dl>
        
        <!--  상세 주소 입력란  -->
        <div id="addr_detail" style="display: none;">
        </div>
        
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick="javascript:closeUnifiedPostPage();">팝업 닫기</button>
  </div>
</div>


<input type="hidden" id="addrCurrentPage" value="1">
<input type="hidden" id="addrTotalPage" value="0">
<input type="hidden" id="addrRowsPerPage" value="10">
<input type="hidden" id="resultType" value="json"> 


<div class="popup full scroll" id="postPopDaum">
  <div class="popup-inner" style="height: 100%;">
    <div class="popup-header">
      <h2>주소찾기</h2>
    </div>
    <div class="popup-content pr0 pl0 pb0" id="postPopDaumBody" style="height: 100%;">
    
    </div>
    <button type="button" class="btn-popup-close" onclick="javascript:closeDaumPostPage();">팝업 닫기</button>
  </div>
</div>

<div class="popup full scroll" id="postPopDaumSet">
  <div class="popup-inner">
    <div class="popup-header">
      <h2>주소찾기</h2>
    </div>
    <div class="popup-content" id="postPopDaumBodySet">
         <!--  상세 주소 입력란  -->
        <div id="daum_addr_detail" style="display: none;">
        </div>
        
        <div class="btn-area half" id="daum_addr_detailBtn" style="display:none;">
          <button type="button" class="btn l-l white border-b" onclick="javascript:openPostDaum(&quot;0&quot;);">다시검색</button>
          <button type="button" class="btn l-l black" onclick="javascript:refineUnifiedPost(&quot;daum&quot;);return false;">등록</button>
        </div>
    </div>
    <button type="button" class="btn-popup-close" onclick="javascript:closeDaumPostSetPage();">팝업 닫기</button>
  </div>
</div>


<script>
$(function() {
  // 엔터
  $('input#addr_keyword').on('keyup', function(e){
    if (13 == e.keyCode) {
      e.keyCode = 0;
      getAddrLoc('1');
    }
  });
});
// 주소 검색 레이어 팝업 닫기
function closeUnifiedPostPage(){
    popup.close('#postPopUnified');
    
    // 배송지 관리 페이지 : 추가/수정 팝업 노출
    var path = window.location['pathname'];
    if(path.indexOf("/mypage/receiverList") > -1){
        $('#ship_pop').css("display","block");
    }
    
    // 주문서 페이지 : 배송지 작성 팝업 안에서 주소 검색 팝업 open
    if(openPostForEdit == "editPop"){
        $('#editPop').fadeIn('300');
        openPostForEdit = "0";
    }
}

// 주소 검색 전체 레이어 팝업 노출
var openPostForEdit = "0";      // 1 : 주문서페이지에서 배송지 추가/수정을 위한 주소 검색

function openPostSearchUnified(editPopYn){
  
  if(editPopYn != "0"){
    openPostForEdit = "_" + editPopYn; 
  }
  
  if(!$("#postPopUnified").hasClass('open')){
    popup.open('#postPopUnified');
  }
  
  // 기존 검색어 및 검색 결과 초기화
  $("#postPopUnified .srch-wrap").show(); // 검색
  $("#addr_keyword").val("");  // 검색어
  $('#addr_count').hide();   // 검색 결과 개수
  $('#addrUnified_tip').show();     // tip 문구
  $("#addr_list").empty().show();   // 검색 결과 리스트
  $('#addr_detail').hide();    // 상세 주소 입력란
  $('#addr_moreBtnArea').hide();		// 더보기
  
}

/* 주소 통합 검색 (행정안전부 API) */
function getAddrLoc(pageNum){
  var currentPage = "1";
  var rowsPerPage = $("#addrRowsPerPage").val();
  var totalCount = "0";
  
  if(pageNum == "1"){
    $('#addrCurrentPage').val(currentPage);
    $('#addrTotalPage').val(totalCount);
  }
  
  if(pageNum != "1"){
    currentPage = $('#addrCurrentPage').val();
    totalCount = $('#addrTotalPage').val();
  }
  
	// 검색어 체크
	if (!checkSearchedWord($("#addr_keyword").val())) {
		return ;
	}
	
	// 기존 검색어 및 검색 결과 초기화
	if($('#addr_count span').text() <= 0){
	  $("#addr_list").empty().show();		// 검색 결과 리스트
	}
	$('#addr_count').hide();		// 검색 결과 개수
	$('#addr_moreBtnArea').hide();
	$('#addrUnified_tip').hide();			// 기본 tip 문구
	$('#addr_detail').hide();		// 상세 주소 입력란
	
	if(pageNum != '1' && totalCount > currentPage * rowsPerPage){
	  currentPage ++;
	  $('#addrCurrentPage').val(currentPage);
	}
	
	// 행정안전부 API AJAX 호출
	var param = new Object();
	//param['currentPage'] = $("#addrCurrentPage").val();
	param['currentPage'] = currentPage;
	param['rowsPerPage'] = $("#addrRowsPerPage").val();
	param['resultType'] = $("#resultType").val();
	param['keyword'] = $("#addr_keyword").val();
	param['totalPages'] = 0;
	
	$.ajax({
    url : '/common/unifiedPostSearch',
	  type : 'GET',
	  data : param,
	  dataType: 'json',
    success: function(result){
      //var data = result.data;
  		if("0000" == result.resultCode) {
  			// 기존 검색 결과 초기화
  			if(pageNum == "1"){
  			  $("#addr_list").empty().show();
  			}
  			$("#addr_list").show();
  			
  			var object = JSON.parse(result.resultData);
  			
  			var errCode = object.results.common.errorCode;
  			var errDesc = object.results.common.errorMessage;
  			if(errCode != "0"){
  				// 행정안전부 API에서 에러 리턴
  				$('#addr_list').html('<li class="no-data">' + errDesc + '</li>');
  		
      		$('#addr_count').hide();
      		$('#addrUnified_tip').show();
      		$('#addr_detail').hide();
      		$('#addr_moreBtnArea').hide();
      	}else{
  				if(object != null){
  					var totalCount = object.results.common.totalCount;
						
  					if(totalCount == 0) {
  						// 조회 결과 없음총 
  						$('#addr_count').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
  						$('#addr_count').show();
  						
  						$('#addr_list').html('<li class="no-data">'+$("#addr_keyword").val()+'에 대한 검색결과가 없습니다.</li>');
  						$('#addr_list').show();
  						
  						$('#addrUnified_tip').show();
  					} else if(totalCount >= 1000) {
  						// 조회 결과 1000건 이상
  						$('#addr_count').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
  						$('#addr_count').show();

  						$('#addr_list').html('<li class="no-data"><strong>'+$("#addr_keyword").val()+'</strong>에 대한 검색결과가 너무 많습니다.<br>검색어를 상세히 입력해주세요.</li>');
  						$('#addr_list').show();
  						
  						$('#addrUnified_tip').show();
  						
  					} else {
  						// 검색 결과 총 개수 처리
  						$('#addr_count').html('<span>총 <strong>'+totalCount+'</strong>건</span>');
  						$('#addr_count').show();
  						
  						// 검색 결과 리스트 처리
  						makeListJson(object);
  						if(totalCount > currentPage * rowsPerPage){
  						  $('#addr_moreBtnArea').show();
  		  		    $('#addr_moreBtnArea button span').html('더보기 <em>(' + currentPage * rowsPerPage + '/' + totalCount + ')</em>');
  		  		    $('#addr_moreBtnArea button').attr('onclick', 'javascript:getAddrLoc("0")')
  						}else{
  						  $('#addr_moreBtnArea').hide();
  						}
  					}
  					
  					$("#addrTotalPage").val(totalCount);
  				}
  			}
  		} else {
    		//alert(data.message);
  			$('#addrUnified_tip').show();
  		} 
    },error: function(jqXHR, textStatus, errorThrown){
      alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
    }
	})
}

/* 검색어 체크 : 특수문자, 특정문자열(sql예약어의 앞뒤공백포함) 제거 */
function checkSearchedWord(obj){
	if(obj.length > 0){
		// 특수문자 제거
		var expText = /[%=><?#&+\\\"]/ ;
		if(expText.test(obj) == true){
			obj = obj.split(expText).join(""); 
  		alert('특수문자를 입력 할수 없습니다.');
  		//$('#addr_warring').html('<dt>특수문자를 입력 할수 없습니다.</dt>');
			
			$('#addr_count').hide();
  		$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
  		return false;
			
		}
		
		// 특정문자열(sql예약어의 앞뒤공백포함) 제거
		var sqlArray = new Array(
			//sql 예약어
			"OR", "SELECT", "INSERT", "DELETE", "UPDATE", "CREATE", "DROP", "EXEC",
             		 "UNION",  "FETCH", "DECLARE", "TRUNCATE" 
		);
		
		var regex;
		for(var i=0; i<sqlArray.length; i++){
			regex = new RegExp( sqlArray[i] ,"gi") ;
			
			if (regex.test(obj) ) {
				obj = obj.replace(regex, "");
				var errorMsg = "\"" + sqlArray[i]+"\"와(과) 같은 특정문자로 검색할 수 없습니다.";
				alert(errorMsg);
    		//$('#addr_warring').html('<dt>'+errorMsg+'</dt>');
        		
				$('#addr_count').hide();
    		$('#addrUnified_tip').show();
  			$("#addr_list").empty().show();
  			$('#addr_detail').hide();
  			$('#addr_moreBtnArea').hide();
    		
    		return false;
			}
		}
		
		// 검색어 길이 체크 (2~80)
		if(obj.length < 2) {
		  alert('검색어는 두 글자 이상 입력되어야 합니다.');
  		//$('#addr_warring').html('<dt>검색어는 두 글자 이상 입력되어야 합니다.</dt>');
    		
			$('#addr_count').hide();
  		$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
    	return false;
			
		} else if (obj.length > 80){
		  alert('80글자를 초과한 검색어는 검색이 불가능합니다.')
  		//$('#addr_warring').html('<dt>80글자를 초과한 검색어는 검색이 불가능합니다.</dt>');
    		
			$('#addr_count').hide();
  		$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
    	return false;
		}
		
		// 숫자만 입력
		expText = /^[0-9]+$/ ;
		if(expText.test(obj)){
		  alert('숫자만으로는 검색이 불가능합니다.');
    	//$('#addr_warring').html('<dt>숫자만으로는 검색이 불가능합니다.</dt>');
    		
			$('#addr_count').hide();
			$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
    	return false;
		}
		
		// 10자리 초과 숫자 포함
		expText = /\d{10,}/ ;
		if(expText.test(obj)){
		  alert('검색어에 너무 긴 숫자가 포함되어 있습니다.</br>(숫자10자 이하)');
    	//$('#addr_warring').html('<dt>검색어에 너무 긴 숫자가 포함되어 있습니다.</br>(숫자10자 이하)</dt>');
    		
			$('#addr_count').hide();
			$('#addrUnified_tip').show();
			$("#addr_list").empty().show();
			$('#addr_detail').hide();
			$('#addr_moreBtnArea').hide();
    	return false;
		}
	} else {
		// 검색어 없음
		alert('검색어를 입력해주세요.');
		//$('#addr_warring').html('<dt>검색어를 입력해주세요.</dt>');
		
		$('#addr_count').hide();
		$('#addrUnified_tip').show();
		$("#addr_list").empty().show();
		$('#addr_detail').hide();
		$('#addr_moreBtnArea').hide();
		return false;
	}
	return true ;
}

/* 주소 통합 검색 결과 노출 */
function makeListJson(jsonStr){
	
	$.each(jsonStr.results.juso, function(index, model){
		var htmlStr = "";
		
		htmlStr += "<li>";
		htmlStr += "<button type='button'>";
		htmlStr += "<dl class='addr_detail'>";
		htmlStr += "<dt class='zip'>"+this.zipNo+"</dt>";
		htmlStr += "<dd><strong>도로명</strong><span>"+this.roadAddr+"</span></dd>";
		htmlStr += "<dd><strong>지번</strong><span>"+this.jibunAddr+"</span></div>";
		htmlStr += "</dl>";
		htmlStr += "</button>";
		htmlStr += "</li>";
		
		var html = $(htmlStr);
		html.data("model", model).on('click', function(){
			selectUnifiedPost(model.zipNo, model.roadAddr, model.jibunAddr, model.bdMgtSn);
		});
		
		$("#addr_list").append(html);
	});
}

/* 주소 통합 검색 결과 리스트에서 주소 선택 */
function selectUnifiedPost(zipNo, roadAddr, jibunAddr, roadNo) {
	// 결과 리스트 미노출
	$('#addr_count').hide();		// 검색 결과 개수
	$("#addr_list").empty().show();		// 검색 결과 리스트
	$("#addr_list").hide();
	$('#addr_moreBtnArea').hide();			// 페이징
	
	// 선택한 주소 데이터 세팅
	var htmlStr = "";
	htmlStr += "<ul class='add-search-list type-result'>";
	htmlStr += "	 <li>";
	htmlStr += "	 <div class='address-result'>";
	htmlStr += "			<dl>";
	htmlStr += "				<dt class='zip' id='addr_detail_zip'>"+zipNo+"</dt>";
	htmlStr += "				<dd><strong>도로명</strong><span id='addr_detail_road'>"+roadAddr+"</span></dd>";
	htmlStr += "				<dd><strong>지번</strong><span>"+jibunAddr+"</span></dd>";
	htmlStr += "			</dl>";
	htmlStr += "	 	</div>";
	htmlStr += "		<div class='ipt-wrap mt20'>";
	htmlStr += "			<input type='text' class='ipt delete' id='addr_detail_input' placeholder='상세 주소를 입력해 주세요.'>";
	htmlStr += "		</div>";
	//htmlStr += "<input type='hidden' id='addr_detail_roadNo' value='"+roadNo+"' placeholder='상세 주소를 입력해 주세요.'>";
	htmlStr += "	 </li>";
	htmlStr += "<div class='btn-area half'>";
	htmlStr += "		<button type='button' class='btn l-l white border-b' onclick='javascript:openPostSearchUnified(\"0\");'>다시검색</button>";
	htmlStr += "		<button type='button' class='btn l-l black' onclick='javascript:refineUnifiedPost();return false;'>등록</button>";
	htmlStr += "</div>";
	htmlStr += "</ul>";
	
	$("#addr_detail").empty();
	$("#addr_detail_input").empty();
	$("#addr_detail").append(htmlStr);
	$("#postPopUnified .srch-wrap").hide();
	
	// 상세 주소 입력란 노출
	$('#addr_detail').show();		// 상세 주소 입력란	
	
}

/* 상세 주소 입력 후 주소 정제 */
function refineUnifiedPost(postSearchType) {
  var searchTypeId = "";
  if (postSearchType == 'daum') {
    searchTypeId = "daum_";
  }
  
  var postNo = $('#'+searchTypeId+'addr_detail_zip').text();
	var baseAddr = $('#'+searchTypeId+'addr_detail_road').text();
	var detailAddr = $('#'+searchTypeId+'addr_detail_input').val().trim();
	// var roadNo = $('#addr_detail_roadNo').val();
	if (postSearchType == 'daum') {
	  var roadNo = $('#daum_addr_detail_roadNo').val();
	}
	var searchMode = "N";
	
	var checkWord = /[#$%^*]/;
	
	if(detailAddr == ""){
	  alert("상세 주소를 입력해 주세요.");
	  $('#'+searchTypeId+'addr_detail_input').val("");
	  $('#'+searchTypeId+'addr_detail_input').focus();
    return false;
	}
	
	if(checkWord.test(detailAddr)){
    alert("상세 주소에 특수문자는 입력할 수 없습니다.");
    $('#'+searchTypeId+'addr_detail_input').focus();
    return false;
	}
	
	// 주소 정제
	var param = new Object();
		param['zipcode'] = postNo;
    param['addr1'] = baseAddr;
    param['addr2'] = detailAddr;
    param['SearchMode'] = searchMode;
    param['unifiedYn'] = "1";
		
    $.ajax({
      url : '/interfaces/refine-post',
  	  type : 'GET',
  	  data : param,
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(result){
  			var refinePost = result.resultData.refinePost;
  			var custAreaGb = result.resultData.custAreaGb;
  			if( ( refinePost.resCode == "I" || refinePost.resCode == "H" ) && custAreaGb != "" ) {
  				var refinePostData = refinePost.refinePostData;
  				
    				if(openPostForEdit != "0"){
              // 주문서 페이지의 배송지 작성 팝업 안에서 주소 검색 팝업 open --> 주문서 페이지의 주소 데이터를 수정하면 안됨.
              $("#editPopPost").val(refinePostData.zprnr);
              $("#editPopBaseAddr").val(refinePostData.nadr1S);
              $("#editPopDetailAddr").val(refinePostData.nadr2S);
              
              $("#editPopRoadAddrNo").val(refinePostData.nnmb);
              $("#editPopRoadAddrYn").val("1");
              
              $("input#sltPostNo"+openPostForEdit).val(postNo);
              $("input#sltPostSeq"+openPostForEdit).val(refinePostData.zprnsr);
              $("input#sltBaseAddr"+openPostForEdit).val(baseAddr);
              $("input#sltDetailAddr"+openPostForEdit).val(detailAddr);
              $("input#sltRoadAddrNo"+openPostForEdit).val(refinePostData.nnmb);
              $("input#sltRoadAddrYn"+openPostForEdit).val("1");
              
              $("input#refineResultCode"+openPostForEdit).val(refinePost.resCode);
              $("input#selectAddr"+openPostForEdit).val("2");
                          
              $("input#stdPost"+openPostForEdit).val(refinePostData.zprnj);
              $("input#stdPostSeq"+openPostForEdit).val(refinePostData.zprnsjb);
              $("input#stdPostAddr1"+openPostForEdit).val(refinePostData.addr1Y);
              $("input#stdPostAddr2"+openPostForEdit).val(refinePostData.stdaddr);
              $("input#stdPostLngx"+openPostForEdit).val(refinePostData.gisx);
              $("input#stdPostLaty"+openPostForEdit).val(refinePostData.gisy);
              
              $("input#stdRoadPost"+openPostForEdit).val(refinePostData.zprnr);
              $("input#stdRoadPostSeq"+openPostForEdit).val(refinePostData.zprnsr);
              $("input#stdRoadPostAddr1"+openPostForEdit).val(refinePostData.nadr1S);
              $("input#stdRoadPostAddr2"+openPostForEdit).val(refinePostData.nadr2S);
              $("input#stdRoadPostLngx"+openPostForEdit).val(refinePostData.nnmx);
              $("input#stdRoadPostLaty"+openPostForEdit).val(refinePostData.nnmy);
              
              $("input#stdRoadNnmb"+openPostForEdit).val(refinePostData.nnmb);
              $("input#custAreaGb"+openPostForEdit).val(custAreaGb).trigger("change");
              $(".completePostSearch"+openPostForEdit).show();
              
              if(openPostForEdit == "_mypageBasicEditPop"){
               	//값 셋팅 후 마이페이지 화면에서 저장
               	saveMypageBasicReceiver('mypageBasicEditPop');
            	}
              
          }else {
            
              $("#post01").val(refinePostData.zprnr);
              $("input[name=addr]").val(refinePostData.zprnr);
              $("#baseAddr").val(refinePostData.nadr1S);
              $("#detailAddr").val(refinePostData.nadr2S);
              
              $("#receiverPostSeq").val(refinePostData.zprnsr);
              $("#roadAddrNo").val(refinePostData.nnmb);
              $("#roadAddrYn").val("1");
              
              $("input#sltPostNo").val(postNo);
              $("input#sltPostSeq").val(refinePostData.zprnsr);
              $("input#sltBaseAddr").val(baseAddr);
              $("input#sltDetailAddr").val(detailAddr);
              $("input#sltRoadAddrNo").val(refinePostData.nnmb);
              $("input#sltRoadAddrYn").val("1");
              
              $("input#refineResultCode").val(refinePost.resCode);
              $("input#selectAddr").val("2");
                          
              $("input#stdPost").val(refinePostData.zprnj);
              $("input#stdPostSeq").val(refinePostData.zprnsjb);
              $("input#stdPostAddr1").val(refinePostData.addr1Y);
              $("input#stdPostAddr2").val(refinePostData.stdaddr);
              $("input#stdPostLngx").val(refinePostData.gisx);
              $("input#stdPostLaty").val(refinePostData.gisy);
              
              $("input#stdRoadPost").val(refinePostData.zprnr);
              $("input#stdRoadPostSeq").val(refinePostData.zprnsr);
              $("input#stdRoadPostAddr1").val(refinePostData.nadr1S);
              $("input#stdRoadPostAddr2").val(refinePostData.nadr2S);
              $("input#stdRoadPostLngx").val(refinePostData.nnmx);
              $("input#stdRoadPostLaty").val(refinePostData.nnmy);
              
              $("input#stdRoadNnmb").val(refinePostData.nnmb);
              $("#custAreaGb").val(custAreaGb).trigger("change");
              
              selectUnifiedPostParamSetting(refinePostData.zprnr, refinePostData.zprnsr, refinePostData.nadr1S, custAreaGb, refinePostData.nnmb, "1");
          
          }
          
          if (postSearchType == 'daum') {
            closeDaumPostSetPage();
          } else {
            closeUnifiedPostPage();
          }
        } else {
        	// 주소 정제 실패
        	alert('주소를 다시 검색해 주세요.')
        	//$('#addr_warring').html('<dt>주소를 다시 검색해 주세요.</dt>');
        	
          if (postSearchType == 'daum') {
            openPostDaum("0");
          } else {
            $("#addr_keyword").val("");	// 검색어
            $('#addr_count').hide();		// 검색 결과 개수
            $('#addrUnified_tip').show();			// tip 문구
            $("#addr_list").empty().show();		// 검색 결과 리스트
            $('#addr_detail').hide();		// 상세 주소 입력란
            $('#addr_moreBtnArea').hide();
          }
          
       		return false;
        }
    	}, error: function(jqXHR, textStatus, errorThrown){
    		// 주소 정제 실패
    		alert('주소를 다시 검색해 주세요.');
  			//$('#addr_warring').html('<dt>주소를 다시 검색해 주세요.</dt>');
  			
        if (postSearchType == 'daum') {
          openPostDaum("0");
        } else {
          $("#addr_keyword").val("");	// 검색어
          $('#addr_count').hide();		// 검색 결과 개수
          $('#addrUnified_tip').show();			// tip 문구
          $("#addr_list").empty().show();		// 검색 결과 리스트
          $('#addr_detail').hide();		// 상세 주소 입력란
          $('#addr_moreBtnArea').hide();
        }
        
        return false;
    	}
  	});
}

// 페이지 별 데이터 추가 세팅
function selectUnifiedPostParamSetting(postNo, postSeq, baseAddr, postGb, roadNo, roadYn) {
  var param = new Object();

	param['post01'] = postNo;
	param['post02'] = "";
	param['postSeq'] = postSeq;
	param['baseAddr'] = baseAddr;
	param['custAreaGb'] = postGb;
	param['roadAddrNo'] = roadNo;
	param['receiverSeq'] = "";
	param['roadAddrYn'] = roadYn;
	
	param['sltPostNo'] = $("input#sltPostNo").val();
	param['sltPostSeq'] = $("input#sltPostSeq").val();
	param['sltBaseAddr'] = $("input#sltBaseAddr").val();
	param['sltDetailAddr'] = $("input#sltDetailAddr").val();
	param['sltRoadAddrNo'] = $("input#sltRoadAddrNo").val();
	param['sltRoadAddrYn'] = $("input#sltRoadAddrYn").val();
	param['refineResultCode'] = $("input#refineResultCode").val();
	param['selectAddr'] = $("input#selectAddr").val();
	
	param['stdPost'] = $("input#stdPost").val();
	param['stdPostSeq'] = $("input#stdPostSeq").val();
	param['stdPostAddr1'] = $("input#stdPostAddr1").val();
	param['stdPostAddr2'] = $("input#stdPostAddr2").val();
	param['stdPostLngx'] = $("input#stdPostLngx").val();
	param['stdPostLaty'] = $("input#stdPostLaty").val();	

	param['stdRoadPost'] = $("input#stdRoadPost").val();
	param['stdRoadPostSeq'] = $("input#stdRoadPostSeq").val();
	param['stdRoadPostAddr1'] = $("input#stdRoadPostAddr1").val();
	param['stdRoadPostAddr2'] = $("input#stdRoadPostAddr2").val();
	param['stdRoadPostLngx'] = $("input#stdRoadPostLngx").val();
	param['stdRoadPostLaty'] = $("input#stdRoadPostLaty").val();
	param['stdRoadNnmb'] = $("input#stdRoadNnmb").val();
	
	callbackPostPop(JSON.stringify(param));
}

// 다음주소검색
// 테마
var themeObj = {
  bgColor: "#FFFFFF",      //바탕 배경색
  //searchBgColor: "",     //검색창 배경색
  //contentBgColor: "",    //본문 배경색(검색결과,결과없음,첫화면,검색서제스트)
  pageBgColor: "#FFFFFF",  //페이지 배경색
  //textColor: "",         //기본 글자색
  //queryTextColor: "",    //검색창 글자색
  //postcodeTextColor: "", //우편번호 글자색
  //emphTextColor: "",     //강조 글자색
  outlineColor: "#FFFFFF"  //테두리
};

//우편번호 찾기 찾기 화면을 넣을 element
var element_wrap = document.getElementById('postPopDaumBody');

function foldDaumPostcode() {
  // iframe을 넣은 element를 안보이게 한다.
  element_wrap.style.display = 'none';
}

function openPostDaum(editPopYn) {
  if (editPopYn != "0"){
   openPostForEdit = "_" + editPopYn; 
  }

  if($("#postPopDaumSet").css("display") != "none") {
    popup.close('#postPopDaumSet');
    //$('#postPopDaumSet').hide();
  }
  
  popup.open('#postPopDaum');

  // 현재 scroll 위치를 저장해놓는다.
  var currentScroll = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
  new daum.Postcode({
    theme: themeObj,
    oncomplete: function(data) {
      // 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
      var roadAddress = '';
      var jibunAddress = '';
      
      if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
        roadAddress = data.roadAddress;
        jibunAddress = data.autoJibunAddress == '' ? data.jibunAddress : data.autoJibunAddress;
      } else { // 사용자가 지번 주소를 선택했을 경우(J)
        roadAddress = data.autoRoadAddress == '' ? data.roadAddress : data.autoRoadAddress;
        jibunAddress = data.jibunAddress;
      }
      
      var roadNo = data.buildingCode;
      
      selectDaumPost(data.zonecode, roadAddress, jibunAddress, roadNo);
      
      // iframe을 넣은 element를 안보이게 한다.
      // (autoClose:false 기능을 이용한다면, 아래 코드를 제거해야 화면에서 사라지지 않는다.)
      element_wrap.style.display = 'none';
      
      // 우편번호 찾기 화면이 보이기 이전으로 scroll 위치를 되돌린다.
      document.body.scrollTop = currentScroll;
    },
    // 우편번호 찾기 화면 크기가 조정되었을때 실행할 코드를 작성하는 부분. iframe을 넣은 element의 높이값을 조정한다.
    //onresize : function(size) {
    //    element_wrap.style.height = size.height+'px';
    //},
    width : '100%',
    height : '100%'
  }).embed(element_wrap);
  
  // iframe을 넣은 element를 보이게 한다.
  element_wrap.style.display = 'block';
}

//주소 검색 레이어 팝업 닫기
function closeDaumPostPage(){
  popup.close('#postPopDaum');
  
  // 배송지 관리 페이지 : 추가/수정 팝업 노출
  var path = window.location['pathname'];
  if(path.indexOf("/mypage/receiverList") > -1){
     $('#ship_pop').css("display","block");
  }
  
  // 주문서 페이지 : 배송지 작성 팝업 안에서 주소 검색 팝업 open
  if(openPostForEdit == "editPop"){
     $('#editPop').fadeIn('300');
     openPostForEdit = "0";
  }
}

//주소 검색 레이어 팝업 닫기
function closeDaumPostSetPage(){
  popup.close('#postPopDaumSet');
  //$('#postPopDaumSet').hide();
  
  // 배송지 관리 페이지 : 추가/수정 팝업 노출
  var path = window.location['pathname'];
  if(path.indexOf("/mypage/receiverList") > -1){
     $('#ship_pop').css("display","block");
  }
  
  // 주문서 페이지 : 배송지 작성 팝업 안에서 주소 검색 팝업 open
  if(openPostForEdit == "editPop"){
     $('#editPop').fadeIn('300');
     openPostForEdit = "0";
  }
}

/* 주소 통합 검색 결과 리스트에서 주소 선택 */
function selectDaumPost(zipNo, roadAddr, jibunAddr, roadNo) {
  popup.close('#postPopDaum');
  //$('#postPopDaum').hide();
  
  // 선택한 주소 데이터 세팅
  var htmlStr = "";
  htmlStr += "<ul class='add-search-list type-result'>";
  htmlStr += "	 <li>";
  htmlStr += "	 <div class='address-result'>";
  htmlStr += "			<dl>";
  htmlStr += "				<dt class='zip' id='daum_addr_detail_zip'>"+zipNo+"</dt>";
  htmlStr += "				<dd><strong>도로명</strong><span id='daum_addr_detail_road'>"+roadAddr+"</span></dd>";
  htmlStr += "				<dd><strong>지번</strong><span>"+jibunAddr+"</span></dd>";
  htmlStr += "			</dl>";
  htmlStr += "	 	</div>";
  htmlStr += "		<div class='ipt-wrap mt20'>";
  htmlStr += "			<input type='text' class='ipt delete' id='daum_addr_detail_input' placeholder='상세 주소를 입력해 주세요.'>";
  htmlStr += "		</div>";
  htmlStr += "		<input type='hidden' id='daum_addr_detail_roadNo' value='"+roadNo+"'>";
  htmlStr += "	 </li>";
  //htmlStr += "<div class='btn-area half'>";
  //htmlStr += "		<button type='button' class='btn l-l white border-b' onclick='javascript:openPostSearchUnified(\"0\");'>다시검색</button>";
  //htmlStr += "		<button type='button' class='btn l-l black' onclick='javascript:refineUnifiedPost();return false;'>등록</button>";
  //htmlStr += "</div>";
  htmlStr += "</ul>";
  
  $("#daum_addr_detail").empty();
  $("#daum_addr_detail_input").empty();
  $("#daum_addr_detail").append(htmlStr);
  
  // 상세 주소 입력란 노출
  $('#daum_addr_detail').show();		// 상세 주소 입력란
  $('#postPopDaumBodySet').show();
  $("#daum_addr_detailBtn").show();
  
  popup.open('#postPopDaumSet');
}

</script>



<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

<script>
	var postViewType = "";
  // 주소찾기 팝업 호출
  function postPopOpen(orderIdx){   // 주문페이지 외 사용시 값 '0' 전달
    $.ajax({
      url : '/common/setPost',
  	  type : 'GET',
  	  headers: {
  			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
  		},
      success: function(result){
        if(result.resultCode === "0000"){
          postViewType = result.resultData.postViewType;
          if(result.resultData.postViewType === "2"){
            openPostSearchUnified(orderIdx);     // 통합 검색 팝업
          }else if(result.resultData.postViewType === "3"){
            openPostDaum(orderIdx);     // 다음주소검색
          }else{
         		// 시,도 코드
         		var makeCityList = "";
         		makeCityList += '<option value="">시/도 선택</option>';
         		
         		$.each(result.resultData.cityCodeList, function(idx, data){
         		 	makeCityList += '<option value="'+data.cityCode+'">'+data.cityName+'</option>';
         		})
         		
         		$("#cityCode").html(makeCityList);
            openPostSearch(orderIdx);     // 기존 지번, 도로명 주소 검색 팝업
          }
        }else{
          alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
        }
      }, error: function(){
        alert("시스템 오류가 발생했습니다."); // 시스템 오류가 발생했습니다.
      }
    });
  }
</script>

    <div class="popup dialog pb16" id="fastorder-receiver-popup">
      <div class="popup-inner">  
        <div class="popup-header">
          <h2>빠른 결제 안내</h2>
        </div>
        <div class="popup-content">
          <ul class="pop-ul-list">
            <li>빠른 결제는 원클릭으로 쉽고 빠르게 주문/결제할 수 있는 서비스입니다. 해당 서비스를 이용하기 위하여 배송지 입력을 필수로 합니다.</li>
            <li>[배송지 입력하기] ‘배송지 관리’로 이동</li>
            <li>[일반 결제하기] ‘주문/결제하기’로 이동</li>
          </ul>
        </div>
        <button type="button" class="btn-popup-close" onclick="popup.close('#fastorder-receiver-popup');">팝업 닫기</button>
      </div>
      <div class="btn-area half mt24"> 
        <button type="button" class="btn m-l white border-b" data-mainbtn="Y" data-btnscn="buyNowBtn">일반 결제하기</button>
        <button type="button" class="btn m-l black" onclick="moveReceiver()">배송지 입력하기</button>
      </div>
    </div>
    <script>
    // 배송지 관리로 이동하기 위한 함수
    function moveReceiver() {
      openReceivePop('1');
      popup.close('#fastorder-receiver-popup');
    }
</script>














 





 
   
 
 
 


    



  
              
  
  







<div class="dim" style="z-index:1000006"></div><div class="popup dialog pb16 open" id="fastorder-ci-popup" tabindex="0" style="z-index: 1000007; outline: none; display: flex;"><div class="focus-idx first" tabindex="0"></div>
  <div class="popup-inner">
    <div class="popup-header">
      <h2>빠른 결제 최초 인증</h2>
    </div>
    <div class="popup-content">
      <ul class="pop-ul-list">
        <li>빠른 결제는 원클릭으로 쉽고 빠르게 주문/결제할 수 있는 서비스입니다.</li>
        <li>최초 1회 앱카드 통한 본인 인증을 하신 후, 쉽고 간편한 빠른 결제 서비스를 이용해 보세요.</li>
      </ul>
    </div>
    <button type="button" class="btn-popup-close" onclick="closePopup()">팝업 닫기</button>
  </div>
  <div class="btn-area half mt24"> 
    <button type="button" class="btn m-l black w100 mr0 ml0" onclick="startAppCardForAuth()">앱카드 본인 인증</button>
  </div>
<div class="focus-idx last" tabindex="0"></div></div>
<div class="dim-fake" style="display:none;"></div>

<div class="popup alert pb16" id="fastorder-ci-success-pop">
  <div class="popup-inner"> 
    <p class="alert-txt pl16">앱카드 인증이 완료되었습니다.<br>쇼핑엔티의 빠른 결제 서비스를 이용하실 수 있습니다.</p>
    <div class="btn-area">
      <button type="button" class="btn m-l black ml0 mr0 w100">확인</button>
    </div>
  </div>
</div>

<div class="popup alert pb16" id="fastorder-ci-fail-pop">
  <div class="popup-inner"> 
    <p class="alert-txt pl16">쇼핑엔티와 카드사 간의 회원정보 매칭에 실패하였습니다.<br>쇼핑엔티 회원 정보의 수정이 필요한 경우, 고객 센터에 문의해 주시기 바랍니다.</p>
    <div class="btn-area">
      <button type="button" class="btn m-l black ml0 mr0 w100" onclick="moveDirectOrder()">확인</button>
    </div>
  </div>
</div>

<script>
//팝업을 닫기 위한 함수
function closePopup() {
  const caller = window.popupCaller || "unknown";
	popup.close('#fastorder-ci-popup');
	if (caller === "ordersheet") {
	  $('.dim-fake').css("display","none");
	  if ($(".pay-radio.normal").is(":visible")) {
		    // ordersheet의 경우 일반결제 라디오 버튼 초기화
		  $('#pay-normal').prop('checked', true).trigger('change');		  
	  }
	}
}

// 앱카드 본인 인증 시작 함수
async function startAppCardForAuth() {
  try {
      setTimeout(() => {
        closePopup();
      }, 300);
    
      const caller = window.popupCaller || "unknown";
    	// CI 인증 상태 확인 및 모듈 호출을 한 번에 처리
      appCardPayApi.callAppCardForAuth(function(res) {
          if (res.resultCode === '0000') {
           		// 인증 성공
              const successButton = document.querySelector('#fastorder-ci-success-pop .btn');
              if (caller === "ordersheet") {
                  // ordersheet의 경우 새로고침 동작 할당
                  successButton.setAttribute("onclick", "location.reload()");
              } else {
                  // 기본 동작: 팝업 닫기
                  successButton.setAttribute("onclick", "popup.close('#fastorder-ci-success-pop')");
              }          
              popup.open('#fastorder-ci-success-pop');
          } else if (res.resultCode === 'T9998') {
           		// 인증 실패 (정보 불일치)
              let mismatchMessage = "쇼핑엔티와 카드사 간의 회원정보 매칭에 실패하였습니다.<br>";
              mismatchMessage += "다음 항목이 일치하지 않습니다.<br>";
  
              const { checkName, checkHp, checkBirthDate } = res.resultData;
  
              // 값이 false인 항목만 메시지에 추가
              if (!checkName) mismatchMessage += "- 이름<br>";
              if (!checkHp) mismatchMessage += "- 휴대폰 번호<br>";
              if (!checkBirthDate) mismatchMessage += "- 생년월일<br>";
  
              mismatchMessage += "<br>쇼핑엔티 회원 정보의 수정이 필요한 경우, 고객 센터에 문의해 주시기 바랍니다.";
  
              // 실패 팝업 내용 업데이트 및 표시
              document.querySelector('#fastorder-ci-fail-pop .alert-txt').innerHTML = mismatchMessage;
              popup.open('#fastorder-ci-fail-pop');
          } else if (res.resultCode === 'T9996' || res.resultCode === 'T9997') {
              // 기타 실패 케이스
              const failMessage = "실패 오류 코드: " + res.resultCode + "<br>" + res.resultMsg;            
              // 실패 팝업 내용 업데이트 및 표시
              document.querySelector('#fastorder-ci-fail-pop .alert-txt').innerHTML = failMessage;
              popup.open('#fastorder-ci-fail-pop');
          } else {
              // 알 수 없는 오류
            	const unknownErrorMessage = "인증 중 알 수 없는 오류가 발생했습니다.<br>잠시 후 다시 시도해 주세요.";
            	// 실패 팝업 내용 업데이트 및 표시
            	document.querySelector('#fastorder-ci-fail-pop .alert-txt').innerHTML = unknownErrorMessage;
           	 	popup.open('#fastorder-ci-fail-pop');
        	}
      },
      function (resultCode) {
          // 앱카드 모듈 종료 또는 사용자가 인증 모듈 닫기한 상태
          if (resultCode === "0002" || resultCode === "0003") {
              console.log("앱카드 모듈 종료되었거나 사용자가 인증 모듈을 닫은 경우 결과값: " + resultCode);
              if (caller === "ordersheet") {
                  // 일반결제 라디오버튼으로 초기화
                  $('#pay-normal').prop('checked', true).trigger('change');
              }
          } else {
              console.warn("알 수 없는 resultCode:"+resultCode);
          }
      });
    
  } catch (error) {
      console.error("앱카드 본인 인증 처리 중 오류:", error);
      alert("앱카드 인증 처리 중 오류가 발생했습니다. 다시 시도해 주세요.");
  }
}

// 인증 실패시 함수
function moveDirectOrder() {
  const caller = window.popupCaller || "unknown";
  popup.close('#fastorder-ci-fail-pop');
  
  if (caller === "goodsDetail") {
    // 상품 상세 페이지에서 호출된 경우
    const chocGoodsList = window.appData.chocGoodsList;
    directOrder(chocGoodsList, "Y");
 		// 로딩 화면 표시
    loadingShow();
  } else if (caller === "ordersheet") {
      // 주문서 페이지에서 호출된 경우
      location.reload(); // 주문서 페이지에서는 새로고침
  } else {
      console.error("알 수 없는 호출 위치. 기본 처리 실행");
  }
}
</script>


<div id="orderFastSheetPopArea"></div>


<div id="buzzniHighlightVideo"></div></div>
        </div>
    </div>
        
    
    
    



                
              
          
        </div>
      

      
    


<script type="text/javascript">

  var mainPageNo = 1;
  var scrollFlag = false;
  var totalCnt = 0;
  
  if("true") {
    totalCnt = "16";
  }
  
  $(document).scroll(function() {
    var currentScroll = window.innerHeight + window.scrollY;
    var targetScroll = document.body.offsetHeight - $("#header").height() - ($("#footer").height() + 100);  //타겟영역 높이값
    if (currentScroll >= targetScroll) {
       scrollTpltAjax(mainPageNo);
    }
  });
  
  function scrollTpltAjax(pageNo) {
    if(scrollFlag == false && mainPageNo < Math.ceil(totalCnt / "3")) {      
      scrollFlag = true;
      $.ajax({
        url : "/tpltScrollAjax",
        type : "post",
        headers: {
          'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
        },
        data : {
          pageNo : pageNo,
          limitCnt : "3",
          viewSn : "V00000000148",
          VIEW_ID : "carefoodMain",
          entyTyCd : "03"  // 티나는밥상 추가
        },
        dataType : "html",
        success : function(html) {
          scrollFlag = false;
          if("carefoodMain" == "showmartMain" || "carefoodMain" == "brndTpltMain" || "carefoodMain" == "fshlTpltMain"){
            $("#scrollPageDiv").append(html);  
            
      	  	if(isApp()){
          		if(isAndroid()){  
                if($('#scrollPageDiv').find('.img-wrap').is(':visible')){
                  $('#scrollPageDiv').find('.img-wrap').on('click', function(){
              	  	setSSValue("carefoodMain-contents", $('#scrollPageDiv').html());
              	  	setSSValue("carefoodMain-isScroll", $('#header').hasClass('is-scroll'));
              	  	setSSValue("carefoodMain-mainPageNo", mainPageNo);
              	  });
                }
                $('#scrollPageDiv').find('.link-wrap').on('click', function(){
            	  	setSSValue("carefoodMain-contents", $('#scrollPageDiv').html());
            	  	setSSValue("carefoodMain-isScroll", $('#header').hasClass('is-scroll'));
            	  	setSSValue("carefoodMain-mainPageNo", mainPageNo);
            	  });   
          		}
      	  	}
            
          } else if ("carefoodMain" == "shoppingntMain") {
            $("#mainPageScrollDiv").append(html);
            if (isApp() && isAndroid()) {
              var elem = document.getElementById('mainPageScrollDiv');
              elem.addEventListener("click", function(e){
                setSSValue("carefoodMain-contents", $('#mainPageScrollDiv').html());
                setSSValue("carefoodMain-isScroll", $('#header').hasClass('is-scroll'));
                setSSValue("carefoodMain-mainPageNo", mainPageNo);
                
                var mainQuickMenuScroll = $('#mainQuickMenu').scrollLeft();
                var mainSuggestAreaNewScroll = $('#mainSuggestAreaNew').scrollLeft();
                var showTimeDealTimeScroll = $('#ShowTimeDealTime').parents('div').scrollLeft();
                var mainRelationAreaNewScroll = $('#mainRelationAreaNew').scrollLeft();
                var mainBestAreaNewGoodsViewBtnNum = $('#mainBestAreaNewGoodsViewBtn').find('span:eq(0)').text();
                
                setSSValue("carefoodMain-mainQuickMenuScroll", mainQuickMenuScroll == undefined  ? '' : mainQuickMenuScroll);
                setSSValue("carefoodMain-mainSuggestAreaNewScroll", mainSuggestAreaNewScroll == undefined  ? '' : mainSuggestAreaNewScroll);
                setSSValue("carefoodMain-showTimeDealTimeScroll", showTimeDealTimeScroll == undefined  ? '' : showTimeDealTimeScroll);
                setSSValue("carefoodMain-mainRelationAreaNewScroll", mainRelationAreaNewScroll == undefined  ? '' : mainRelationAreaNewScroll);
                setSSValue("carefoodMain-mainBestAreaNewGoodsViewBtnNum", mainBestAreaNewGoodsViewBtnNum == undefined  ? '' : mainBestAreaNewGoodsViewBtnNum);
                
                var mdGoodsModulesmallScroll = $('#mdGoodsModulesmall').scrollLeft();
                var mdGoodsModuleSmallCircleScroll = $('#mdGoodsModuleSmallCircle').scrollLeft();
                var mdGoodsModuleScroll = $('#mdGoodsModule').scrollLeft();
                var mainGoodsDspGrpScroll = $('#mainGoodsDspGrp').scrollLeft();
                var mainGoodsDspBnrScroll = $('#mainGoodsDspBnr').scrollLeft();
                setSSValue("carefoodMain-mdGoodsModulesmallScroll", mdGoodsModulesmallScroll == undefined  ? '' : mdGoodsModulesmallScroll);
                setSSValue("carefoodMain-mdGoodsModuleSmallCircleScroll", mdGoodsModuleSmallCircleScroll == undefined  ? '' : mdGoodsModuleSmallCircleScroll);
                setSSValue("carefoodMain-mdGoodsModuleScroll", mdGoodsModuleScroll == undefined  ? '' : mdGoodsModuleScroll);
                setSSValue("carefoodMain-mainGoodsDspGrpScroll", mainGoodsDspGrpScroll == undefined  ? '' : mainGoodsDspGrpScroll);
                setSSValue("carefoodMain-mainGoodsDspBnrScroll", mainGoodsDspBnrScroll == undefined  ? '' : mainGoodsDspBnrScroll);
                
                if (typeof(reTopBanner) != 'undefined') {
                  var mainTopBannerIdx = reTopBanner.activeIndex;
                  setSSValue("carefoodMain-mainTopBannerIdx", mainTopBannerIdx == undefined  ? '' : mainTopBannerIdx);
                }
                
                if (typeof(mdGoodsModuleSmallListTimerRecomProduct) != 'undefined') {
                  var mdGoodsModuleSmallListTimerIdx = mdGoodsModuleSmallListTimerRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleSmallListTimerIdx", mdGoodsModuleSmallListTimerIdx == undefined  ? '' : mdGoodsModuleSmallListTimerIdx);
                }
                
                if (typeof(mdGoodsModuleLargeLatticeTimerRecomProduct) != 'undefined') {
                  var mdGoodsModuleLargeLatticeTimerIdx = mdGoodsModuleLargeLatticeTimerRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleLargeLatticeTimerIdx", mdGoodsModuleLargeLatticeTimerIdx == undefined  ? '' : mdGoodsModuleLargeLatticeTimerIdx);
                }
                
                if (typeof(mdGoodsModuleListTimerRecomProduct) != 'undefined') {
                  var mdGoodsModuleListTimerIdx = mdGoodsModuleListTimerRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleListTimerIdx", mdGoodsModuleListTimerIdx == undefined  ? '' : mdGoodsModuleListTimerIdx);
                }
                
                if (typeof(mdGoodsModuleLargeLatticeRecomProduct) != 'undefined') {
                  var mdGoodsModuleLargeLatticeIdx = mdGoodsModuleLargeLatticeRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleLargeLatticeIdx", mdGoodsModuleLargeLatticeIdx == undefined  ? '' : mdGoodsModuleLargeLatticeIdx);
                }
                
                if (typeof(mdGoodsModuleSmallListRecomProduct) != 'undefined') {
                  var mdGoodsModuleSmallListIdx = mdGoodsModuleSmallListRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleSmallListIdx", mdGoodsModuleSmallListIdx == undefined  ? '' : mdGoodsModuleSmallListIdx);
                }
                
                if (typeof(mdGoodsModuleLatticeRecomProduct) != 'undefined') {
                  var mdGoodsModuleLatticeIdx = mdGoodsModuleLatticeRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleLatticeIdx", mdGoodsModuleLatticeIdx == undefined  ? '' : mdGoodsModuleLatticeIdx);
                }
                
                if (typeof(mdGoodsModuleSmallLatticeTimerRecomProduct) != 'undefined') {
                  var mdGoodsModuleSmallLatticeTimerIdx = mdGoodsModuleSmallLatticeTimerRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleSmallLatticeTimerIdx", mdGoodsModuleSmallLatticeTimerIdx == undefined  ? '' : mdGoodsModuleSmallLatticeTimerIdx);
                }
                
                if (typeof(mdGoodsModuleSmallLatticeRecomProduct) != 'undefined') {
                  var mdGoodsModuleSmallLatticeIdx = mdGoodsModuleSmallLatticeRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleSmallLatticeIdx", mdGoodsModuleSmallLatticeIdx == undefined  ? '' : mdGoodsModuleSmallLatticeIdx);
                }
                
                if (typeof(mdGoodsModuleLatticeTimerRecomProduct) != 'undefined') {
                  var mdGoodsModuleLatticeTimerIdx = mdGoodsModuleLatticeTimerRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleLatticeTimerIdx", mdGoodsModuleLatticeTimerIdx == undefined  ? '' : mdGoodsModuleLatticeTimerIdx);
                }
                
                if (typeof(mdGoodsModuleListRecomProduct) != 'undefined') {
                  var mdGoodsModuleListIdx = mdGoodsModuleListRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleListIdx", mdGoodsModuleListIdx == undefined  ? '' : mdGoodsModuleListIdx);
                }
                
                if (typeof(mdGoodsModuleLargeListTimerRecomProduct) != 'undefined') {
                  var mdGoodsModuleLargeListTimerIdx = mdGoodsModuleLargeListTimerRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleLargeListTimerIdx", mdGoodsModuleLargeListTimerIdx == undefined  ? '' : mdGoodsModuleLargeListTimerIdx);
                }
                
                if (typeof(mdGoodsModuleLargeListRecomProduct) != 'undefined') {
                  var mdGoodsModuleLargeListIdx = mdGoodsModuleLargeListRecomProduct.activeIndex;
                  setSSValue("carefoodMain-mdGoodsModuleLargeListIdx", mdGoodsModuleLargeListIdx == undefined  ? '' : mdGoodsModuleLargeListIdx);
                }
                
                if (typeof(promotionBanner) != 'undefined') {
                  var promotionBannerIdx = promotionBanner.activeIndex;
                  setSSValue("carefoodMain-promotionBannerIdx", promotionBannerIdx == undefined  ? '' : promotionBannerIdx);
                }
                
              });
              
            }
          } else if ("carefoodMain" == "carefoodMain") {  // 티나는밥상 App Scroll 처리
              $("#carefoodMainPageScrollDiv").append(html);
              if (isApp() && isAndroid()) {
                  var elem = document.getElementById('carefoodMainPageScrollDiv');
                  elem.addEventListener("click", function (e) {
                      setSSValue("carefoodMain-contents", $('#carefoodMainPageScrollDiv').html());
                      setSSValue("carefoodMain-isScroll", $('#header').hasClass('is-scroll'));
                      setSSValue("carefoodMain-mainPageNo", mainPageNo);

                      var tibapBroadcastBenefitArea = $('#tibapBroadcastBenefitArea').scrollLeft();    // 전문관-방송혜택         TIBAPBROADCASTBENEFIT.jsp
                      var tibapMainGoodsDspGrp      = $('#tibapMainGoodsDspGrp').scrollLeft();         // 전문관-상품전시그룹형    TIBAPGOODSDSP_GRP.jsp
                      var tibapAISuggestArea        = $('#tibapAISuggestArea').scrollLeft();           // 전문관-AI추천상품       TIBAPAIRECOMMEND.jsp
                      if (typeof (tibapGoodsTopBanner) != 'undefined') {                               // 전문관-상단배너         TIBAPGOODSTOPBANNER.jsp
                          var tibapGoodsTopBannerIdx = tibapGoodsTopBanner.activeIndex;
                          setSSValue("carefoodMain-tibapGoodsTopBannerIdx", tibapGoodsTopBannerIdx == undefined ? '' : tibapGoodsTopBannerIdx);
                      }

                      setSSValue("carefoodMain-tibapBroadcastBenefitArea", tibapBroadcastBenefitArea == undefined  ? '' : tibapBroadcastBenefitArea);
                      setSSValue("carefoodMain-tibapMainGoodsDspGrp", tibapMainGoodsDspGrp == undefined  ? '' : tibapMainGoodsDspGrp);
                      setSSValue("carefoodMain-tibapAISuggestArea", tibapAISuggestArea == undefined  ? '' : tibapAISuggestArea);
                  });
            }
          } else{
            $(".main-contents").append(html);  
          }
          
          mainPageNo += 1;
        }, complete : function() {
          
          if("carefoodMain" == "showmartMain"){
            if(showStockChkGoods != ""){
              scrollerStockChkGoods(showStockChkGoods);
              showStockChkGoods = "";
            }
            
            $("#categoryList").find("input:radio").prop("checked", false);  
          }
          
        }
      });
    } 
  }

</script>



<!-- //back button-->




    <style>
        /* 티나는밥상 전용 헤더 */
        #header {background:#000; border-color:transparent; }
        #header .total-search-area {background:#C1C0C0;}
        #header .cartb, #header .cash {background-color:transparent;}
        #header .cash {background-image:url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><rect fill="none" width="24" height="24"  /><circle stroke="white" cx="12" cy="12" r="10" stroke-width="1.5"/><path fill="white" d="M16.8203 8.16645C16.7047 8.05945 16.5507 8 16.371 8C16.1399 8 15.8318 8.09511 15.7035 8.58256L14.3427 14.2655L12.6483 8.51123C12.5071 8.08322 12.2246 8 12.0193 8C11.8139 8 11.5443 8.08322 11.4031 8.51123L9.7086 14.2299L8.32221 8.59445C8.20668 8.107 7.89859 8 7.65469 8C7.47497 8 7.32092 8.05945 7.19255 8.16645C7.06418 8.28534 7 8.41612 7 8.57067C7 8.61823 7 8.6539 7 8.70145C7 8.74901 7.01284 8.79657 7.02567 8.83223L8.91271 16.4055C9.04108 16.893 9.34917 17 9.58023 17C9.8113 17 10.1065 16.9049 10.2478 16.4412L12.0064 10.5324L13.7779 16.4531C13.9063 16.9049 14.2015 17 14.4069 17C14.6508 17 14.9461 16.9049 15.0616 16.4412L16.9743 8.83223C16.9743 8.83223 17 8.74901 17 8.70145C17 8.6539 17 8.61823 17 8.57067C17 8.40423 16.9358 8.26156 16.8074 8.15456L16.8203 8.16645Z"/><rect fill="white" x="6" y="12" width="3" height="1.4" rx="0.7" /><rect fill="white" x="15" y="12" width="3" height="1.4" rx="0.7" /></svg>')}
        #header .cartb {background-image:url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><rect width="24" height="24" fill="none"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.6 17.1001C10.4839 17.1001 11.2 17.8162 11.2 18.7001C11.2 19.5832 10.4839 20.3001 9.6 20.3001C8.7169 20.3001 8 19.5832 8 18.7001C8 17.8162 8.7169 17.1001 9.6 17.1001Z" stroke="white" stroke-width="1.4"/><path fill-rule="evenodd" clip-rule="evenodd" d="M17.6 17.1001C18.4831 17.1001 19.2 17.8162 19.2 18.7001C19.2 19.5832 18.4831 20.3001 17.6 20.3001C16.7169 20.3001 16 19.5832 16 18.7001C16 17.8162 16.7169 17.1001 17.6 17.1001Z" stroke="white" stroke-width="1.4"/><path d="M5.80453 6.26426H20.4033C21.0415 6.26426 21.515 6.83542 21.3753 7.43572L19.9615 13.5007C19.7576 14.3771 18.9502 15 18.0183 15H7.74776L5.25094 4H2.3999" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>')}
        #gnb-wrap {visibility:hidden;}
        #gnb-wrap > ul .swiper-slide.is-active > a > span::before {background:#fff;}
        #gnb-wrap > ul > li > a > span {color:#fff; }
        #gnb-wrap > ul > li > a > span > em {color:#FBA2D1;}
        #gnb-wrap > ul .swiper-slide.is-active > a > span {color:#fff;}
        #gnb-wrap > ul > li > a > span.is-active::after {background:#FBA2D1;}
    </style>
    <script>
        $(document).ready(function() {
            //헤더 gnb is-active 및 이미지 변경
            $('#gnb-wrap img[alt="티나는 밥상"]').each(function() {
             $(this).attr('src', '/moassets/images/common/gnb_tb_on.png').closest('.swiper-slide').addClass('is-active');
            });

            //헤더 gnb 티나는 밥상 제외 이미지일 경우 텍스트로 치환
            $('#gnb-wrap li').each(function(){
                const $img = $(this).find('img');
                if($img.length > 0){
                  const altText = $img.attr('alt');
                  if(altText !== '티나는 밥상'){
                    $img.remove();
                    $(this).find('span').append(altText);
                  }
                }
              });
            $('#gnb-wrap').css('visibility','visible');

            setTimeout(function(){
                const $reActive = $('#gnb-wrap .swiper-slide.is-active');
                if ($reActive.length) muCenter($reActive);
            }, 50);

            if (isApp() && isAndroid()) {
                removeSSValue("carefoodMain-contents");
                removeSSValue("carefoodMain-isScroll");
                removeSSValue("carefoodMain-mainPageNo");

                removeSSValue("carefoodMain-tibapBroadcastBenefitArea");    // 전문관-방송혜택         TIBAPBROADCASTBENEFIT.jsp
                removeSSValue("carefoodMain-tibapMainGoodsDspGrp");         // 전문관-상품전시그룹형    TIBAPGOODSDSP_GRP.jsp
                removeSSValue("carefoodMain-tibapAISuggestArea");           // 전문관-AI추천상품       TIBAPAIRECOMMEND.jsp
                removeSSValue("carefoodMain-tibapGoodsTopBannerIdx");       // 전문관-상단배너         TIBAPGOODSTOPBANNER.jsp
                var prefix = "carefoodMain-tibapBrndArea_";                 // 전문관-브랜드나열       TIBAPBRNDLIST.jsp
                for (var i = sessionStorage.length - 1; i >= 0; i--) {
                    var key = sessionStorage.key(i);
                    if (key && key.indexOf(prefix) === 0) {
                        sessionStorage.removeItem(key);
                    }
                }

                var elem = document.getElementById('carefoodMainPageScrollDiv');
                elem.addEventListener("click", function (e) {
                    setSSValue("carefoodMain-contents", $('#carefoodMainPageScrollDiv').html());
                    setSSValue("carefoodMain-isScroll", $('#header').hasClass('is-scroll'));
                    setSSValue("carefoodMain-mainPageNo", mainPageNo);

                    var tibapBroadcastBenefitArea = $('#tibapBroadcastBenefitArea').scrollLeft();    // 전문관-방송혜택         TIBAPBROADCASTBENEFIT.jsp
                    var tibapMainGoodsDspGrp = $('#tibapMainGoodsDspGrp').scrollLeft();              // 전문관-상품전시그룹형    TIBAPGOODSDSP_GRP.jsp
                    var tibapAISuggestArea = $('#tibapAISuggestArea').scrollLeft();                  // 전문관-AI추천상품       TIBAPAIRECOMMEND.jsp
                    if (typeof (tibapGoodsTopBanner) != 'undefined') {                               // 전문관-상단배너         TIBAPGOODSTOPBANNER.jsp
                        var tibapGoodsTopBannerIdx = tibapGoodsTopBanner.activeIndex;
                        setSSValue("carefoodMain-tibapGoodsTopBannerIdx", tibapGoodsTopBannerIdx == undefined ? '' : tibapGoodsTopBannerIdx);
                    }
                    $('[id^="tibapBrndArea_"]').each(function () {                                   // 전문관-브랜드나열       TIBAPBRNDLIST.jsp
                        var tibapBrndAreaId = this.id;
                        var tibapBrndArea = $(this).scrollLeft() || 0;
                        setSSValue("carefoodMain-"+tibapBrndAreaId, tibapBrndArea == undefined ? '' : tibapBrndArea);
                    });
                    setSSValue("carefoodMain-tibapBroadcastBenefitArea", tibapBroadcastBenefitArea == undefined ? '' : tibapBroadcastBenefitArea);
                    setSSValue("carefoodMain-tibapMainGoodsDspGrp", tibapMainGoodsDspGrp == undefined ? '' : tibapMainGoodsDspGrp);
                    setSSValue("carefoodMain-tibapAISuggestArea", tibapAISuggestArea == undefined ? '' : tibapAISuggestArea);
                });

                if (window.performance && performance.getEntriesByType("navigation")[0].type === 'back_forward') {
                    var html = getSSValue("carefoodMain-contents");
                    var headerScroll = getSSValue("carefoodMain-isScroll");
                    var tpltMainPageNo = getSSValue("carefoodMain-mainPageNo");

                    if (html) $('#carefoodMainPageScrollDiv').html(html);
                    if (tpltMainPageNo) mainPageNo *= tpltMainPageNo;
                    if (headerScroll == 'true') $('#header').addClass('is-scroll');

                    var tibapBroadcastBenefitArea = getSSValue("carefoodMain-tibapBroadcastBenefitArea");
                    if (tibapBroadcastBenefitArea) {
                        $('#tibapBroadcastBenefitArea').scrollLeft(tibapBroadcastBenefitArea);
                    }
                    var tibapMainGoodsDspGrp = getSSValue("carefoodMain-tibapMainGoodsDspGrp");
                    if (tibapMainGoodsDspGrp) {
                        $('#tibapMainGoodsDspGrp').scrollLeft(tibapMainGoodsDspGrp);
                    }
                    var tibapAISuggestArea = getSSValue("carefoodMain-tibapAISuggestArea");
                    if (tibapAISuggestArea) {
                        $('#tibapAISuggestArea').scrollLeft(tibapAISuggestArea);
                    }
                }
            }
        });
    </script>


          </section>
          
          
            
            
              
                











 





 
   
 
 
 


    



  
              
  
  







		
		<div class="popup full" id="channel-guide-popup">
			<div class="popup-inner">
				<div class="popup-header">
					<h2>채널안내</h2>
				</div>
				<div class="popup-content">
					<div class="tab type-underline half">
						<button type="button" class="is-active">방송사</button>
						<button type="button" class="">8VSB 디지털방송</button>
					</div>
					<div class="tab-cont-wrap">
          <!-- 24-08-28 전체적인 채널 수정 (s) -->
            <div class="tab-cont-item" style="display:block;">
              <ul class="channel-guide">
                <li><img src="../../moassets/images/common/channel01.png" alt="genie tv"><span>수도권</span> 30번<br><span>수도권 외</span> 26번</li>
                <li><img src="../../moassets/images/common/channel02.png" alt="sk broadband"><span>수도권</span> 29번<br><span>수도권 외</span> 25번</li>
                <li><img src="../../moassets/images/common/channel03.png" alt="lg u+">37번</li>
                <li><img src="../../moassets/images/common/channel04.png" alt="kt skylife">14번</li>
                <li><img src="../../moassets/images/common/channel05.png" alt="lg 헬로비전">1번</li>
                <li><img src="../../moassets/images/common/channel06.png" alt="sk broadband catv">22번</li>
                <li><img src="../../moassets/images/common/channel07.png" alt="dlive">4번</li>
                <li><img src="../../moassets/images/common/channel08.png" alt="hcn">24번</li>
                <li><img src="../../moassets/images/common/channel09.png" alt="jcn">32번</li>
                <li><img src="../../moassets/images/common/channel10.png" alt="abn">25번</li>
                <li><img src="../../moassets/images/common/channel11.png" alt="seo">4번</li>
                <li><img src="../../moassets/images/common/channel12.png" alt="ccs">22번</li>
                <li><img src="../../moassets/images/common/channel13.png" alt="kctv">44번</li>
                <li><img src="../../moassets/images/common/channel14.png" alt="cs">4번</li>
                <li><img src="../../moassets/images/common/channel15.png" alt="kctv02">29번</li>
                <li><img src="../../moassets/images/common/channel16.png" alt="nib">33번</li>
              </ul>
            </div>
            <div class="channel-guide tab-cont-item">
              <ul class="channel-guide">
                <li><img src="../../moassets/images/common/channel06.png" alt="sk broadband catv">24-2번</li>
                <li><img src="../../moassets/images/common/channel05.png" alt="lg 헬로비전">18-2번</li>
                <li><img src="../../moassets/images/common/channel07.png" alt="dlive">4-2번</li>
                <li><img src="../../moassets/images/common/channel08.png" alt="hcn">24-2번</li>
                <li><img src="../../moassets/images/common/channel09.png" alt="jcn">26-2번</li>
                <li><img src="../../moassets/images/common/channel13.png" alt="kctv">27-2번</li>
                <li><img src="../../moassets/images/common/channel11.png" alt="seo">4-1번</li>
                <li><img src="../../moassets/images/common/channel17.png" alt="cmb">19-2번</li>
                <li><img src="../../moassets/images/common/channel10.png" alt="abn">31-2번</li>
                <li><img src="../../moassets/images/common/channel12.png" alt="ccs">22-2번</li>
                <li><img src="../../moassets/images/common/channel16.png" alt="nib">22-2번</li>
                <li><img src="../../moassets/images/common/channel14.png" alt="cs">28-2번</li>
                <li><img src="../../moassets/images/common/channel18.png" alt="금강방송">22-1번</li>
              </ul>
            </div>
            <!-- 24-08-28 전체적인 채널 수정 (e) -->
					  <!-- 22-11-08 전체적인 채널 수정 (s) -->
						
								
																	
								<!-- <li>
									<span class="img-wrap">
										<img src="../../moassets/images/common/mo_channel_nor_olleh.png" alt="alleh">
									</span>
									<span class="tit">30번</span>
								</li>
								<li>
									<span class="img-wrap">
										<img src="../../moassets/images/common/mo_channel_nor_btv.png" alt="B tv">
									</span>
									<span class="tit">25번</span>
								</li>
								
								<li>
									<span class="img-wrap">
										<img src="../../moassets/images/common/mo_channel_nor_sky.png" alt="skylife">
									</span>
									<span class="tit">36번</span>
								</li>
								<li>
									<span class="img-wrap">
										<img src="../../moassets/images/common/mo_channel_nor_cjh.png" alt="cj">
									</span>
									<span class="tit">38번</span>
								</li>
								
								<li>
									<span class="img-wrap">
										<img src="../../moassets/images/common/mo_channel_nor_hyun.png" alt="hyundai">
									</span>
									<span class="tit">35번</span>
								</li>
								<li>
									<span class="img-wrap">
										<img src="../../moassets/images/common/mo_channel_nor_kctv02.png" alt="kctv02">
									</span>
									<span class="tit">29번</span>
								</li> -->
							 
								
                                
                                 
								
								<!-- <li>
									<span class="img-wrap">
										<img src="../../moassets/images/common/mo_channel_8_vsb_cjh.png" alt="cj">
									</span>
									<span class="tit">22-2번</span>
								</li>
								<li>
									<span class="img-wrap">
										<img src="../../moassets/images/common/mo_channel_8_vsb_hyun.png" alt="hyundai">
									</span>
									<span class="tit">24-2번</span>
								</li> -->
							
						 <!-- 22-11-08 전체적인 채널 수정 (e) -->
					</div>
				</div>
				<button type="button" class="btn-popup-close" onclick='popup.close("#channel-guide-popup")'>팝업 닫기</button>
			</div>
		</div>
		
              
              











 





 
   
 
 
 


    



  
              
  
  






<input type="hidden" id="shoppingntAmt" value="" /> 
<input type="hidden" id="goods1" value="" /> 
<input type="hidden" id="goodsName" value="" /> 

		
		<div class="popup full" id="onair-notice-popup">
			<div class="popup-inner">
				<div class="popup-header">
					<h2>방송 알림 신청</h2>
				</div>
				<div class="popup-content">
					<div class="type-card mt16">
						<div class="goods-detail">
							<a href="#" class="thum-area">
								<img src="/moassets/images/_temp/thum01.png" alt="[ODV] 20FW 오디브 시그니처 폭스퍼 롱">
							</a>
							<div class="info-txt-area">
								<a href="#" class="txt type-line2"><strong>TV쇼핑</strong> [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴</a>
							</div>
						</div>
					</div>

					<div class="form-area">
						<strong class="label">기간</strong>
						<div class="form-list mb24">
							<div class="form-wrap">
								<input type="radio" name="chk_01" id="chk_01_01" value="1" checked="checked">
								<label for="chk_01_01"><span></span>1개월</label>
							</div>
							<div class="form-wrap">
								<input type="radio" name="chk_01" id="chk_01_02" value="2">
								<label for="chk_01_02"><span></span>2개월</label>
							</div>
							<div class="form-wrap">
								<input type="radio" name="chk_01" id="chk_01_03" value="3">
								<label for="chk_01_03"><span></span>3개월</label>
							</div>
						</div>

						<strong class="label">횟수</strong>
						<div class="form-list mb24">
							<div class="form-wrap">
								<input type="radio" name="chk_02" id="chk_02_01" value="0" checked="checked">
								<label for="chk_02_01"><span></span>1회</label>
							</div>
							<div class="form-wrap">
								<input type="radio" name="chk_02" id="chk_02_02" value="1">
								<label for="chk_02_02"><span></span>방송 시 마다</label>
							</div>
						</div>

						<strong class="label">수신 동의</strong>
						<div class="form-list mb24">
							<div class="form-wrap">
								<input type="checkbox" name="chk_03" id="chk_03_01" value="1" onclick="sbmOn();" checked="checked">
								<label for="chk_03_01"><span></span>[필수] 마케팅 정보 수신동의</label>
							</div>
						</div>

             <div class="box-gray radius">
							<ul class="dot-list">
								<li>방송 30분전에 알림톡 또는 SMS로 발송됩니다.</li>
								<li>오후 21:00~익일 오전 09:00 사이 방송의 경우 20:00에 안내 SMS/알림톡이 발송됩니다.</li>
                <li>방송알림은 최대 100개까지 등록 가능합니다.</li>
                <li>신청 후 최대 3개월까지 보관되며, 상품이 판매중단된 경우 자동으로 삭제됩니다.</li>
							</ul>
						</div>
					</div>
					<button type="button" class="btn m-l black mt24" id="btnSbm" onclick="alarmSubmit()">신청하기</button>
				</div>
				<button type="button" class="btn-popup-close" onclick='popup.close("#onair-notice-popup")'>팝업 닫기</button>
			</div>
		</div>
		
    











 





 
   
 
 
 


    



  
              
  
  






    
		
		<div class="popup full" id="onair-notice-c-popup">
			<div class="popup-inner">
				<div class="popup-header">
					<h2>방송 알림 신청 완료</h2>
				</div>
				<div class="popup-content">
					<div class="type-card mt16">
						<div class="goods-detail">
							<a href="#" class="thum-area">
								<img src="/moassets/images/_temp/thum01.png" alt="[ODV] 20FW 오디브 시그니처 폭스퍼 롱">
							</a>
							<div class="info-txt-area">
								<a href="#" class="txt type-line2"><strong>TV쇼핑</strong> [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴 [ODV] 20FW 오디브 시그니처 폭스퍼 롱블려 블랴</a>
							</div>
						</div>
					</div>

					<ul class="form-output">
						<li>
							<span class="item">기간</span>
							<span class="data">1개월</span>
						</li>
						<li>
							<span class="item">횟수</span>
							<span class="data">1</span>
						</li>
						<li>
							<span class="item">수신 동의</span>
							<span class="data">동의</span>
						</li>
					</ul>
					<button type="button" class="btn l-l white border-b end" id="alarmList">방송알림 내역 보기</button>
				</div>
				<button type="button" class="btn-popup-close" onclick='popup.close("#onair-notice-c-popup")'>팝업 닫기</button>
			</div>
		</div>
		
    <script>
    $(document).ready(function(){
      $("#alarmList").click(function(){
					window.location.href = "/mypage/broadAlarm/list";
					popup.close("#onair-notice-c-popup");
      });
    });
    </script>
    <script>
    
    var selAlarm;
    var mainYn;
    
    
    function alarmSubmit(){
      var now = new Date();
      var period = $("input[name='chk_01']:checked").val();
      if(period == '1'){
        now.setMonth(now.getMonth()+1);
      }else if(period == '2'){
        now.setMonth(now.getMonth()+2);
      }else{
        now.setMonth(now.getMonth()+3);
      }
      var endDate = now.toISOString().substring(0,10).split("-").join("/");
      var repeat = $("input[name='chk_02']:checked").val();
      var agreeFlag = $("input[name='chk_03']:checked").val();
      var goodsCode = $("#onair-notice-popup").find('.thum-area').children(':hidden').val();
      var data = {
          						custNo : "", 
      								goodsCode : goodsCode,
      								endDate : endDate,
      								period : period,
      								repeat : repeat,
      								agreeFlag : agreeFlag
      								};
      $.ajax({
    		url : "/broadcast/tvBroadcastAlarm",
    		type: 'POST',
    		data: data,
    		async : true,
    		dataType : 'json',
    		headers: {
    			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    		},
    		success: function(data){
    		  if(data.resultData.status == 200) {
    		    if(mainYn == 'ONAIRBUYBTN') {
    		      $(selAlarm).prev().addClass('is-active');
    		    } else if(mainYn != 'MAIN') {
    		      $(selAlarm).addClass('is-active');
    		    }
    		    
    		    console.log("productID : "+$('a.thum-area input').val());
    		    console.log("name : "+$('#goodsName').val());
    		    console.log("price : "+$('#shoppingntAmt').val());
    		    console.log("currency : "+$('#goods1').val());
    		    
    		    var item_type =$('#goods1').val().split('_')[0];
    		    var item_state = $('#goods1').val().split('_')[1];
    		    
    		    window.dataLayer.push({
    		      'event'  : 'click_broadCast_notifications',
    		      'prd_id' : $('a.thum-area input').val(),
    		      'prd_name' : $('#goodsName').val(),
    		      'prd_price' : $('#shoppingntAmt').val(),
    		      'item_type' : item_type,
    		      'item_state' : item_state,
    		      'opt_period' : period,
    		      'opt_number' : repeat 
    		    });
    		    
    		    
    		    
    		    alarmConfPopOpen(period,repeat,agreeFlag);
    		  } else if (data.resultData.errorCode == 101) { 
            
						alert("방송알림 설정은 최대 100개까지 가능합니다.");
    		    popup.close("#onair-notice-popup");
    		  } else {
    		    alert(data.resultData.message);
    		    window.location.href = "/mypage/broadAlarm/list";
    		  }
    		},
    		error:function(request,status,error){
          console.log("request",request);
          console.log("status",status);
          console.log("error",error);
      }
    	});
    }
    
    function alarmConfPopOpen(period,repeat,agreeFlag){
      var nperiod = $(".form-wrap").find('label[for=chk_01_0'+period+']').html().replace(/(<([^>]+)>)/gi,'');
      var idxrepeat = parseInt(repeat)+1;
      var nrepeat = $(".form-wrap").find('label[for=chk_02_0'+idxrepeat+']').html().replace(/(<([^>]+)>)/gi,'');
      if(agreeFlag == '0'){
        var idxagreeFlag = '2';
      }else{
      	var idxagreeFlag = agreeFlag;
      }
      var nagreeFlag = $(".form-wrap").find('label[for=chk_03_0'+idxagreeFlag+']').html();
      
      $("#onair-notice-c-popup").find('ul.form-output').children().first().find('.data').text(nperiod);	
      $("#onair-notice-c-popup").find('ul.form-output').children().eq(1).find('.data').text(nrepeat);	
      
      if(nagreeFlag == undefined) {
        $("#onair-notice-c-popup").find('ul.form-output').children().last().find('.data').text('비동의');
      } else {
        $("#onair-notice-c-popup").find('ul.form-output').children().last().find('.data').text('동의');
      }
      
      popup.open('#onair-notice-c-popup');
			popup.close('#onair-notice-popup');
    }
    
	  function alarmPopOpen(goodsName, goodsCode, imageUrl, shoppingntAmt, tvIconYn, goodsDetailYn, broadAlertYn, $this, broadOrderYn) {
      var isActive = $($this).hasClass('is-active');
      selAlarm = $this;
      mainYn = goodsDetailYn;
      $('input:checkbox[name="chk_03"]').prop('checked',true);
      sbmOn();
      
      
      var goods1 = "";
      
	    if(tvIconYn == "Y") {
	      goods1 = 'TV편성';
	    } else {
	      goods1 = '일반';
	    }
   
     if(broadOrderYn == "1") {
       $('#goods1').val(goods1+'_온에어');
     } else {
       $('#goods1').val(goods1+'_OSMU');
     }
      
      $('#shoppingntAmt').val(shoppingntAmt);
      $('#goodsName').val(goodsName);
      
      
      

      
      
      
	    if(goodsDetailYn == 'Y'){
        var url = "/display/goods/"+goodsCode;
      } else if(goodsDetailYn == 'MAIN') {
        var url = "";
      } else { 
        var url = "/broadcast/tvBroadcastMain";
      }
	    if (ISLOGIN != 'Y') {
	      if(confirm("로그인 후 이용 가능합니다.\n로그인페이지로 이동하시겠습니까?")){
	        window.location.href = "/member/login?returnUrl=" + url;
        } return
      } else {
        var params = new Object();
        params['goodsCode'] = goodsCode;
        
        $.ajax({
      		url : '/broadcast/broad-alarm-list',
      		data: params,
      		dataType : 'json',
      		headers: {
      			"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
      		},
      		success: function(data){
      		  if(data.resultData.broadAlarmList.length > 0) {  
              
							alert("이미 등록된 알림입니다. 마이페이지로 이동합니다.");
              window.location.href = "/mypage/broadAlarm/list";
      		  } else {
      		    openOnAirPop(goodsName, goodsCode, imageUrl, shoppingntAmt, tvIconYn, $this);          		    
      		  }
      		},
      		error:function(request,status,error){
            console.log("request",request);
            console.log("status",status);
            console.log("error",error);
        }
      	});
      }
    };
	  
	  function openOnAirPop(goodsName, goodsCode, imageUrl, shoppingntAmt, tvIconYn, $this) {
	    var url = location.href;
	    
	    if (url.indexOf("#onair-notice-popup") < 0) { 
	      window.history.pushState('forward', null, null);
	    }
	    
	    $('input[name="chk_01"]')[0].checked = true;
	    $('input[name="chk_02"]')[0].checked = true;
	    
	    if (tvIconYn != 'Y') {
		    $("#onair-notice-popup").find('.txt').text(goodsName);
		    $("#onair-notice-c-popup").find('.txt').text(goodsName);
	    } else {
	      $("#onair-notice-popup").find('.txt').html("<strong>TV쇼핑</strong> "+goodsName);
		    $("#onair-notice-c-popup").find('.txt').html("<strong>TV쇼핑</strong> "+goodsName);
	    }

	    //var dimResizeVal = "";
	    
	    
	    $("#onair-notice-popup").find('.thum-area').html("<input type=hidden value="+goodsCode+"><img src=https://img.shoppingntmall.com"+imageUrl+" data-width=80 data-height=80 alt="+goodsName+" onerror=$.eshopfront.cmm.emptyImg(this)>");
	    
	    
	    $("#onair-notice-c-popup").find('.thum-area').html("<input type=hidden value="+goodsCode+"><img src = https://img.shoppingntmall.com"+imageUrl+" data-width=80 data-height=80 alt="+goodsName+" onerror=$.eshopfront.cmm.emptyImg(this)>");

	    popup.open('#onair-notice-popup');
	  }
	  
    
    function sbmOn() {
      const checkbox = $('#chk_03_01').is(':checked');
      if(checkbox == true){
        $('#btnSbm').attr('disabled', false);
      } else {
        $('#btnSbm').attr('disabled', true);
      }
    };
    </script>

              <temp id="broadOptPop">
              </temp>
            
            
          
        
        
             
    </main>
    
      











 





 
   
 
 
 


    



  
              
  
  










<footer id="footer">
  
    
    <div class="notice-area">
      <h2>NOTICE</h2>
      <div class="notice-slide-wrap">
        <ul class="swiper-wrapper">  
          
            <li class="swiper-slide">
              <a href="/customer/notice/detail?board_no=B00000000245"> 
                <span class="date">25.12.05</span> 
                <span class="txt">개인정보처리방침 개정 안내</span>
              </a>
            </li>
          
            <li class="swiper-slide">
              <a href="/customer/notice/detail?board_no=B00000000244"> 
                <span class="date">25.11.20</span> 
                <span class="txt">개인정보처리방침 개정 안내</span>
              </a>
            </li>
          
            <li class="swiper-slide">
              <a href="/customer/notice/detail?board_no=B00000000243"> 
                <span class="date">25.10.02</span> 
                <span class="txt">개인정보처리방침 개정 안내</span>
              </a>
            </li>
          
            <li class="swiper-slide">
              <a href="/customer/notice/detail?board_no=B00000000242"> 
                <span class="date">25.09.19</span> 
                <span class="txt">개인정보처리방침 개정 안내</span>
              </a>
            </li>
          
        </ul>
      </div>
      <a href="/customer/notice" class="btn-noti">공지사항 바로가기</a>
    </div>
    
    <ul class="fnb cf type-3">
      
        
        
          <li><a href="javascript:openPopupAppDown()">앱다운로드</a></li>
        
      
      <li><a href="/customer/main">고객센터</a></li>
      
        
          <li>
            <a href="javascript:$.eshopfront.cust.logout();">로그아웃</a>
            <form id="logoutForm" name="logoutForm" action="/auth/logout" method="get">
              <input type="hidden" id="returnUrl" name="returnUrl" value="/">
            </form>
          </li>
        
        
      
    </ul>
    <ul class="fnb cf type-1">
      <li><a href="https://www.trncompany.co.kr/main/main.do" target="_blank">회사소개</a></li>
    </ul>
    <!-- 사업자 정보 영역 START-->
    
    <meta name="color-scheme" content="light"><!-- 다크모드 방지 -->
<div class="f-trn-info"><span class="f-logo">TRN</span>
<div class="trn-info-wrap">
<div class="btn-wrap"><button class="btn-trn" type="button">(주) 티알엔 사업자 정보</button></div>

<div class="trn-info-detail">
<p>대표이사 : 한상욱</p>

<p>사업자등록번호 : 116-81-50973</p>

<address>주소 : 서울특별시 중구 동호로 310 별관 (장충동 2가, 태광산업)</address>

<p>대표전화 : 1866-0023 (유료)</p>

<p>이메일 : <a href="mailto:help@trncompany.co.kr">help@trncompany.co.kr</a></p>

<p>통신판매업신고 : 2010-서울중구-1670호</p>

<p>개인정보보호책임자 : 조태홍<span class="foot-span">&nbsp;</span>청소년보호책임자 : 장우석</p>
</div>

<div class="trn-policy">
<ul class="cf">
	<li><a href="javascript:void(0);" onclick="openMarginView('https://www.trncompany.co.kr/etc/etc02Snt.do?ref=topmargin')">이용약관</a></li>
	<li><a href="javascript:void(0);" onclick="openMarginView('https://www.trncompany.co.kr/etc/etc03Snt.do?ref=topmargin')"><strong>개인정보처리방침</strong></a></li>
	<li><a href="javascript:void(0);" onclick="openMarginView('https://www.trncompany.co.kr/etc/etc05Snt.do?ref=topmargin')">청소년보호정책</a></li>
</ul>

<ul class="cf">
	<li><a href="javascript:void(0);" onclick="openMarginView('https://www.trncompany.co.kr/etc/etc04Snt.do?ref=topmargin')">영상정보처리방침</a></li>
	<li><a href="javascript:void(0);" onclick="openMarginView('http://www.ftc.go.kr/bizCommPop.do?wrkr_no=1168150973&amp;ref=topmargin')">사업자정보 확인</a></li>
</ul>

<ul class="cf hana">
	<li><a href="javascript:void(0);" onclick="guarantee();">하나은행 채무 지급보증 안내</a></li>
</ul>

<p class="copy">Copyright 2013. trn inc. all rights reserved.</p>
</div>
<img alt="내일을 밝히는 큰빛 ESG" class="egs-logo" src="https://img.shoppingntmall.com/htmleditor/537/esg1710479273414.png" />
<div class="footer-bottom"><a href="https://kolsa.or.kr/" target="_blank"><img alt="한국 온라인 쇼핑 협회" src="https://img.shoppingntmall.com/htmleditor/396/21722386470808.png" /></a> <a href="http://www.kotca.org/" target="_blank"><img alt="한국데이터 홈쇼핑협회" src="https://img.shoppingntmall.com/htmleditor/396/31722386474489.png" /></a> <a href="javascript:void(0);" onclick="popup.open('#pop-ccm');"><img alt="CCM 소비자중심" src="https://img.shoppingntmall.com/htmleditor/396/41722386478203.png" /></a> <!-- <a href="javascript:void(0);" onclick="popup.open('#pop-isms');"><img src="https://img.shoppingntmall.com/htmleditor/396/51722386482011.png" alt="ISMS"></a> --></div>

<div class="footer-bottom"><img alt="ISMS" src="https://img.shoppingntmall.com/htmleditor/396/51722386482011.png" />
<p>정보보호 관리체계 인증<br />
인증 범위 : T-커머스 및 모바일 서비스 운영(쇼핑엔티)<br />
유효기간 : 2025.05.04~2028.05.03</p>
</div>
</div>
<a class="tel-link" href="tel:1866-0023">1866-0023 (유료)</a></div>

<div class="popup full scroll" id="pop-ccm">
<div class="popup-inner">
<div class="popup-header">
<h2>소비자중심경영 (CCM) 인증</h2>
</div>

<div class="popup-content mg0">
<div class="hanabank-img-area"><img alt="소비자중심경영 (CCM) 인증" src="https://img.shoppingntmall.com/htmleditor/107/ccm1722387766955.png" /></div>
</div>
<button class="btn-popup-close" onclick="popup.close(&quot;#pop-ccm&quot;)" type="button">팝업 닫기</button></div>
</div>

<div class="popup full scroll" id="pop-isms">
<div class="popup-inner">
<div class="popup-header">
<h2>정보보호 관리체계 (ISMS) 인증</h2>
</div>

<div class="popup-content mg0">
<div class="hanabank-img-area"><img alt="정보보호 관리체계 (ISMS) 인증" src="https://img.shoppingntmall.com/htmleditor/107/isms1722387772145.png" /></div>
</div>
<button class="btn-popup-close" onclick="popup.close(&quot;#pop-isms&quot;)" type="button">팝업 닫기</button></div>
</div>
<script>
    function openMarginView(url) {
        // 마진뷰가 지원되지 않는 경우 기본 새 창에서 열기
        if (window.open) {
            window.open(url, '_blank');
        } else {
            location.href = url;  // 새 창을 못 열 경우, 현재 창에서 이동
        }
    }
</script><script>
  //전문관에 티페스타 이미지 gnb
  $(function(){
    const targetText = 'T페스타';
    const imgSrc = 'https://img.shoppingntmall.com/htmleditor/370/sss1762418124684.gif';

    $('#gnb-wrap .swiper-slide span').each(function(){
      const text = $(this).text().trim();
      if (text === targetText) {
        $(this).html('<img src="'+imgSrc+'" alt="'+targetText+'">');
      }
    });
  });
</script>

<style>
/* 25-11-28 전문관 BG스와이퍼 텍스트 오류로 추가 */
.so-top-banner .txt-wrap .txt0 {display:block;}
</style>
  
  <!-- 사업자 정보 영역 END-->
  
    <div class="btn-f-area">
      <button type="button" onclick="comTargetPage('forward');" class="btn-forward-go" style="display: none;">앞페이지로 이동</button>
      <button type="button" onclick="comTargetPage('prev');" class="btn-prev-go" style="display: none;">이전페이지로 이동</button>
      <button type="button" class="btn-top-go">상단으로 이동</button>
      
      
      
      
          
            
              <a href="/customer/rcnt/list" class="btn-recen-go">
                  <img src="https://img.shoppingntmall.com/goods/903/13786903_h.jpg" alt="NNF 23FW 여성 이지 트레이닝 3종" onerror="$.eshopfront.cmm.emptyImg(this);">
              </a>
            
          
      
      
      
    </div>
  
</footer>




<div id="flotPopupDiv"></div>





  

  
    
    
    
  

  

  

  

  

  



<div class="pop-onair" data-enty-src-cd="ONAR0000"> 
	<div class="pop-onair-con">
		<div class="re-wrap no-line"><div class="re-pd">
			<div class="re-h3"><h3>지금 방송중인 상품</h3></div>
			<div class="re-detail-wide re-detail-tv">					
				<div class="re-detail">
					
					<div class="re-thum">
						<button type="button" class="btn-mov-play" id="video-on-paly" onclick="playOnairVideojs($(this), '/live/10011.m3u8','true','99');" >재생</button>							
						<div class="re-video-wrap">																			    
							<video id="video99" class="video-js vjs-default-skin" controls playsinline>
								<!-- <source src="" type="application/x-mpegURL"> -->
							</video>
							<button type="button" class="btn-mov-close" id="video-close99">닫기</button>
							<div class="re-thum-tost">5G / LTE 등의 환경에서는<br>데이터 요금이 발생할 수 있습니다.</div>
						</div>
            <img src="https://img.shoppingntmall.com/goods/323/22923323_info19.jpg" data-width="323" data-height="183" alt="[완벽더블찬스]동국제약 25년 NEW 마데카크림 9통 " onerror="$.eshopfront.cmm.emptyImg(this);">
						<div class="badge-onair">ON AIR</div>
					</div>
          
          
  					<a href="/display/goods/22923323" class="re-txt">
  						<div class="txt-title"><span class="tv">TV쇼핑</span>[완벽더블찬스]동국제약 25년 NEW 마데카크림 9통 </div>
  						<div class="txt-price">
              
                  
                      
                          
                      
                      
                  
              
                  
                    
                      
        							<span>80,100</span>
                      <em>원</em>
                    
                    
                  
                  
                   
                      
                        <p>89,000원</p>
                      
                      
                    
  						</div>
  					</a>
          
            
               
               
               
                  <a href="/display/goods/22923323">
                    <button type="button" class="btn-buynow-bg">바로 구매</button> 
                  </a>
               
             
          
          
					
				</div>
			</div>
			
      
      
      
		</div></div>
	</div>
	<div class="pop-onair-dim"></div>
</div>



  
  <ul class="tab-bar-re">
      
    <li class="bar-home ">
      <a href="/">
        홈
      </a>
    </li>
    <li class="bar-cate">
      <a href="javascript:" onclick="openCategoryPopup();">
        카테고리
      </a>
    </li>
    <li class="onair"><a href="javascript:;"><span>ON<br>AIR</a></span></li>
    <li class="bar-my">
      
        
          
          
        
        
      
      <a href="/mypage/mymain">마이페이지</a>
    </li>
    <li class="bar-ai">
      <!-- 버즈니 쇼핑톡 마이크 체크 -->
      
        
        
          
        
      
      
      
      <a href="https://www.oksoon.ai/chat?shop=shopnt&d_key=202411248309&record_available=false" onclick="return openBuzzniChatAssistant();">AI쇼핑톡</a>
    </li>
  </ul>
  
    <script
      src="https://cdn.static.hsmoa.com/ok-sdk/entries/release/chat-assistant-bundle.js"
      defer
      data-d-key="202411248309"
      data-shop="shopnt"
      data-right="24"
      data-bottom="0"
      data-entry-image="/moassets/images/common/AIshoppingTalk_img.png"
      data-coach-image=""
      data-primary="#F50D87"
    >
    </script>
  
  <script type="text/javascript">
  $(document).ready(function(){
    
    // 앱푸시 알림 New 여부 체크
    var device = "02";
    if(device == '03'){
      // checkFooterAppPushNew();
    }
    //세이프캐시로 인한 선택적 앱 업데이트 체크
    safecashAppCheck();
  });
  
 	function checkFooterAppPushNew() {
    
    $.ajax({
      url : "/common/push-msg/new",
      type : "get",
      headers: {
        'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
      },
      dataType : "json",
      success : function(data) {
        var pushMsgNew = data.resultData.pushMsgNew;
        //console.log("Footer pushMsgNew : "+pushMsgNew);
        if(pushMsgNew == 'Y'){
          $(".ico.mypage").addClass("is-active");
        }else{
         	$(".ico.mypage").removeClass("is-active");
        }
      },
      error: function(err) {
        console.error(err);
      }
    });          
    
	}
 	
    //버즈니 챗 어시스턴트
    function openBuzzniChatAssistant() {
      if (isApp()) {
        // 앱버전체크
        // [ITSR-9485] 2024.07 현재 운영버전 IOS: 2.7.6,   AOS: 2.8.0
        var updateVersion = '';
        if (isAndroid()) updateVersion = '2.8.1'; // AI쇼핑톡이 가능한버전으로 체크
        if (isIOS()) updateVersion = '2.7.7'; // AI쇼핑톡이 가능한버전으로 체크
        if ((compareVersionsMo('', updateVersion) // AI쇼핑톡이 가능한 버전보다 낮을경우에만 업데이트 유도
            || (isIOS() && 'false' && compareVersionsMo('', '2.8.2')) // AI쇼핑톡 IOS mic 사용가능 버전 체크
            || (isAndroid() && compareVersionsMo('', '2.8.5')) // AI 쇼핑톡 AOS mic 사용가능 버전 체크
            )
            && SERVER_TYPE == 'prd') {
          var msg = "해당 서비스를 이용하기 위해서 앱 업데이트가 필요합니다."
                  + "\n스토어로 이동하시겠습니까?";
          if(confirm(msg)) { 
            goAppDown();
            return false;
          } else {
            return false;
          }
        }
        return true;
      } else {
        $('#ok-entry-btn').click();
        return false;
      }
    }
    
  	//세이프캐시 이슈로 앱 체크
    function safecashAppCheck() {
      if (isApp()) {
        if (sessionStorage.getItem("safecashChecked") !== "Y") {
         		// 체크 완료 표시
            sessionStorage.setItem("safecashChecked", "Y");

            // 앱버전체크
            // [ITSR-10879] 운영 앱 AOS: 2.9.1, IOS: 2.8.8
            var updateVersion = '';
            if (isAndroid()) updateVersion = '2.9.1'; // 세이프캐시 정상적으로 가능한 버전으로 체크
            if (isIOS()) updateVersion = '2.8.8'; 			// 세이프캐시 정상적으로 가능한 버전으로 체크
            if (compareVersionsMo('', updateVersion)
                && SERVER_TYPE == 'prd'
                ) {
              var msg = "더 나은 서비스를 위해 앱이 업데이트 되었습니다."
                      + "\n지금 업데이트 하시겠습니까?";
              if(confirm(msg)) {
                goAppDown();
                return false;
              } else {
                return false;
              }
            }
            return true;
          }
      } else {
        return false;
      }
    }
  </script>

<script type="text/javascript">
  function guarantee() {
    if($("#termsPopUp > div").length > 0) $("#termsPopUp").empty();
    $.ajax({
      url : "/display/terms/guarantee",
      type : "post",
      headers: {
        'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
      },
      dataType : "json",
      success : function(data) {
        
        // 내용
        var guaranteeStr = data.resultData.txt;
        var resultHtml = guaranteeStr.replace(/&amp;/g, "&").replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, "\"").replace(/&#39;/g, "\'"); 
        $("#termsPopUp").append(resultHtml);
        popup.open("#termsPopUp > div");
      }
    });
  }
</script>












 





 
   
 
 
 


    



  
              
  
  








<div class="popup app-down" id="app-down-popup">
	<div class="popup-inner">
		<strong class="tit">앱에서 혜택가를 확인 하시겠습니까?</strong>
		<div class="btn-area half mt24">
			<button type="button" class="btn m-l white border-b" onclick='popup.close("#app-down-popup")'>닫기</button>
			<button type="button" class="btn m-l black border-b" onclick="goAppDown()">앱 다운 바로가기</button>
		</div>
	</div>
</div>


<script>
  // 앱 다운로드 팝업
  function openPopupAppDown() {
    popup.open("#app-down-popup");
  }
</script>

    
    











 





 
   
 
 
 


    



  
              
  
  







<div class="popup full scroll" id="category-popup">
  <div class="popup-inner">
    <div class="popup-header type-category">
      <div class="category-top">
        
          
            <a id="mbr-info" href="/mypage/mymain"><strong>테스트vip</strong>님 안녕하세요</a>  
          
          
        
        
      </div>
      <div class="shop-info">
        <a href="/mypage/order/list" class="order-deli">주문 배송&nbsp;<strong>0</strong></a>
        <a href="/mypage/saveamt" class="saving">적립금&nbsp;<strong>0</strong></a>
        <a href="/mypage/coupon/list" class="coupon">보유쿠폰&nbsp;<strong>0</strong></a>
      </div>
      <script type="text/javascript">
      	function openCategoryPopup() {
      	  var device = "02";  //* 세션 정보 값(01:PC_WEB, 02: 모바일 WEB, 03: 모바일 APP)
      	  var osCd = "";         //* 세션 정보 값 (01: 안드로이드, 02: IOS)
      	  if (device === "03") {
            if (osCd === "02") {
              window.webkit.messageHandlers.shoppingntapp.postMessage("appCategoryShow");
            } else {
              window.shoppingntapp.appCategoryShow();
            }
          }
        	
          $.ajax({
            url : "/app/mbr/cust-info",
            type : "get",
            headers: {
              'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
            },
            dataType : "json",
            success : function(data) {
              setSSValue("ORD_CNT", data.resultData.ordCnt);
              setSSValue("COUPON_CNT", data.resultData.couponCnt);
              setSSValue("USABLE_SAVEAMT", data.resultData.usableSaveamt);
            },
            error: function(err) {
              console.error(err);
            }, complete: function() {
              $("a.order-deli > strong").text($.eshopfront.cmm.setComma(getSSValue("ORD_CNT")));
           	  $("a.saving > strong").text($.eshopfront.cmm.setComma(getSSValue("USABLE_SAVEAMT")));
           	  $("a.coupon > strong").text($.eshopfront.cmm.setComma(getSSValue("COUPON_CNT")));
           	  getRecently();
            }
          });
          

          if (device === "03") {
            
           /*  $.ajax({
              url : "/common/push-msg/new",
              type : "get",
              headers: {
                'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
              },
              dataType : "json",
              success : function(data) {
                var pushMsgNew = data.resultData.pushMsgNew;
                //console.log("Category pushMsgNew : "+pushMsgNew);
                if(pushMsgNew == 'Y'){
                  $(".util-category > .noti").addClass("is-active");
                }else{
                  $("util-category > .noti").removeClass("is-active");
                }
              },
              error: function(err) {
                console.error(err);
              }
            });  */         
            
          }

      	}
      	
      	function getRecently(){
          $.ajax({
            url : "/common/getRecently",
            type : "get",
            headers: {
              'X-CSRF-TOKEN': $('meta[name="X-CSRF-TOKEN"]').attr('content')
            },
            dataType : "html",
            success : function(data) {
              $('.recently').remove();
              $('.brand-more').after(data);
            },
            error: function(err) {
              console.error(err);
            }, complete: function() {
              popup.open("#category-popup");
            }
          });
      	}
      </script>
    </div>
    
    
    
        
    
    <div class="popup-content pg0">
      
      <div class="sec-tit">
        <h2>카테고리</h2>
      </div>
      <ul class="category-list">
        
          <li>
            <a href="/category/g-list-cate/90000350">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90000350/BN0000000283.jpg" data-width="44" data-height="44" alt="TV쇼핑/적립" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>TV쇼핑/적립</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000001">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000001/BN0000000288.jpg" data-width="44" data-height="44" alt="패션의류/언더웨어" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>패션의류/언더웨어</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000007">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000007/BN0000000292.jpg" data-width="44" data-height="44" alt="식품/건강" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>식품/건강</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000009">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000009/BN0000000296.jpg" data-width="44" data-height="44" alt="가전/디지털" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>가전/디지털</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000003">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000003/BN0000000300.jpg" data-width="44" data-height="44" alt="뷰티" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>뷰티</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000005">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000005/BN0000000304.png" data-width="44" data-height="44" alt="주얼리/시계" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>주얼리/시계</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000004">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000004/BN0000001852.jpg" data-width="44" data-height="44" alt="잡화/슈즈/명품" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>잡화/슈즈/명품</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90000677">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90000677/BN0000000308.jpg" data-width="44" data-height="44" alt="침구/카페트/커튼" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>침구/카페트/커튼</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000008">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000008/BN0000000312.jpg" data-width="44" data-height="44" alt="생활/주방" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>생활/주방</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90001087">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90001087/BN0000001859.png" data-width="44" data-height="44" alt="출산/유아동" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>출산/유아동</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000002">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000002/BN0000001864.jpg" data-width="44" data-height="44" alt="스포츠/레저" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>스포츠/레저</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000006">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000006/BN0000000316.png" data-width="44" data-height="44" alt="가구/인테리어소품" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>가구/인테리어소품</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/20000010">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/20000010/BN0000001733.jpg" data-width="44" data-height="44" alt="여행/렌탈/서비스" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>여행/렌탈/서비스</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90000777">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90000777/BN0000000360.jpg" data-width="44" data-height="44" alt="문구/취미/반려" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>문구/취미/반려</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90000294">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90000294/BN0000001871.png" data-width="44" data-height="44" alt="중소기업 테마관" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>중소기업 테마관</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90001331">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90001331/BN0000017317_20250313110330.png" data-width="44" data-height="44" alt="새벽시장" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>새벽시장</span>
            </a>
          </li>
        
          <li>
            <a href="/category/g-list-cate/90001356">
              <div class="cat-img"><img src="https://img.shoppingntmall.com/category/90001356/BN0000018626_20251106152002.png" data-width="44" data-height="44" alt="티나는밥상" onerror="$.eshopfront.cmm.emptyImg(this);"></div>
              <span>티나는밥상</span>
            </a>
          </li>
        
      </ul>
      
      
      <div class="coupon-event-list" style="display:none;">
        <ul class="swiper-wrapper">
          
        </ul>
      </div>
      <script>
        var couponEvent = new Swiper(".coupon-event-list", {
          slidesPerView: 1.2,
          spaceBetween: 8,
          grabCursor: true,
					watchOverflow : true //09-19 피설현 대리 요청으로 추가
        });
      </script>
      
      <div class="sec-tit">
        <h2>쇼핑엔티 서비스</h2>
      </div>
      <div class="trn-service-list">
        <ul class="swiper-wrapper">
          
          
          
          
            
          
            
              
              
              
                <li class="swiper-slide"><ul>
                <li><a href="/plan/planshop/swipeDetail/S00000000733">TV쇼핑</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/broadcast/tvBroadcastMain">편성표</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/plan/planshop/swipeDetail/S00000001942">T페스타</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/plan/planshop/swipeDetail/S00000001954">단하루특가</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/carefood/carefoodMain">티나는 밥상</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/plan/planshop/swipeDetail/S00000001637">농축산할인</a></li>
                
                  
                
                  </ul></li>
                  
                    
                
              
            
          
            
              
              
              
                <li class="swiper-slide"><ul>
                <li><a href="/plan/planshop/swipeDetail/S00000001788">겨울패션관</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/showtimedeal/showTimeDealMain">타임특가</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/deal/dealMain">쇼핑엔딜</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/showmart/showmartMain">새벽시장</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/template/brand-template-main">브랜드관</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/spex/spexMain">기획전</a></li>
                
                  
                
                  </ul></li>
                  
                    
                
              
            
          
            
              
              
              
                <li class="swiper-slide"><ul>
                <li><a href="/event/eventMain">이벤트</a></li>
                
                  
                
              
            
          
            
              
              
              
                
                <li><a href="/display/best/bestMain">베스트</a></li>
                
                  
                
                  </ul></li>
                  
                    
                
              
            
           
        </ul>
        <div class="swiper-pagination"></div>
      </div>
			<script>
				var couponEvent = new Swiper(".trn-service-list", {
					autoHeight: true,//09-13 옵션추가 #23665 LNB 서비스항목 스와이퍼 옵션 수정 피설현대리 요청으로 추가
					grabCursor: true,
					pagination: {
      						el: '.swiper-pagination'
    					},
					watchOverflow : true //09-19 피설현 대리 요청으로 추가
				});
			</script>
      
      
      <div class="sec-tit type-boder-none" >
        <h2>브랜드</h2>
      </div>
       
      <div class="brand-more" >
        <a href="/display/brandSearch" class="link-brand-search">브랜드 찾기</a>
      </div>
      
      
      <div class="categoty-bottom-menu is-two">
       
          
            <a href="javascript:$.eshopfront.cust.logout();">로그아웃</a>
          
          
        
        <a href="/customer/main">고객센터</a>
        
      </div>
      <div class="customer-num-area">
        <a href="tel:080-130-1010" title="새창으로 쇼핑엔티 문의에 문의하기"><span>쇼핑엔티 문의</span>&nbsp;<strong>080-130-1010</strong></a>
      </div>
    </div>
    <button type="button" class="btn-popup-close" onclick='closeCategoryPopup()'>팝업 닫기</button>
    
      <script type="text/javascript">
        function closeCategoryPopup() {
          popup.close("#category-popup");
          $("div.shop-info > .order-deli > strong").text("");
          $("div.shop-info > .saving > strong").text("");
          $("div.shop-info > .coupon > strong").text("");
        }
      </script>
  </div>
</div>
  
    <div id="termsPopUp"></div>
    











 





 
   
 
 
 


    



  
              
  
  









<!-- 제휴 할인 팝업 -->


<!-- 메인슬라이드 팝업 -->




<!-- 앱설치 유도 팝업 -->


<!-- 앱설치 유도 팝업 이미지 텍스트형 -->


<!-- 엡 종료 팝업 -->


<!-- 플로팅 배너 -->
 <!-- 공통팝업 관련 -->
    
    
    











 





 
   
 
 
 


    



  
              
  
  







  <!-- AceCounter Mobile WebSite Gathering Script V.7.5.2019080601 -->
  <!-- 
  //* 20220729 aceCounter 광고스크립트 제거 - 계약 만료 
  <script type="text/javascript">
      var _AceGID=(function(){var Inf=['m.shoppingntmall.com','m.shoppingntmall.com','AZ3A78800','AM','1','NaPm,Ncisy','ALL','0']; var _CI=(!_AceGID)?[]:_AceGID.val;var _N=0;if(_CI.join('.').indexOf(Inf[3])<0){ _CI.push(Inf);  _N=_CI.length; } return {o: _N,val:_CI}; })();
      var _AceCounter=(function(){var G=_AceGID;var _sc=document.createElement('script');var _sm=document.getElementsByTagName('script')[0];if(G.o!=0){var _A=G.val[G.o-1];var _G=(_A[0]).substr(0,_A[0].indexOf('.'));var _C=(_A[7]!='0')?(_A[2]):_A[3];var _U=(_A[5]).replace(/\,/g,'_');_sc.src=(location.protocol.indexOf('http')==0?'https:':'http:')+'//cr.acecounter.com/Mobile/AceCounter_'+_C+'.js?gc='+_A[2]+'&py='+_A[1]+'&up='+_U+'&rd='+(new Date().getTime());_sm.parentNode.insertBefore(_sc,_sm);return _sc.src;}})();
  </script>
  <noscript><img src='http://gmb.acecounter.com/mwg/?mid=AZ3A78800&tp=noscript&ce=0&' border='0' width='0' height='0' alt=''></noscript> -->
  <!-- AceCounter Mobile Gathering Script End -->
  
  <!-- EIGENE Script Start -->
  <script type="text/javascript">
      window._eglqueue = window._eglqueue || [];
      _eglqueue.push(['setVar','cuid', '81e6109e-25a3-452d-8863-966af7a0f04b']);
      _eglqueue.push(['setVar','userId','202411248309']);
      _eglqueue.push(['track','visit']);
      (function(s,x){s=document.createElement('script');s.type='text/javascript';
      s.async=true;s.defer=true;s.src=(('https:'==document.location.protocol)?'https':'http')+
      '://logger.eigene.io/js/logger.min.js';
      x=document.getElementsByTagName('script')[0];x.parentNode.insertBefore(s, x);})();
  </script>
  <!-- EIGENE Script End -->
  
  
  <!-- HSMOA Target Script Start -->
  
  <!-- HSMOA Target Script End -->



<!-- Braze Init -->

<!-- Braze End -->

    











 





 
   
 
 
 


    



  
              
  
  








  </div>
  
  
  <div id="appCardArea"></div>
    
  <script type="text/javascript">
  	// 화면 로딩 후 touchState true
    $(document).ready(function() {
      if (isAndroid()) {
  			window.onpopstate = function(event) {
  			  if (popupIdList.length > 0) {
  					var delPopupId = popupIdList.at(-1);
  					if (delPopupId === '#push-noti-popup') {
  					  $('#pushMsgPopYes').trigger('click');
            } else {
              popup.close(delPopupId);              
            }
  			  } else {
  					window.history.back();
  				}
  			};
      }
      
      if (!$(location).attr('pathname').includes('/plan/planshop/swipeDetail')) {
        touchState = true;
      }
      
      var menuArr = new Array();
      var device = "02";
      if("" =="Y") {
        
        	//ITSR-8689
        	//var bestArea = document.querySelectorAll(".mainBestArea").length;
          //if (bestArea > 0) {
          //  var num = 0;
          //  var ani = setInterval(() => {
          //    num++;
          //    
          //      $.eshopfront.cmm.igenRecommendGoods('m014', '', '', '', 'mainBestArea','','mo_home_3');
          //      clearInterval(ani);
          //    if(num === 100) {
          //      clearInterval(ani); 
          //    }
          //  }, 100);
          //}
        
        if(isApp()) {
         if (window.webkit != undefined && window.webkit.messageHandlers != undefined && window.webkit.messageHandlers.shoppingntapp != undefined && window.webkit.messageHandlers.shoppingntapp.postMessage != undefined) {
         	window.webkit.messageHandlers.shoppingntapp.postMessage("appSetupVideo?"); // IOS
         } else {
           if("" == "Y") {
             window.shoppingntapp.appSetupVideo(); // AOS
           }
         }
        }
      }
    
      
        $.eshopfront.cmm.flotPopAjax($(location).attr('pathname'), 'ME0000000158');		// 플로팅 팝업 호출
      
      
      if ($.cookie("POS") != null) {
        $.removeCookie('POS', { path: '/' });                    
      }
    });
    
  	$(function(){
    	if(prevPage.indexOf(siteDomain) == -1){
    	  prevPage = "";
    	}
    	
    	if("" =="Y" && prevPage == ""){
    	  $(".btn-forward-go").hide();
    	  $(".btn-prev-go").hide();
    	}else if("" =="Y" && prevPage != ""){
        $(".btn-forward-go").show();
    	}else{
        $(".btn-prev-go").show();
      }
  
    	//뒤로가기 호출 시 reload 필요항목 정의 
    	$(window).bind("pageshow", function(event) {
  	    if($("#ssCartCount").length > 0){				// 장바구니 수량영역 존재 시
  				$.ajax({
          	url : '/common/setReloadCartCnt',
      	  	type : 'GET',
      	  	headers: {
      											"X-CSRF-TOKEN": $("meta[name='X-CSRF-TOKEN']").attr("content")
    											},
            success: function(result) {
              //console.log("result :"+ JSON.stringify(result));
              var data = result.resultData;
              //console.log(" data : "+ data);
              if( data != null && data >0){
              	if(data > 99){
              		$("#ssCartCount").html("99+");
              	} else {
              		$("#ssCartCount").html(data);
              	}
              }
            }
  				});
  			}
  		});  
  	});
  	
  	window.onload = function() {
  		// 재고 체크 호출
      if(stockChkGoods !="") {
      	$.eshopfront.cmm.stockChkGoods();
      }
    }
  </script> 
  
  <script src="https://static.criteo.net/cbs/prod/v3/BeaconSDK/bundle.js"
          data-dynamic-tracking="true"
          data-visualizer="true"
          data-debug="true"
          async></script>

</body>
<script>
    // criteo 앱일떄 크리테오용 광고ID 저장 로직
    window.addEventListener("load", () => {
        try {
            if (isApp()) {
                if (isIOS()) {
                    sendAppBridge("getRegisterAdId");
                }
                if (isAndroid()) {
                    shoppingntapp.getRegisterAdId();
                }
            }
        } catch (e) {
            // 앱 통신 오류 발생 시 무시
            console.error("Criteo Bridge Error ignored:", e);
        }
    });
    // getRegisterAdId 콜백 함수
    window.getRegisterAdIdResult = function(advertisingId, deviceType, result) {
        try {
            if (result === "SUCCESS") {
                const savedAdId = $.eshopfront.cmm.getCookie("advertisingId");
                // 쿠키가 없거나 값이 다르면 업데이트
                if (!savedAdId || savedAdId !== advertisingId) {
                    $.eshopfront.cmm.setCookieDays("advertisingId", advertisingId, 1);
                    $.eshopfront.cmm.setCookieDays("deviceType", deviceType, 1);
                }
            }
        } catch (e) {
            // 콜백 처리 오류 발생 시 무시
            console.error("Criteo Callback Error ignored:", e);
        }
    };
</script>
<style>
#main .main-contents:has(.re-detail-scroll-big .popup.open) {overflow: initial;}
#main .main-contents .re-detail-scroll-big:has(.popup.open) {overflow-x: initial;}
</style>
</html>